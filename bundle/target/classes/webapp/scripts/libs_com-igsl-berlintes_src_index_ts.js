(self.webpackChunkhelix=self.webpackChunkhelix||[]).push([["libs_com-igsl-berlintes_src_index_ts"],{"./libs/com-igsl-berlintes/src/lib/i18n/localized-strings.json":e=>{"use strict";e.exports={}},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='<span class="d-icon-left-note_pencil"></span>\n'},"./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.component.html":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i='\x3c!-- <p [classList]="inputParams.styles" [hidden]="inputParams.hidden">\n  {{inputParams.message}}\n</p> --\x3e\n<div>\n  <signature-pad class="signaturepad signaturepad--animated signaturepad--white"\n                 #signaturePad\n                 [options]="signaturePadOptions"\n                 (onBeginEvent)="drawStart()"\n                 (onEndEvent)="drawComplete()">\n  </signature-pad>\n</div>\n\n<div>\n  \x3c!-- <button adapt-button btn-type="primary"\n          size="default"\n          (click)="addSignature()">\n    <span>Add signature</span>\n  </button> --\x3e\n  \x3c!-- <button class="btn frosted" \n          adapt-button btn-type="secondary"\n          size="default"\n          (click)="clearSignature()">\n    <span class="frosted__children">Clear signature</span>\n  </button> --\x3e\n  <button class="btn frosted" \n          size="default"\n          (click)="clearSignature()">\n    <span class="frosted__children">Clear signature</span>\n  </button>\n</div>\n'},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.btn {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.btn, .btn:link, .btn:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 0.75rem; /* padding: 15px 40px */\n  border-radius: 6.25rem; /* 100px */\n  transition: all 0.5s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.btn:hover {\n  transform: translateY(-0.06rem);\n  box-shadow: 0.4rem 0.4rem 0.8rem rgba(220, 230, 250, 0.3), -2px -2px 0.8rem rgba(255, 215, 0, 0.2);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.btn:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.btn:active, .btn:focus {\n  outline: none;\n  transform: translateY(-0.0625rem);\n  box-shadow: 0.25rem 0.5rem 1rem rgba(220, 230, 250, 0.3);\n}\n\n.btn--white {\n  background-color: #fff;\n  color: rgb(59, 78, 147);\n}\n\n.btn--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.btn--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.btn--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.btn::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.2s ease;\n  -webkit-transition: all 0.2s ease;\n}\n\n.btn--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}\n\n.btn-text:link, .btn-text:visited {\n  font-size: 1.1rem;\n  color: rgb(157, 169, 225);\n  display: inline-block;\n  text-decoration: none;\n  border-bottom: 1px solid rgb(157, 169, 225);\n  padding: 3px;\n  transition: all 0.15s;\n}\n\n.btn-text:hover {\n  transform: translateY(-0.05rem);\n  background-color: rgb(177, 189, 235);\n  color: #fff;\n  box-shadow: 0 1rem 2rem rgba(255, 215, 0, 0.3);\n  border-radius: 1rem;\n}\n\n.btn-text:active {\n  box-shadow: 0 1rem 2rem rgba(220, 230, 250, 0.3);\n  transform: translateY(0);\n}\n\n.btn-secondary {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.btn-secondary, .btn-secondary:link, .btn-secondary:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 0.75rem; /* padding: 15px 40px */\n  border-radius: 6.25rem; /* 100px */\n  transition: all 0.1s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.btn-secondary:hover {\n  transform: translateY(-0.06rem);\n  box-shadow: 0.4rem 0.4rem 0.8rem rgba(220, 230, 250, 0.3), -2px -2px 0.8rem rgba(255, 215, 0, 0.2);\n  color: rgba(255, 255, 255, 0.8);\n  background-color: rgba(25, 40, 84, 0.9);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.btn-secondary:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.btn-secondary:active, .btn-secondary:focus {\n  outline: none;\n  transform: translateY(-0.0625rem);\n  box-shadow: 0.25rem 0.5rem 1rem rgba(255, 215, 0, 0.3);\n  background-color: rgba(220, 230, 250, 0.8);\n  color: rgba(20, 30, 64, 0.8);\n}\n\n.btn-secondary--white {\n  background-color: #fff;\n  color: rgb(59, 78, 147);\n}\n\n.btn-secondary--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.btn-secondary--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.btn-secondary--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.btn-secondary::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.4s ease;\n  -webkit-transition: all 0.4s ease;\n}\n\n.btn-secondary--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}\n\n.btn-text:link, .btn-text:visited {\n  font-size: 1.1rem;\n  color: rgb(157, 169, 225);\n  display: inline-block;\n  text-decoration: none;\n  border-bottom: 1px solid rgb(157, 169, 225);\n  padding: 3px;\n  transition: all 0.15s;\n}\n\n.btn-text:hover {\n  transform: translateY(-0.05rem);\n  background-color: rgb(177, 189, 235);\n  color: #fff;\n  box-shadow: 0 1rem 2rem rgba(255, 215, 0, 0.3);\n  border-radius: 1rem;\n}\n\n.btn-text:active {\n  box-shadow: 0 1rem 2rem rgba(220, 230, 250, 0.3);\n  transform: translateY(0);\n}\n\n.frosted {\n  background: url();\n  background-size: cover;\n  background-attachment: fixed;\n}\n\n.frosted__children {\n  border-radius: 1.6rem;\n  background: linear-gradient(to bottom right, rgb(242, 242, 251), rgb(232, 237, 246), rgb(212, 217, 226), 0.8);\n  box-shadow: 0.3rem 0.3rem 0.3rem #f2f2fb;\n  backdrop-filter: blur(1.5rem);\n  -webkit-backdrop-filter: blur(1.5rem);\n  border: 1px solid rgba(212, 217, 226, 0.803);\n  position: relative;\n  background: inherit;\n  overflow: hidden;\n  z-index: 1;\n}\n\n.frosted__children:before {\n  background: inherit;\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  box-shadow: inset 0 0 2500rem rgba(242, 242, 251, 0.5);\n  filter: blur(1.2rem);\n  z-index: -1;\n}\n\n.u-center-text {\n  text-align: center !important;\n}\n\n.u-margin-bottom-big {\n  margin-bottom: 8rem !important;\n}\n\n.u-margin-bottom-medium {\n  margin-bottom: 4rem !important;\n}\n\n.u-margin-bottom-small {\n  margin-bottom: 2.5rem !important;\n}\n\n.u-margin-top-small {\n  margin-top: 2.5rem !important;\n}\n\n.u-margin-top-big {\n  margin-top: 8rem !important;\n}\n\n.u-margin-top-huge {\n  margin-top: 10rem !important;\n}\n\n/* Animations */\n\n/* For Upper header */\n\n@keyframes moveInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(-10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n@keyframes moveInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(-1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* for Discover our tour button */\n\n@keyframes moveInBottom {\n  0% {\n    opacity: 0;\n    transform: translateY(3.2rem); /* 32px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\nbody {\n  font-family: "Lato", sans-serif;\n  font-weight: 400;\n  /* font-size: 1rem; */\n  line-height: 1.7;\n  color: rgb(59, 78, 147);\n  padding: 3rem; /* 30px */\n  box-sizing: border-box;\n}\n\n.h1 {\n  font-family: inherit;\n  font-weight: 600;\n  line-height: 1.1;\n  color: rgba(20, 30, 64, 0.7);\n  transition: all 0.5s ease-out;\n}\n\n.h1:hover {\n  background-image: linear-gradient(to bottom right, rgba(255, 215, 0, 0.1), rgba(220, 230, 250, 0.6), rgba(45, 60, 104, 0.7), rgba(25, 40, 84, 0.9), #141e40, #192854, rgba(45, 60, 104, 0.8), rgba(220, 230, 250, 0.6), rgba(255, 215, 0, 0.1));\n  color: rgba(220, 230, 250, 0.9);\n}\n\n.h1:active {\n  color: rgba(20, 30, 64, 0.7);\n  background-color: "";\n}\n\n.heading-primary {\n  color: #fff;\n  text-transform: uppercase;\n  /* Remove shaky behaviour in children animations */\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  margin-bottom: 6rem; /* 60px */\n}\n\n.heading-primary--main {\n  display: block; /* <span> is inline by default */\n  font-size: 6rem; /* 60px */\n  font-weight: 400;\n  letter-spacing: 3.5rem; /* 35px */\n  /* Animation */\n  animation-name: moveInLeft;\n  animation-duration: 6s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n}\n\n.heading-primary--sub {\n  display: block;\n  font-size: 2rem; /* 20px */\n  font-weight: 700;\n  letter-spacing: 1.74rem; /* 17.4px */\n  /* Animation */\n  animation-iteration-count: 1;\n  animation: moveInRight 6s ease-out;\n}\n\n.heading-secondary {\n  font-size: 3.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  background-image: linear-gradient(to right, rgb(177, 189, 235), rgb(137, 149, 205));\n  display: inline-block;\n  -webkit-background-clip: text;\n  color: transparent;\n  letter-spacing: 2px;\n  transition: all 0.2s;\n}\n\n.heading-secondary:hover {\n  transform: skewY(2deg) skewX(15deg) scale(1.1);\n  text-shadow: 0.5rem 1rem 2rem rgba(0, 0, 0, 0.2);\n}\n\n.heading-tertiary {\n  font-size: 1.1rem;\n  font-weight: 700;\n  text-transform: uppercase;\n}\n\n.paragraph {\n  font-size: 1.1rem;\n}\n\n.paragraph:not(:last-child) {\n  margin-bottom: 3rem;\n}\n\n/*\n0 - 600px:      Phone\n600 - 900px:    Tablet portrait\n900 - 1200px:   Tablet landscape\n[1200 - 1800] is where our normal styles apply\n1800px + :      Big desktop\n\n$breakpoint arguement choices:\n- phone\n- tab-port\n- tab-land\n- big-desktop\n\nORDER: Base + typography > general layout + grid > page layout > components\n\n1em = 16px\n*/\n\n.row {\n  /*\n  If we have enough space, we will have the specified width\n  If we have insufficient space, we will have width: 100%;\n  */\n  margin: 0 auto;\n  /*\n  To apply effects to all columns\n  using attributes selector\n  e.g. \n  [alt="Logo"] {\n  }\n  */\n}\n\n.row:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.row::after {\n  content: "";\n  display: table;\n  clear: both;\n}\n\n.row [class^=col-] {\n  float: left;\n}\n\n.row [class^=col-]:not(:last-child) {\n  margin-right: 5rem;\n}\n\n.row .col-1-of-2 {\n  width: calc((100% - 5rem) / 2);\n}\n\n.row .col-1-of-3 {\n  width: calc((100% - 2* 5rem) / 3);\n}\n\n.row .col-1-of-4 {\n  width: calc((100% - 3* 5rem) / 4);\n}\n\n.row .col-2-of-3 {\n  width: calc(2*((100% - 2* 5rem)/3) + 5rem);\n}\n\n.row .col-2-of-4 {\n  width: calc(2*((100% - 3* 5rem)/4) + 5rem);\n}\n\n.row .col-3-of-4 {\n  width: calc(3*((100% - 3* 5rem)/4) + 2*5rem);\n}\n\n.row-no {\n  margin: 0 auto;\n  margin-bottom: 0rem;\n}\n\n.com-example-test210500-blue-container {\n  border: 1px solid blue;\n  background-color: blue;\n}\n\n.com-example-test210500-green-container {\n  border: 1px solid green;\n  background-color: lawngreen;\n}\n\n.com-example-test210500-star-rating-red-star .a-rating__item {\n  color: red;\n}\n\n.com-example-test210500-star-rating-green-star .a-rating__item {\n  color: greenyellow;\n}\n\n.com-example-test210500-override-rx-tab .tab-content {\n  border-left: 1px solid rgb(84, 87, 37);\n  border-bottom: 1px solid rgb(84, 87, 37);\n  border-right: 1px solid rgb(84, 87, 37);\n}\n\n.com-example-test210500-wizard-container {\n  height: 750px;\n  margin-top: -1rem;\n}\n\n.d-icon-com-example-test210500-custom-grid-icon {\n  background: url("data:image/png;base64,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");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n/* Normalize browsers - Basic Reset */\n\n*, *::before, *::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\n\nhtml {\n  /* font-size: 10px;\n  now 1rem = 10px\n  font-size: 100% => 16px\n\n  62.5% * 16px = 10px = 1rem\n  */\n  font-size: 100%;\n  font-family: sans-serif;\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -ms-overflow-style: scrollbar;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  font-feature-settings: "liga", "kern";\n  -webkit-font-smoothing: antialiased;\n  text-rendering: optimizeLegibility;\n  background-color: rgba(255, 255, 255, 0.8);\n  height: 100%;\n  margin: 0;\n}\n\n/* To be inherited by child elements */\n\nbody {\n  box-sizing: border-box;\n}\n\n.com-example-test210500-blue-container {\n  border: 1px solid blue;\n}\n\n.com-example-test210500-star-rating-red-star .a-rating__item {\n  color: red;\n}\n\n.com-example-test210500-star-rating-green-star .a-rating__item {\n  color: greenyellow;\n}\n\n.com-example-test210500-override-rx-tab .tab-content {\n  border-left: 1px solid #d6d7d8;\n  border-bottom: 1px solid #d6d7d8;\n  border-right: 1px solid #d6d7d8;\n}\n\n.com-example-test210500-wizard-container {\n  height: 750px;\n  margin-top: -1rem;\n}\n\n.com-example-test210500-wizard-container-border {\n  height: 750px;\n  border-left: 1px solid #d6d7d8;\n  border-right: 1px solid #d6d7d8;\n  border-bottom: 1px solid #d6d7d8;\n  margin-top: -1rem;\n}\n\n.d-icon-com-example-test210500-custom-grid-icon {\n  background: url("data:image/png;base64,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");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.com-example-test210500-green-container {\n  border: 1px solid green;\n  background-color: lawngreen;\n}\n\n.com-example-test210500-btn {\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.com-example-test210500-btn, .com-example-test210500-btn:link, .com-example-test210500-btn:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 1rem 1rem; /* padding: 1.5rem 4rem 15px 40px */\n  display: inline-block;\n  border-radius: 10rem; /* 100px */\n  transition: all 0.1s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.com-example-test210500-btn:hover {\n  transform: scale(1.05) translateY(-0.3rem);\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.5);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.com-example-test210500-btn:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.com-example-test210500-btn:active, .com-example-test210500-btn:focus {\n  outline: none;\n  transform: translateY(-0.1rem);\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.5);\n}\n\n.com-example-test210500-btn--white {\n  background-color: #fff;\n  color: rgb(59, 78, 147);\n}\n\n.com-example-test210500-btn--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.com-example-test210500-btn--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.com-example-test210500-btn--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.com-example-test210500-btn::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.4s ease;\n  -webkit-transition: all 0.4s ease;\n}\n\n.com-example-test210500-btn--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}\n\n.com-example-test210500-btn-text:link, .com-example-test210500-btn-text:visited {\n  font-size: 1.1rem;\n  color: rgb(157, 169, 225);\n  display: inline-block;\n  text-decoration: none;\n  border-bottom: 1px solid rgb(157, 169, 225);\n  padding: 3px;\n  transition: all 0.15s;\n}\n\n.com-example-test210500-btn-text:hover {\n  transform: translateY(-0.3rem);\n  background-color: rgb(177, 189, 235);\n  color: #fff;\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  border-radius: 1rem;\n}\n\n.com-example-test210500-btn-text:active {\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  transform: translateY(0);\n}\n\n.com-example-test210500-frosted {\n  background: url();\n  background-size: cover;\n  background-attachment: fixed;\n}\n\n.com-example-test210500-frosted__children {\n  border-radius: 1.6rem;\n  background: linear-gradient(to bottom right, rgb(242, 242, 251), rgb(232, 237, 246), rgb(212, 217, 226), 0.8);\n  box-shadow: 0.3rem 0.3rem 0.3rem #f2f2fb;\n  backdrop-filter: blur(1.5rem);\n  -webkit-backdrop-filter: blur(1.5rem);\n  border: 1px solid rgba(212, 217, 226, 0.803);\n  position: relative;\n  background: inherit;\n  overflow: hidden;\n  z-index: 1;\n}\n\n.com-example-test210500-frosted__children:before {\n  background: inherit;\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  box-shadow: inset 0 0 2500rem rgba(242, 242, 251, 0.5);\n  filter: blur(1.2rem);\n  z-index: -1;\n}\n\n@keyframes moveInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(-10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n@keyframes moveInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(-1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* for Discover our tour button */\n\n@keyframes moveInBottom {\n  0% {\n    opacity: 0;\n    transform: translateY(3.2rem); /* 32px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\np {\n  background-color: #d6d7d8;\n}\n\nspan {\n  font-size: 150px;\n  color: #000;\n  display: block;\n  text-align: center;\n}'},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.scss":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i});const i=':root {\n  --border-radius: 4px;\n  --nav-background: var(--gray-900);\n  --nav-links-color: var(--white);\n  --font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;\n  --color-primary-disabled-hover: #ff8d2a;\n  --color-primary-disabled: #ff7d18;\n  --color-primary: #f86e00;\n  --color-primary-hover: #e45f00;\n  --color-primary-active: #d05100;\n  --color-primary-active-hover: #bc4300;\n  --color-secondary-disabled-hover: #ffffff;\n  --color-secondary-disabled: #ffffff;\n  --color-secondary: #f9f9fa;\n  --color-secondary-hover: #e5e5e6;\n  --color-secondary-active: #d2d2d3;\n  --color-secondary-active-hover: #c0c0c2;\n  --color-active-disabled-hover: #45c8bd;\n  --color-active-disabled: #2db7ad;\n  --color-active: #00a79d;\n  --color-active-hover: #00978e;\n  --color-active-active: #00887f;\n  --color-active-active-hover: #007970;\n  --color-info-disabled-hover: #66d9f1;\n  --color-info-disabled: #52c7df;\n  --color-info: #3cb6ce;\n  --color-info-hover: #21a6bd;\n  --color-info-active: #0096ad;\n  --color-info-active-hover: #00879e;\n  --color-success-disabled-hover: #aae860;\n  --color-success-disabled: #99d550;\n  --color-success: #89c341;\n  --color-success-hover: #7ab232;\n  --color-success-active: #6ba122;\n  --color-success-active-hover: #5d9110;\n  --color-warning-disabled-hover: #ffda46;\n  --color-warning-disabled: #ffc734;\n  --color-warning: #f1b521;\n  --color-warning-hover: #dea406;\n  --color-warning-active: #cc9400;\n  --color-warning-active-hover: #ba8400;\n  --color-danger-disabled-hover: #ff5323;\n  --color-danger-disabled: #ff4313;\n  --color-danger: #f83200;\n  --color-danger-hover: #e31f00;\n  --color-danger-active: #cd0500;\n  --color-danger-active-hover: #b80000;\n  --dense-spacing-custom: false;\n  --table-scroll-width: 0;\n}\n\n/*$dp-size-small: (\n  xs: 300px,\n  sm: 80vw,\n  md: 50vw,\n  lg: 40vw,\n  xl: 30vw\n  xxl: 20vw);*/\n\n.btn {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.btn, .btn:link, .btn:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 0.75rem; /* padding: 15px 40px */\n  border-radius: 6.25rem; /* 100px */\n  transition: all 0.5s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.btn:hover {\n  transform: translateY(-0.06rem);\n  box-shadow: 0.4rem 0.4rem 0.8rem rgba(220, 230, 250, 0.3), -2px -2px 0.8rem rgba(255, 215, 0, 0.2);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.btn:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.btn:active, .btn:focus {\n  outline: none;\n  transform: translateY(-0.0625rem);\n  box-shadow: 0.25rem 0.5rem 1rem rgba(220, 230, 250, 0.3);\n}\n\n.btn--white {\n  background-color: #fff;\n  color: rgb(59, 78, 147);\n}\n\n.btn--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.btn--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.btn--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.btn::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.2s ease;\n  -webkit-transition: all 0.2s ease;\n}\n\n.btn--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}\n\n.btn-text:link, .btn-text:visited {\n  font-size: 1.1rem;\n  color: rgb(157, 169, 225);\n  display: inline-block;\n  text-decoration: none;\n  border-bottom: 1px solid rgb(157, 169, 225);\n  padding: 3px;\n  transition: all 0.15s;\n}\n\n.btn-text:hover {\n  transform: translateY(-0.05rem);\n  background-color: rgb(177, 189, 235);\n  color: #fff;\n  box-shadow: 0 1rem 2rem rgba(255, 215, 0, 0.3);\n  border-radius: 1rem;\n}\n\n.btn-text:active {\n  box-shadow: 0 1rem 2rem rgba(220, 230, 250, 0.3);\n  transform: translateY(0);\n}\n\n.btn-secondary {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.btn-secondary, .btn-secondary:link, .btn-secondary:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 0.75rem; /* padding: 15px 40px */\n  border-radius: 6.25rem; /* 100px */\n  transition: all 0.1s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.btn-secondary:hover {\n  transform: translateY(-0.06rem);\n  box-shadow: 0.4rem 0.4rem 0.8rem rgba(220, 230, 250, 0.3), -2px -2px 0.8rem rgba(255, 215, 0, 0.2);\n  color: rgba(255, 255, 255, 0.8);\n  background-color: rgba(25, 40, 84, 0.9);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.btn-secondary:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.btn-secondary:active, .btn-secondary:focus {\n  outline: none;\n  transform: translateY(-0.0625rem);\n  box-shadow: 0.25rem 0.5rem 1rem rgba(255, 215, 0, 0.3);\n  background-color: rgba(220, 230, 250, 0.8);\n  color: rgba(20, 30, 64, 0.8);\n}\n\n.btn-secondary--white {\n  background-color: #fff;\n  color: rgb(59, 78, 147);\n}\n\n.btn-secondary--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.btn-secondary--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.btn-secondary--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.btn-secondary::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.4s ease;\n  -webkit-transition: all 0.4s ease;\n}\n\n.btn-secondary--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}\n\n.btn-text:link, .btn-text:visited {\n  font-size: 1.1rem;\n  color: rgb(157, 169, 225);\n  display: inline-block;\n  text-decoration: none;\n  border-bottom: 1px solid rgb(157, 169, 225);\n  padding: 3px;\n  transition: all 0.15s;\n}\n\n.btn-text:hover {\n  transform: translateY(-0.05rem);\n  background-color: rgb(177, 189, 235);\n  color: #fff;\n  box-shadow: 0 1rem 2rem rgba(255, 215, 0, 0.3);\n  border-radius: 1rem;\n}\n\n.btn-text:active {\n  box-shadow: 0 1rem 2rem rgba(220, 230, 250, 0.3);\n  transform: translateY(0);\n}\n\n.frosted {\n  background: url();\n  background-size: cover;\n  background-attachment: fixed;\n}\n\n.frosted__children {\n  border-radius: 1.6rem;\n  background: linear-gradient(to bottom right, rgb(242, 242, 251), rgb(232, 237, 246), rgb(212, 217, 226), 0.8);\n  box-shadow: 0.3rem 0.3rem 0.3rem #f2f2fb;\n  backdrop-filter: blur(1.5rem);\n  -webkit-backdrop-filter: blur(1.5rem);\n  border: 1px solid rgba(212, 217, 226, 0.803);\n  position: relative;\n  background: inherit;\n  overflow: hidden;\n  z-index: 1;\n}\n\n.frosted__children:before {\n  background: inherit;\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  box-shadow: inset 0 0 2500rem rgba(242, 242, 251, 0.5);\n  filter: blur(1.2rem);\n  z-index: -1;\n}\n\n.u-center-text {\n  text-align: center !important;\n}\n\n.u-margin-bottom-big {\n  margin-bottom: 8rem !important;\n}\n\n.u-margin-bottom-medium {\n  margin-bottom: 4rem !important;\n}\n\n.u-margin-bottom-small {\n  margin-bottom: 2.5rem !important;\n}\n\n.u-margin-top-small {\n  margin-top: 2.5rem !important;\n}\n\n.u-margin-top-big {\n  margin-top: 8rem !important;\n}\n\n.u-margin-top-huge {\n  margin-top: 10rem !important;\n}\n\n/* Animations */\n\n/* For Upper header */\n\n@keyframes moveInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(-10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n@keyframes moveInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(-1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* for Discover our tour button */\n\n@keyframes moveInBottom {\n  0% {\n    opacity: 0;\n    transform: translateY(3.2rem); /* 32px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\nbody {\n  font-family: "Lato", sans-serif;\n  font-weight: 400;\n  /* font-size: 1rem; */\n  line-height: 1.7;\n  color: rgb(59, 78, 147);\n  padding: 3rem; /* 30px */\n  box-sizing: border-box;\n}\n\n.h1 {\n  font-family: inherit;\n  font-weight: 600;\n  line-height: 1.1;\n  color: rgba(20, 30, 64, 0.7);\n  transition: all 0.5s ease-out;\n}\n\n.h1:hover {\n  background-image: linear-gradient(to bottom right, rgba(255, 215, 0, 0.1), rgba(220, 230, 250, 0.6), rgba(45, 60, 104, 0.7), rgba(25, 40, 84, 0.9), #141e40, #192854, rgba(45, 60, 104, 0.8), rgba(220, 230, 250, 0.6), rgba(255, 215, 0, 0.1));\n  color: rgba(220, 230, 250, 0.9);\n}\n\n.h1:active {\n  color: rgba(20, 30, 64, 0.7);\n  background-color: "";\n}\n\n.heading-primary {\n  color: #fff;\n  text-transform: uppercase;\n  /* Remove shaky behaviour in children animations */\n  -webkit-backface-visibility: hidden;\n          backface-visibility: hidden;\n  margin-bottom: 6rem; /* 60px */\n}\n\n.heading-primary--main {\n  display: block; /* <span> is inline by default */\n  font-size: 6rem; /* 60px */\n  font-weight: 400;\n  letter-spacing: 3.5rem; /* 35px */\n  /* Animation */\n  animation-name: moveInLeft;\n  animation-duration: 6s;\n  animation-iteration-count: 1;\n  animation-timing-function: ease-out;\n}\n\n.heading-primary--sub {\n  display: block;\n  font-size: 2rem; /* 20px */\n  font-weight: 700;\n  letter-spacing: 1.74rem; /* 17.4px */\n  /* Animation */\n  animation-iteration-count: 1;\n  animation: moveInRight 6s ease-out;\n}\n\n.heading-secondary {\n  font-size: 3.5rem;\n  text-transform: uppercase;\n  font-weight: 700;\n  background-image: linear-gradient(to right, rgb(177, 189, 235), rgb(137, 149, 205));\n  display: inline-block;\n  -webkit-background-clip: text;\n  color: transparent;\n  letter-spacing: 2px;\n  transition: all 0.2s;\n}\n\n.heading-secondary:hover {\n  transform: skewY(2deg) skewX(15deg) scale(1.1);\n  text-shadow: 0.5rem 1rem 2rem rgba(0, 0, 0, 0.2);\n}\n\n.heading-tertiary {\n  font-size: 1.1rem;\n  font-weight: 700;\n  text-transform: uppercase;\n}\n\n.paragraph {\n  font-size: 1.1rem;\n}\n\n.paragraph:not(:last-child) {\n  margin-bottom: 3rem;\n}\n\n/*\n0 - 600px:      Phone\n600 - 900px:    Tablet portrait\n900 - 1200px:   Tablet landscape\n[1200 - 1800] is where our normal styles apply\n1800px + :      Big desktop\n\n$breakpoint arguement choices:\n- phone\n- tab-port\n- tab-land\n- big-desktop\n\nORDER: Base + typography > general layout + grid > page layout > components\n\n1em = 16px\n*/\n\n.row {\n  /*\n  If we have enough space, we will have the specified width\n  If we have insufficient space, we will have width: 100%;\n  */\n  margin: 0 auto;\n  /*\n  To apply effects to all columns\n  using attributes selector\n  e.g. \n  [alt="Logo"] {\n  }\n  */\n}\n\n.row:not(:last-child) {\n  margin-bottom: 1rem;\n}\n\n.row::after {\n  content: "";\n  display: table;\n  clear: both;\n}\n\n.row [class^=col-] {\n  float: left;\n}\n\n.row [class^=col-]:not(:last-child) {\n  margin-right: 5rem;\n}\n\n.row .col-1-of-2 {\n  width: calc((100% - 5rem) / 2);\n}\n\n.row .col-1-of-3 {\n  width: calc((100% - 2* 5rem) / 3);\n}\n\n.row .col-1-of-4 {\n  width: calc((100% - 3* 5rem) / 4);\n}\n\n.row .col-2-of-3 {\n  width: calc(2*((100% - 2* 5rem)/3) + 5rem);\n}\n\n.row .col-2-of-4 {\n  width: calc(2*((100% - 3* 5rem)/4) + 5rem);\n}\n\n.row .col-3-of-4 {\n  width: calc(3*((100% - 3* 5rem)/4) + 2*5rem);\n}\n\n.row-no {\n  margin: 0 auto;\n  margin-bottom: 0rem;\n}\n\n.com-example-test210500-blue-container {\n  border: 1px solid blue;\n  background-color: blue;\n}\n\n.com-example-test210500-green-container {\n  border: 1px solid green;\n  background-color: lawngreen;\n}\n\n.com-example-test210500-star-rating-red-star .a-rating__item {\n  color: red;\n}\n\n.com-example-test210500-star-rating-green-star .a-rating__item {\n  color: greenyellow;\n}\n\n.com-example-test210500-override-rx-tab .tab-content {\n  border-left: 1px solid rgb(84, 87, 37);\n  border-bottom: 1px solid rgb(84, 87, 37);\n  border-right: 1px solid rgb(84, 87, 37);\n}\n\n.com-example-test210500-wizard-container {\n  height: 750px;\n  margin-top: -1rem;\n}\n\n.d-icon-com-example-test210500-custom-grid-icon {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAPnUlEQVRYw81ZZ1iVx9YdqYfe5UjvvamhGBVUjIq0BEVFTNBoECvWXBAbEewIIqJiIVeMEhsI9i7XAjZEkC5FsEUspFyvdX17xuDHMcl94r/7Yz8vnvOemTVrr71mz8gAsP/lYNevXxdx7do1VlNTwxoaGlh9fb2I27dv/2Xcu3ePld24ybKzt7OEeQvs/Pz6/eDj47PuwsULSlVVVez8+fPs1q1brLa2VozZ2NjIKisr2c2bN8Wz+FIxvXOB5ebuEvO3tra+H/ujATY0yEZdXR171v6MPXz4iI2OGP2NpqY2usgrQV5BCUFBgflPnjxh1dXVLDMzk6WlpYlneno6y8nJYbt372Y3btwg8JU0bymLjY1lS5YsEXM3NTWJsf82QB78B52Dv9Pa0ip+HBs7PYkxBjMzc4wbPhh2dg5QUFDEokWLhpWXl7PU1FQWFRXFoqOj2fz589nZs2fZhQsXxDjXrvF5b7CkpCSWmJgomG5ubhZzfgSD9ay2pp5VVdaz6ir+rGO365vZ69egtCbM4uCMTc1xettCoPUApkeFgHWRwNPzk4tHjhxhR48eFQzu2rWL7dixg5WWlgqAVVWVxFYzAWphoZ+HDu7Tp09CRUWF2osXL9idO3c+EmDtO3A11RxgLXv58i3bkLlxGAenrWeIc/9cBJTvxM8l2TiWFY+uRqbQ0dUDMeaXl5fHzp07x7gmOVCuy8uXL7O3b9+yUkpv4NDAXF1dHUgkEgwdOvTQlStX2IkTJz5Og7W1Nay8opyV3Sxj7T+3s9OnT1mpqau9ZV1UsCkxBqjMRcWBFDSfyEDZvhXo7u4KFXVNhISEZhYWHGYFBQdFUcTHx7OTJ0+yN2/e8KeulZVVg4qKClxcXGFj70T6VcS4ceMicnNz/z5A/jf/rKiIr/wqq6u9zXr37n2BsxcZOhCvb+Sg9nAaqgrXoP7IWjQcXYt+n34CQyMzODk51cXFxbG5c+eyPXv2ULVns7t373IdamhpabXo6+nB3NoemnpSuDo7wMDAEH379v3X/v37P47BehL0xYuX2IMHD2myb6dzcKbmlri+ZykeX9iCW8QeB1h7KA33z2QidFBfGJpYwtzcHCNHjrQdM2YMW7w4kT1+/Ji1tLSwHj16XNTV1YWmgQkVlS22JU/GgzPrMSq4P+RVNLF8+XKrvwTY4VmdK7j5TjNV7V12IL9Q38TY+DmTV0PCpHCgYicq8lcLcDxqDqWi7V9ZiPx8IPSkZpBKpZgyeUrQpo2b2ZEjRxm3nvDw8DRVVVUBztenB6oLV9M4u4C6vVg3fwL44qdNmzbiTwFevXqVUSUJw+SDtbW1sadPn7Knz56ykpLLbNCgwWsZeZ2bqzOlMg0tpzIFsOrCVKE//u9HRZswOvQdQM7gAP8BU8aOGyvGpUoeoq2lCUUNA/T17o724i1op8Iqp0U+u7QVuSkzoaSqBV8/v+V/ySD3ruLiYrZ/Xx4rJHGfPHGK/Zi7m335ZZS+iYnJf5Q09LFs1peCPQ6q7fxmPLm4BfWHU1FzcA3QlIcJowKJIWNQEcDR0TFh3bp1jKpTzsrSoqmLsga6uznj3un1eHpxqwDHF/n4wmYUZP6DXKErvLy9c2UA8tLuCL7S48ePc62xuLh4qrx5bNWqFBYUGDxHQ0sXLs5OaCvZKgCW561EQca3mBQRgMD+3ujj5Y7NSyYjIngAdAyMyLxFmpN5gcyLj1/HmBxMzK2Edp9f207gVr2XB2fwR2JQWU0LfX19j8sA5BbQEXV15HnVVSwrayPLyEgXz5yc7czLy/OmItH/VdhA4XURIf5kJy4wMbOAtr4RpdSUCsMCGnrdSPh2sLW1BTFOT7vi/v37z9Y36PpSQ8cAe9bMJJbzRUF1FBePXy5nYystTlldh0ze67oMQL698OAO/ssvP7Pvs3NY+PDRbML4GDY/IZGNiYzqq62jDXt7e0qPO1QkevQrRQptqCoYwUDLAvZ2TnBzc+XWQuFMTDvDwcEBFhYW6Nq1K8wtLOHk6ICgAd5YMWu0KKaGY+tQWfAO5Ivr27F05hgoqunSOO6VMgB51fLgALnNnDh+ip05U8TKyipYY0ML6+fnv01PXwdSXUsoyxlgYLA35i4bhrhV4Rg/KwDBI/rA1NgCki6GAqirmwuZ77twc3ODq6srnAkwN2QdQ1PISbQQM3IwGfwuoeOKA6vxGzE4MWIoukg0QT775wC5xZSUFFOh3CT/q6Mt7QWb++2cBdraWtBQNIKruwO2n5+KB8jEf/BPPKd4hi14iA0o+mkxYuKHQl3JEKbdbODu8Q7Uh8HBWlNDoa4rxZyvv8BLYu7+uU1oOrYW/r09oWdozN+TTTHv0xobG1j5zSpWXlbJKsqr2auX4EUyVUFBDirEzJBwH9zHenp/J24jHZVYgzKsRDuy8Qib0UYB7EL2mcnQ1TSCuYktgXH5I0gXSj2xbG5mC6aojYmjhgJVP6J0zzJYWlrBjDYAd3f3EzIAubvzqKmpE43B8+cv2O4f93qpqEigpkhl388NT5FFbJEtgGyBwPG4h43IPjoJhyri0IwM1CCVxtuNLQdioEpMOjm5/J5aZ6FPqT5JhJEeTa2EnvV1zIQxr5oZhQMZc6GqQ+ybmiIgICBLBuA+8jwe+fkHhOOfPnWG0aA1+vpdoadnguNX5uEFcmTA8XhNbH7azw6jp/bGK/qbs1qDNBrzB0R+4w8NiZFgkWtRQ6kbfPp6YFXOWBy/nYCiu4tRWP4tEjdFwtTEHMY6xrB1sIcFmbuvr+9cGYAbN2wSQS0Uy9ufz4YPD5+hrq4ObTUzjJ04iIDkiMk7g6smtn7G9zA01MboaX3onV3i81tIwa/0+eGSOOjpGsOVCkNVzhCjp/jjJ2KcS+QJ6Zbr+A0K6N8HcaY1gYxdH/paxlT15rzt8pcByNtxHllZWSKo8hotyBa01Lth17EZohgqaeLOABuxTmiRp2j+ujBi+If33/HPG96uJSZ6QoFS6h/iSWN8L7Ra8XsWWglgxp6vcbwmgTDkIb9oLuTl1dFNavTb+vXrNWQAzpgxXcTChQm0mQ8fIJWS2dqQn5GPXftpqRis6gMGH5MeC6//QwDcc2kmaXTb+++4FttIs2Ej/Oh7FRy+FCck0gGOs/8rLdrIREfIg0vlNXbgsyB3mEgd8jZv3izbbs2LXyhixfI1vCFIMTY2FlXo08sD1W9S0EBsfQiQp3T+6jABsPIFNatU4Z3T/5gA9vHtQUViR+A3C212fF9Hf7dRmpUVFBAwygMvif1XBDA5Yzic7L2Tly9fIQtw6dKVtN+msuxtOcy3r99JvoeacYA+Hqh5vYYApsuA4+l+QwC9+9iQsKXEzg6Z7+vp/SYKKTUMsxeGCXY6S+QOZaTit9VicbFJAaLAHtGC8q/MhIuDx8HExUtkAS5bnkyGPJtNnDiekQeVcguwsXaAva0dSu4twV0y4s4AuMZaaBIFOXl8lz5CMNAZwGNi51T5QpHe7Uem4RfSX+ffPyM55BXPEQB3npkmiu0ezXG2cREcbZ0ufx46jP2hWTh48CCx15/RPnqV76fOtJ+qqXTFzsOxQj+3ZABsRc7ZqdDSUEXd8zRiK+P9d1xn3LDjEsNpZGUcrZwniqMz+0Au4pJDBcDqV6nCQ38iBg+WzoG9lVPFooWJsgD5Saus7Ab7bOBQ5ujoVMjbcG6u6spSjIjyo3TuQC3ppsNqeMWOjx+Aryf1x1ua7Nbv4ufguJnXPEmBMdmFlkSKk5XzRfo6A+T6dXAyRh9/B/F7/jtOwrb9k6CtaXJ+8uQpsgB5k8q7GS7OkSNHxejr64tN3tHBCUryutiwL5re20faWiuY5Ck+17oYde1rSfBrBXA+CWeK79FDRvhQ42AANYkBtuZNps+2v1/cQwJ7tHaeYO/Q1ThR/fy7l/RO2KhPyQst0iIjI2UB8ruSY8eOse8Sl7D16zdKqAtus7S0QI8e3WHSzQoaKgbIODhBTM4t4Q5V7ENsEk/O7AP6+50BZ5FpD6ARNUVPKFEwQPS0oSLlHRLh9rIgMwxfRfuKsfh+ztk7XBwvQE+Mjhm8c+dOWYB0uJZPSkqSBAcHO42OiGCBgYFf8T6O76Pe3p5U0TaQo0kDw3vh+5NTUfp8hfBGnro7pJ8rvy5FZn40evo4kzHrwNrKGtY21mLPNTA0wumqBTTP3vcZqHi5Gm1vtgjmeMG0U1GZ2BrA1NDhSkvLHXGnIwOQzq2S2NhYzbFjx2r37NlDPj4ugQUFB2fJycnxzgL0GYF1gZpCVyh10YGDoy2Zqje+iPSFf+AnsLG1gjwB01Ijg7e3pS7aBtbW1sSiDbRpNzIzNcc26nKekQS45fyb0tlOwDjrzSSXz4Z5EgoFnDl72r+xqYlfqcgCTEhIEFscgdSNjBxjamfrYEhHP5b4XeJSeXl52NjYULp7CF3yCjcnRvU0TagZkIqnuam16E54B82fHcHbfkdHe2q/jNGFMjAo1Aurd0Qhj6r1bOsibCiIhrObg0htYFDgjqk0JzUW+p+HhEpkAD548EAcMzdt2mSybNkyuSFDAmjrm8G2b89hvXr1StXW1qZezRIeHh6/t08uf4jOPR9fBOn4/dOZDlr29g7QpAXJ0TFBR8MQJsZm1MpJafYu6Nff7wonxNHRVeLt3ct4QP8BUhmA9+/fFzcIXJzcctLT12qN/3qCo62tvXZRURG/suhraGjYzoHyCTta+L8THy5CeKyjC+xsHSn1ZggYGnB09uzZiiEhITwMv/kmWnHWzDnsDx01v0XgB3aqaMmGDZnmpaU3lHr5fMoKCgrYo0eP2NatW5WHDBmy0YoKgIPs3r270OeH7P03oB0L4/rk94menp7ZKSkpaqmpaSwsLEwuLOwLw5CQUNN9+/bLpphfb3CADx8+5HajRIAVGhubqO1yZ3v37WWXLl0SNlR07jxthzFGGhoaC+hIWco1xiflYHn6uUY7DkkcEF8I1yXXMJcIB0a/eeLt7Z1O526TJUuSWeLi78xjYia5Urunym+1+EUnv7KTAdhxD8Pbfn6Xx+8E+fnY3c2DOu294j6PX0AWFhwSB3pdXV2mqqrKlJWVu2pqao6k9KdZWVlVcMCdiuQVgXtCjNX27NmzkLrkRC8vr150RmaTJ09iGzZsZMlJyaKTp7OPBmnfpqSkRIe3WsTqnwPkKeYA+dGztraOGof/B8hXl59fwKZPj2U6OrqMgDEVFRUmkUjEk0DrEatDpFJpBD3DiaUBQUFBPUNDQ40iyFvHjx/P/ZXReYNFRX3FVq5YyRYvWsy2bNnGkggoja+cnp6um5yc3GXhwoWyAP/X/xvi/wDkLygDx7WBtQAAAABJRU5ErkJggg==");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n/* Normalize browsers - Basic Reset */\n\n*, *::before, *::after {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\n\nhtml {\n  /* font-size: 10px;\n  now 1rem = 10px\n  font-size: 100% => 16px\n\n  62.5% * 16px = 10px = 1rem\n  */\n  font-size: 100%;\n  font-family: sans-serif;\n  line-height: 1.15;\n  -webkit-text-size-adjust: 100%;\n  -ms-text-size-adjust: 100%;\n  -ms-overflow-style: scrollbar;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  font-feature-settings: "liga", "kern";\n  -webkit-font-smoothing: antialiased;\n  text-rendering: optimizeLegibility;\n  background-color: rgba(255, 255, 255, 0.8);\n  height: 100%;\n  margin: 0;\n}\n\n/* To be inherited by child elements */\n\nbody {\n  box-sizing: border-box;\n}\n\n.com-example-test210500-blue-container {\n  border: 1px solid blue;\n}\n\n.com-example-test210500-star-rating-red-star .a-rating__item {\n  color: red;\n}\n\n.com-example-test210500-star-rating-green-star .a-rating__item {\n  color: greenyellow;\n}\n\n.com-example-test210500-override-rx-tab .tab-content {\n  border-left: 1px solid #d6d7d8;\n  border-bottom: 1px solid #d6d7d8;\n  border-right: 1px solid #d6d7d8;\n}\n\n.com-example-test210500-wizard-container {\n  height: 750px;\n  margin-top: -1rem;\n}\n\n.com-example-test210500-wizard-container-border {\n  height: 750px;\n  border-left: 1px solid #d6d7d8;\n  border-right: 1px solid #d6d7d8;\n  border-bottom: 1px solid #d6d7d8;\n  margin-top: -1rem;\n}\n\n.d-icon-com-example-test210500-custom-grid-icon {\n  background: url("data:image/png;base64,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");\n  background-repeat: no-repeat;\n  background-position: center;\n}\n\n.com-example-test210500-green-container {\n  border: 1px solid green;\n  background-color: lawngreen;\n}\n\n.com-example-test210500-btn {\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.com-example-test210500-btn, .com-example-test210500-btn:link, .com-example-test210500-btn:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 1rem 1rem; /* padding: 1.5rem 4rem 15px 40px */\n  display: inline-block;\n  border-radius: 10rem; /* 100px */\n  transition: all 0.1s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.com-example-test210500-btn:hover {\n  transform: scale(1.05) translateY(-0.3rem);\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.5);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.com-example-test210500-btn:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.com-example-test210500-btn:active, .com-example-test210500-btn:focus {\n  outline: none;\n  transform: translateY(-0.1rem);\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.5);\n}\n\n.com-example-test210500-btn--white {\n  background-color: #fff;\n  color: rgb(59, 78, 147);\n}\n\n.com-example-test210500-btn--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.com-example-test210500-btn--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.com-example-test210500-btn--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.com-example-test210500-btn::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.4s ease;\n  -webkit-transition: all 0.4s ease;\n}\n\n.com-example-test210500-btn--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}\n\n.com-example-test210500-btn-text:link, .com-example-test210500-btn-text:visited {\n  font-size: 1.1rem;\n  color: rgb(157, 169, 225);\n  display: inline-block;\n  text-decoration: none;\n  border-bottom: 1px solid rgb(157, 169, 225);\n  padding: 3px;\n  transition: all 0.15s;\n}\n\n.com-example-test210500-btn-text:hover {\n  transform: translateY(-0.3rem);\n  background-color: rgb(177, 189, 235);\n  color: #fff;\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  border-radius: 1rem;\n}\n\n.com-example-test210500-btn-text:active {\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.3);\n  transform: translateY(0);\n}\n\n.com-example-test210500-frosted {\n  background: url();\n  background-size: cover;\n  background-attachment: fixed;\n}\n\n.com-example-test210500-frosted__children {\n  border-radius: 1.6rem;\n  background: linear-gradient(to bottom right, rgb(242, 242, 251), rgb(232, 237, 246), rgb(212, 217, 226), 0.8);\n  box-shadow: 0.3rem 0.3rem 0.3rem #f2f2fb;\n  backdrop-filter: blur(1.5rem);\n  -webkit-backdrop-filter: blur(1.5rem);\n  border: 1px solid rgba(212, 217, 226, 0.803);\n  position: relative;\n  background: inherit;\n  overflow: hidden;\n  z-index: 1;\n}\n\n.com-example-test210500-frosted__children:before {\n  background: inherit;\n  content: "";\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  box-shadow: inset 0 0 2500rem rgba(242, 242, 251, 0.5);\n  filter: blur(1.2rem);\n  z-index: -1;\n}\n\n@keyframes moveInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(-10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n@keyframes moveInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(10rem); /* 100px */\n  }\n  80% {\n    transform: translateX(-1rem); /* 10px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n\n/* for Discover our tour button */\n\n@keyframes moveInBottom {\n  0% {\n    opacity: 0;\n    transform: translateY(3.2rem); /* 32px */\n  }\n  100% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\np {\n  background-color: #d6d7d8;\n}\n\n.btn {\n  margin-right: 1rem;\n  transition: 0.25s ease-in-out;\n}\n\n.btn:hover {\n  transform: translateY(-0.2rem);\n}\n\n.btn:active {\n  transform: translateY(0rem);\n}\n\n.signaturepad {\n  /* \n  Initial State of pseudo element\n  .btn = parent\n  .btn::after = child\n  */\n  /* Only Discover our tour button will have animation */\n}\n\n.signaturepad, .signaturepad:link, .signaturepad:visited {\n  text-transform: uppercase;\n  text-decoration: none;\n  padding: 1.5rem 4rem; /* 15px 40px */\n  display: inline-block;\n  border-radius: 10rem; /* 100px */\n  transition: all 0.1s ease-in;\n  position: relative;\n  font-size: 1.1rem;\n  border: none;\n  cursor: pointer;\n}\n\n.signaturepad:hover {\n  transform: scale(1.05) translateY(-0.3rem);\n  box-shadow: 0 1rem 2rem rgba(0, 0, 0, 0.5);\n  /* box-shadow: offset-x offset-y blur rgba; */\n}\n\n.signaturepad:hover::after {\n  /* \n  2nd State of pseudo element\n  pseudo element after for .btn:hover state\n  Make pseudo element grow && fade-out \n  .btn::after = parent\n  .btn:hover::after = child\n  */\n  transform: scaleX(1.4) scaleY(1.6);\n  opacity: 0;\n}\n\n.signaturepad:active, .signaturepad:focus {\n  outline: none;\n  transform: translateY(-0.1rem);\n  box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.5);\n}\n\n.signaturepad--white {\n  background-color: #fff;\n  color: rgb(84, 87, 37);\n}\n\n.signaturepad--white::after {\n  background-color: white;\n  color: rgb(84, 87, 37);\n}\n\n.signaturepad--green {\n  background-color: rgb(157, 169, 225);\n  color: #fff;\n}\n\n.signaturepad--green::after {\n  background-color: rgb(157, 169, 225);\n}\n\n.signaturepad::after {\n  /* Must declare content && display properties */\n  content: "";\n  display: inline-block;\n  /* pseudo elements are treated as children */\n  height: 100%;\n  width: 100%;\n  border-radius: 10rem; /* 100px */\n  position: absolute;\n  top: 0;\n  left: 0;\n  /* position: absolute need a reference \n  from parent box with position: relative\n  In this case:\n  .btn::after (child) \n  .btn (parent)\n  */\n  z-index: -1;\n  transition: all 0.4s ease;\n  -webkit-transition: all 0.4s ease;\n}\n\n.signaturepad--animated {\n  animation: moveInBottom 1s ease-out 0.75s;\n  animation-fill-mode: backwards;\n}'},"./libs/com-igsl-berlintes/src/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-igsl-berlintes/src/lib/com-igsl-berlintes.module.ts"),o={};for(const r in i)"default"!==r&&(o[r]=()=>i[r]);n.d(t,o)},"./libs/com-igsl-berlintes/src/lib/com-igsl-berlintes.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ComIgslBerlintesModule:()=>l});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),a=n("./libs/com-igsl-berlintes/src/lib/i18n/localized-strings.json"),c=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/new-signature-registration.module.ts");let l=class{constructor(e){this.rxLocalizationService=e,this.rxLocalizationService.setDefaultApplicationStrings(a)}};l.ctorParameters=()=>[{type:s.RxLocalizationService}],l=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,c.NewSignatureRegistrationModule]}),(0,i.__metadata)("design:paramtypes",[s.RxLocalizationService])],l)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.component.ts"),o={};for(const a in i)"default"!==a&&(o[a]=()=>i[a]);n.d(t,o);var r=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.model.ts");o={};for(const a in r)"default"!==a&&(o[a]=()=>r[a]);n.d(t,o);var s=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.module.ts");o={};for(const a in s)"default"!==a&&(o[a]=()=>s[a]);n.d(t,o)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NewSignatureDesignComponent:()=>a});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js");n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.model.ts");let a=class{};a.propDecorators={model:[{type:s.Input}]},a=(0,i.__decorate)([(0,s.Component)({selector:"com-igsl-berlintes-new-signature-design",template:r.default,styles:[o.default]})],a)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.model.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NewSignatureDesignModel:()=>l});var i=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),s=n("rxjs"),a=n("./node_modules/rxjs/_esm2015/operators/index.js");const c={styles:"",hidden:"",message:""};class l extends i.ViewDesignerComponentModel{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,t.updateInspectorConfig(this.setInspectorConfig(c)),(0,s.combineLatest)([this.sandbox.componentProperties$]).pipe((0,a.map)(([e])=>this.validate(this.sandbox,e))).subscribe(e=>{this.sandbox.setValidationIssues(e)}),this.sandbox.getComponentPropertyValue("name").subscribe(e=>{const t=e?`${this.sandbox.descriptor.name} (${e})`:this.sandbox.descriptor.name;this.sandbox.setSettablePropertiesDataDictionary(t,this.getSettablePropertiesDataDictionaryBranch()),this.sandbox.setCommonDataDictionary(this.prepareDataDictionary(t))})}static getInitialProperties(e){return Object.assign({hidden:"0",message:""},e)}getSettablePropertiesDataDictionaryBranch(){return[{label:"Hidden",expression:this.getExpressionForProperty("hidden")},{label:"Message",expression:this.getExpressionForProperty("message")}]}prepareDataDictionary(e){return null}setInspectorConfig(e){return{inspectorSectionConfigs:[{label:"General",controls:[{name:"new-signature",component:o.TextFormControlComponent,options:{label:"New Signature with effects",tooltip:new r.Tooltip("Enter a name to uniquely identify the view component.")}},{name:"message",component:o.ExpressionFormControlComponent,options:{label:"Message",tooltip:new r.Tooltip("The message input parameter is required and will be displayed at runtime."),dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators(),isRequired:!0}},{name:"styles",component:o.TagsFormControlComponent,options:{label:"CSS classes",placeholder:"Add CSS classes",tooltip:new r.Tooltip("Enter CSS class names to apply to this view component."),errorCheck:i.validateCssClassName}},{name:"hidden",component:o.OptionalExpressionControlComponent,options:{label:"Hidden",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}}]}]}}validate(e,t){let n=[];return t.message||n.push(e.createError("Message cannot be blank.","message")),n=n.concat((0,i.validateCssClassNames)(t.styles)),n}}},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NewSignatureDesignModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./node_modules/@angular/forms/fesm2015/forms.js"),a=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/new-signature-design.component.ts");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,s.FormsModule],declarations:[a.NewSignatureDesignComponent],entryComponents:[a.NewSignatureDesignComponent]})],c)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/new-signature-registration.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NewSignatureRegistrationModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),s=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/index.ts"),a=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/design/index.ts");let c=class{constructor(e,t){this.rxViewComponentRegistryService=e,this.componentFactoryResolver=t,e.register({type:"com-igsl-berlintes-new-signature",name:"New Signature",group:"BerlinTestingApp",componentFactory:this.componentFactoryResolver.resolveComponentFactory(s.NewSignatureComponent),designComponentFactory:this.componentFactoryResolver.resolveComponentFactory(a.NewSignatureDesignComponent),designComponentModel:a.NewSignatureDesignModel,bundleId:"com.igsl.berlintes",properties:[{name:"styles",type:r.ViewComponentPropertyType.String},{name:"hidden",enableExpressionEvaluation:!0},{name:"message",localizable:!0,enableExpressionEvaluation:!0}]})}};c.ctorParameters=()=>[{type:r.RxViewComponentRegistryService},{type:o.ComponentFactoryResolver}],c=(0,i.__decorate)([(0,o.NgModule)({imports:[a.NewSignatureDesignModule,s.NewSignatureModule]}),(0,i.__metadata)("design:paramtypes",[r.RxViewComponentRegistryService,o.ComponentFactoryResolver])],c)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/index.ts":(e,t,n)=>{"use strict";n.r(t);var i=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.component.ts"),o={};for(const s in i)"default"!==s&&(o[s]=()=>i[s]);n.d(t,o);var r=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.module.ts");o={};for(const s in r)"default"!==s&&(o[s]=()=>r[s]);n.d(t,o)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.component.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NewSignatureComponent:()=>d});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.scss"),r=n("./node_modules/@angular-devkit/build-angular/node_modules/raw-loader/dist/cjs.js!./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.component.html"),s=n("./node_modules/@angular/core/fesm2015/core.js"),a=n("rxjs"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js");let d=class extends c.BaseViewComponent{constructor(){super(...arguments),this.api={setProperty:this.setProperty.bind(this)},this.signaturePadOptions={minWidth:.5,canvasWidth:500,canvasHeight:300}}clearSignature(){this.signaturePad.clear(),this.notifyPropertyChanged("signature","")}addSignature(){this.notifyPropertyChanged("signature",this.cleanBase64Signature())}drawStart(){this.notifyPropertyChanged("signature","")}drawComplete(){this.addSignature()}cleanBase64Signature(){let e=this.signaturePad.toDataURL()||"";const t=";base64,",n=e.indexOf(t);return-1!==n&&(e=e.substr(n+8)),e}ngOnInit(){this.config.subscribe(e=>{this.inputParams=e}),this.notifyPropertyChanged("api",this.api)}setProperty(e,t){switch(e){case"hidden":this.inputParams.hidden=t,this.notifyPropertyChanged(e,t);break;case"message":this.inputParams.message=t;break;default:{const t=`Digital Signature Effects: Property ${e} is not settable.`;return console.error(t),(0,a.throwError)(`New Signature : property ${e} is not settable.`)}}}};d.propDecorators={signaturePad:[{type:s.ViewChild,args:["signaturePad",{static:!0}]}]},d=(0,i.__decorate)([(0,s.Component)({selector:"com-igsl-berlintes-new-signature",template:r.default,styles:[o.default]}),(0,l.RxViewComponent)({name:"com-igsl-berlintes-new-signature"})],d)},"./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.module.ts":(e,t,n)=>{"use strict";n.r(t),n.d(t,{NewSignatureModule:()=>c});var i=n("./node_modules/tslib/tslib.es6.js"),o=n("./node_modules/@angular/core/fesm2015/core.js"),r=n("./node_modules/@angular/common/fesm2015/common.js"),s=n("./libs/com-igsl-berlintes/src/lib/view-components/new-signature/runtime/new-signature.component.ts"),a=n("./node_modules/angular2-signaturepad/fesm2015/angular2-signaturepad.js");let c=class{};c=(0,i.__decorate)([(0,o.NgModule)({imports:[r.CommonModule,a.SignaturePadModule],exports:[s.NewSignatureComponent],declarations:[s.NewSignatureComponent],entryComponents:[s.NewSignatureComponent]})],c)},"./node_modules/@helix/platform/fesm2015/helix-platform-view-designer.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{ActionListControlComponent:()=>bn,ActionListControlModule:()=>wn,ActionListEditorDialogComponent:()=>vn,ActionListEditorDialogModule:()=>fn,ActionListWidgetComponent:()=>Dn,ActionListWidgetModule:()=>Sn,CanvasItemApi:()=>Ut,CanvasItemColumnComponent:()=>qt,CanvasItemComponent:()=>Yt,CanvasItemContainerComponent:()=>Ht,CanvasOutletComponent:()=>Zt,CanvasOutletHelperService:()=>Wt,DesignerComponent:()=>Jt,DesignerModule:()=>sn,DropComponentData:()=>Xt,NamedListFilterExpressionConfigurator:()=>pn,RX_AVAILABLE_ON_DEVICES_OPTIONS:()=>Mn,RX_VIEW_DESIGNER:()=>en,RX_VIEW_MODEL:()=>nn,RuntimeViewParamsModalComponent:()=>cn,RuntimeViewParamsModalModule:()=>ln,RxComponentPermissionEditorWidgetComponent:()=>yn,RxComponentPermissionEditorWidgetModule:()=>xn,RxViewActionExpressionConfigurator:()=>dn,RxViewActionValidatorService:()=>Rn,RxViewComponentExpressionConfigurator:()=>Nt,RxViewCustomizationOptionsComponent:()=>Tt,RxViewCustomizationOptionsModule:()=>Cn,RxViewDataDictionaryService:()=>Bt,RxViewDesignerActionModel:()=>un,RxViewDesignerComponent:()=>on,RxViewDesignerDefaultActionModel:()=>hn,RxViewDesignerHelperService:()=>Kt,RxViewDesignerPaletteModule:()=>an,RxViewExpressionConfigurator:()=>Ft,RxViewExpressionValidatorService:()=>kt,RxViewModel:()=>$t,RxViewRevertCustomizationComponent:()=>Lt,RxViewRevertCustomizationModule:()=>_t,ViewDesignerCanvasComponent:()=>Qt,ViewDesignerCanvasItemApiToken:()=>zt,ViewDesignerCanvasModule:()=>rn,ViewDesignerComponentModel:()=>Vn,ViewDesignerFacade:()=>It,ViewDesignerModule:()=>Kn,ViewDesignerPaletteComponent:()=>tn,getAvailableOnDevicesInspectorConfig:()=>In,getDisabledFieldInspectorConfig:()=>En,getHiddenFieldInspectorConfig:()=>Pn,getStandardPropsInspectorConfigs:()=>jn,getStylesFieldInspectorConfig:()=>On,validateAvailableOnDevicesProp:()=>Rt,validateCssClassName:()=>Ot,validateCssClassNames:()=>jt,validateStandardProps:()=>At});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),r=n("./node_modules/@helix/platform/fesm2015/helix-platform-named-list-api.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-process-api.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),l=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-components.js"),d=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),m=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),u=n("lodash"),h=n("rxjs"),g=n("./node_modules/rxjs/_esm2015/operators/index.js"),v=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),f=n("./node_modules/@ngrx/effects/fesm2015/ngrx-effects.js"),b=n("./node_modules/@ngrx/store/fesm2015/ngrx-store.js"),w=n("./node_modules/@angular/forms/fesm2015/forms.js"),y=n("./node_modules/@angular/common/fesm2015/common.js"),x=n("./node_modules/@angular/cdk/fesm2015/drag-drop.js"),C=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js"),D=n("./node_modules/@bmc-ux/obsolete/fesm2015/bmc-ux-adapt-obsolete.js"),S=n("./node_modules/tslib/tslib.es6.js");const V=["container"];function M(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-canvas-item",1),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("layout",e.layout)("isReadOnly",e.isReadOnly)}}function I(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",9),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"]().remove(t,n)}),i["\u0275\u0275elementEnd"]()}}function P(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275listener"]("cdkDragEntered",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDragEntered(t)})("cdkDragStarted",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDragStarted(t)}),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275listener"]("click",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().onSelectComponent(t,n)}),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275elementStart"](3,"div",4),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275element"](5,"span",5),i["\u0275\u0275elementStart"](6,"span",6),i["\u0275\u0275text"](7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](8,I,1,0,"button",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"rx-canvas-item",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classMapInterpolate1"]("canvas-item-wrapper mw-100 canvas-",e.descriptor.type,""),i["\u0275\u0275property"]("cdkDragData",n.getViewComponentDragData(e))("cdkDragDisabled",n.isReadOnly||(null==e.descriptor.options?null:e.descriptor.options.static)),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("active",i["\u0275\u0275pipeBind1"](2,12,e.isSelected$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("hidden",!i["\u0275\u0275pipeBind1"](4,14,e.isSelected$)),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.label),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!(n.isReadOnly||null!=e.descriptor.options&&e.descriptor.options.static)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("layout",e)("isReadOnly",n.isReadOnly)}}const E=function(e){return{columnIndex:e}},O=function(e){return{"col-border":e}},j=function(e){return{"mb-3":e}};function R(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",2),i["\u0275\u0275elementStart"](1,"rx-canvas-item-column",3),i["\u0275\u0275listener"]("dropListDropped",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onDropListDropped(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,o=t.last,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275classMap"](e.span?"col-"+e.span:"col"),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](9,O,!o)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction1"](11,j,!o))("isReadOnly",r.isReadOnly)("colIndex",n)("column",e)("layout",r.layout)}}function A(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-canvas-outlet",1),i["\u0275\u0275listener"]("beforeViewComponentDrop",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().viewDesignerCanvasComponent.beforeComponentDropInRoot.emit(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275classProp"]("border",n.canvasItemComponent.layout.outlets.length>1)("default-outlet",e.name===n.defaultOutletName),i["\u0275\u0275property"]("name",e.name)}}function k(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",7),i["\u0275\u0275elementStart"](1,"div",8),i["\u0275\u0275element"](2,"span"),i["\u0275\u0275elementStart"](3,"span",9),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDragData",n.getViewComponentDragData(e)),i["\u0275\u0275attribute"]("rx-id",e.type),i["\u0275\u0275advance"](2),i["\u0275\u0275classMapInterpolate1"]("item-image d-icon-",e.icon||"wall",""),i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("title",e.name),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function B(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"adapt-accordion-tab",4),i["\u0275\u0275elementStart"](1,"div",5),i["\u0275\u0275template"](2,k,5,7,"div",6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("title",e.name)("isOpen",!0),i["\u0275\u0275attribute"]("rx-id",n.stringService.toRxId(e.name)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("cdkDropListConnectedTo",n.allowedDropListIds),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.components)("ngForTrackBy",n.trackByNameFn)}}const F=function(){return[]},N=function(e){return{multiselect:!0,tabs:e}},T=["viewPropertyInspector"],L=["viewComponentPropertyInspector"];function _(e,t){if(1&e&&(i["\u0275\u0275element"](0,"rx-view-designer-palette",19),i["\u0275\u0275pipe"](1,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("components",i["\u0275\u0275pipeBind1"](1,2,e.paletteComponents$))("allowedDropListIds",e.canvasDndListIds)}}const $=function(){return{content:"There are no view components to display. View with a Page view component cannot contain any other view components.",variant:"info",type:"inline"}};function z(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-alert",20),2&e&&i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction0"](1,$))}const U=function(){return{content:"This view is not editable. There are no view components to display.",variant:"info",type:"inline"}};function X(e,t){1&e&&i["\u0275\u0275element"](0,"adapt-alert",20),2&e&&i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction0"](1,U))}function G(e,t){if(1&e&&(i["\u0275\u0275element"](0,"adapt-code-viewer",21),i["\u0275\u0275pipe"](1,"json"),i["\u0275\u0275pipe"](2,"async")),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("code",i["\u0275\u0275pipeBind1"](1,4,i["\u0275\u0275pipeBind1"](2,6,e.viewDesignerFacade.viewDefinition$)))("lang","javascript")("hasToolbar",!1)("theme","light")}}const Y=function(e){return{content:e,variant:"info",type:"inline"}};function Q(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div"),i["\u0275\u0275elementStart"](1,"adapt-rx-textfield",5),i["\u0275\u0275listener"]("ngModelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"]().inputParams[n]=t}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.first,o=t.index,r=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("label",e)("autofocus",n)("ngModel",r.inputParams[e]),i["\u0275\u0275attribute"]("rx-id","input-param-"+(o+1))}}function W(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",25),i["\u0275\u0275elementStart"](1,"div",26),i["\u0275\u0275listener"]("dblclick",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](4).addAction(t.data)}),i["\u0275\u0275elementStart"](2,"button",27),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](4).addAction(t.data)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"span",28),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("cdkDragData",e.data),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate"](e.data.label)}}function q(e,t){if(1&e&&i["\u0275\u0275template"](0,W,5,2,"div",24),2&e){const e=t.$implicit;i["\u0275\u0275property"]("ngIf",e.data)}}function H(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",21),i["\u0275\u0275elementStart"](1,"adapt-tree",22),i["\u0275\u0275template"](2,q,1,1,"ng-template",23),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]().ngIf,t=i["\u0275\u0275nextContext"](2);i["\u0275\u0275property"]("cdkDropListConnectedTo","selected-action-list"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("value",e)("wrap",t.treeWrap)}}function Z(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275element"](1,"adapt-empty-state",30),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.action-list.available-actions.empty-state.message")))}function J(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",18),i["\u0275\u0275template"](1,H,3,3,"div",19),i["\u0275\u0275template"](2,Z,3,3,"ng-template",null,20,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275reference"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.length)("ngIfElse",n)}}function K(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",15),i["\u0275\u0275elementStart"](1,"div",3),i["\u0275\u0275elementStart"](2,"h4",5),i["\u0275\u0275text"](3),i["\u0275\u0275pipe"](4,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",16),i["\u0275\u0275template"](6,J,4,2,"div",17),i["\u0275\u0275pipe"](7,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](4,2,"com.bmc.arsys.rx.client.view-components.action-list.available-actions.title")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](7,4,e.availableActionTreeNodes$))}}function ee(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",31),i["\u0275\u0275elementStart"](1,"button",32),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!0)}),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",33),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().toggleOpen(!1)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,2,"com.bmc.arsys.rx.client.common.expand-all.label")," "),i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,4,"com.bmc.arsys.rx.client.common.collapse-all.label")," "))}function te(e,t){1&e&&i["\u0275\u0275element"](0,"div",44)}function ne(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",45),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.ngIf,n=i["\u0275\u0275nextContext"]().$implicit;i["\u0275\u0275property"]("title",e[n.name]),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e[n.name]," ")}}function ie(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",46),i["\u0275\u0275elementStart"](1,"div",47),i["\u0275\u0275elementStart"](2,"button",48),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveAction(n,n+1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",49),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().index,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.moveAction(n,n-1)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"button",50),i["\u0275\u0275listener"]("click",function(t){i["\u0275\u0275restoreView"](e);const n=i["\u0275\u0275nextContext"]().$implicit,o=i["\u0275\u0275nextContext"]();return t.stopPropagation(),o.removeAction(n)}),i["\u0275\u0275text"](5),i["\u0275\u0275pipe"](6,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](),t=e.last,n=e.first;i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("disabled",t),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("disabled",n),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](6,3,"com.bmc.arsys.rx.client.common.remove.label")," ")}}function oe(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"div",34,35),i["\u0275\u0275template"](2,te,1,0,"div",36),i["\u0275\u0275elementStart"](3,"adapt-accordion-tab",37),i["\u0275\u0275listener"]("open",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!0})("close",function(){return i["\u0275\u0275restoreView"](e).$implicit.isOpen=!1}),i["\u0275\u0275elementStart"](4,"div",38),i["\u0275\u0275elementStart"](5,"div",39),i["\u0275\u0275elementStart"](6,"div",40),i["\u0275\u0275template"](7,ne,2,2,"div",41),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](9,ie,7,5,"div",42),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](10,"rx-form-builder",43),i["\u0275\u0275listener"]("modelChange",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit,o=i["\u0275\u0275nextContext"]();return n.model.sandbox.updateActionProperties(t),o.markEditorAsDirty()})("editorEvent",function(t){const n=i["\u0275\u0275restoreView"](e).$implicit,o=i["\u0275\u0275reference"](1);return i["\u0275\u0275nextContext"]().onEvent(t,n.model,o)}),i["\u0275\u0275pipe"](11,"async"),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("cdkDragData",e)("cdkDragDisabled",n.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("isOpen",e.isOpen),i["\u0275\u0275advance"](3),i["\u0275\u0275classProp"]("pl-0",n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](8,11,n.actionLabelsMap$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",i["\u0275\u0275pipeBind1"](11,13,e.config$))("model",i["\u0275\u0275pipeBind1"](12,15,e.model.sandbox.actionProperties$))("isReadOnly",n.config.isReadOnly)}}function re(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",29),i["\u0275\u0275element"](1,"adapt-empty-state",51),i["\u0275\u0275pipe"](2,"translate"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275propertyInterpolate"]("label",i["\u0275\u0275pipeBind1"](2,1,"com.bmc.arsys.rx.client.view-components.action-list.selected-actions.empty-state.message")))}function se(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",52),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().onSave()}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275text"](2),i["\u0275\u0275pipe"](3,"translate"),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](1,2,e.isSaveButtonDisabled$)),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](3,4,"com.bmc.arsys.rx.client.common.save.label")," ")}}function ae(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"span",6),i["\u0275\u0275element"](1,"span",7),i["\u0275\u0275element"](2,"adapt-icon",8),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("name","question_circle_o")("adaptPopover",e.tooltip)}}function ce(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"span",9),i["\u0275\u0275text"](1,"No actions added."),i["\u0275\u0275elementEnd"]())}function le(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",16),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const t=i["\u0275\u0275nextContext"]().$implicit;return i["\u0275\u0275nextContext"](2).removeAction(t)}),i["\u0275\u0275elementEnd"]()}}function de(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"li",12),i["\u0275\u0275elementStart"](1,"strong",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"button",14),i["\u0275\u0275listener"]("click",function(){const t=i["\u0275\u0275restoreView"](e).$implicit;return i["\u0275\u0275nextContext"](2).editAction(t)}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](4,le,1,0,"button",15),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.actionLabelsMap[e.data.name]),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!n.isDisabled)}}function pe(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"ul",10),i["\u0275\u0275template"](1,de,5,2,"li",11),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",e.selectedActions)}}function me(e,t){const n=t[e];return t[null==n?void 0:n.parentGuid]}function ue(e,t){const n=[e];let i=me(e,t),o=i?i.guid:null;for(;o;)n.unshift(o),i=me(o,t),o=i?i.guid:null;return n}function he(e,t){if(t.layout){if(p.RxViewLayout.hasChild(t.layout,e))return!0}return!!t.childDataComponentGuids&&(0,u.includes)(t.childDataComponentGuids,e)}function ge(e,t,n,i,o=0,r=0){const s=Object.assign({},e);return s.layout={outlets:e.layout.outlets.map(e=>{if(e.name===n){const n=[...e.columns];return i=isFinite(i)?i:n[o].children.length,n[o]||(n[o]={children:[]},r&&(n[o].span=r)),n[o]={children:[...n[o].children.slice(0,i),t,...n[o].children.slice(i)],span:n[o].span},Object.assign(Object.assign({},e),{columns:n})}return e})},s}function ve(e,t){const n=Object.assign({},t);return(0,u.some)(n.childDataComponentGuids,t=>e===t)&&(n.childDataComponentGuids=n.childDataComponentGuids.filter(t=>t!==e)),t.layout&&p.RxViewLayout.hasChild(t.layout,e)&&(n.layout=p.RxViewLayout.removeChildFromLayout(t.layout,e)),n}function fe(e){const t=[];return e.childDataComponentGuids&&t.push(...e.childDataComponentGuids),e.layout&&t.push(...p.RxViewLayout.getViewLayoutChildGuids(e.layout)),(0,u.uniq)(t)}function be(e,t){const n=fe(e);return n.reduce((e,n)=>(e.push(...be(t[n],t)),e),n)}class we{constructor(){this.componentIcon="d-icon-file_o",this.componentPropertyIcon="d-icon-file_o_gear",this.settablePropertiesIcon="d-icon-arrow_right_square_input",this.actionOutputIcon="d-icon-arrow_chart"}getActionOutputDataDictionaryBranch(e,t){return{label:e,icon:"d-icon-arrow_chart",children:(0,u.map)(t,e=>this.buildDataDictionaryBranch(e,this.actionOutputIcon))}}getComponentCommonDataDictionaryBranch(e){return Object.assign(Object.assign({},e),{icon:this.componentIcon,children:(0,u.flow)(e=>(0,u.map)(e,e=>this.buildDataDictionaryBranch(e,this.componentPropertyIcon)),u.compact)(e.children)})}getSettablePropertiesDataDictionary(e){return(0,u.map)(e,e=>this.buildDataDictionaryBranch(e,this.settablePropertiesIcon))}buildDataDictionaryBranch(e,t){const n=Object.assign({},e);return e.expression&&(n.icon=t),e.children&&(n.children=(0,u.flow)(e=>(0,u.map)(e,e=>this.buildDataDictionaryBranch(e,t)),u.compact)(e.children)),n}}we.\u0275fac=function(e){return new(e||we)},we.\u0275prov=i["\u0275\u0275defineInjectable"]({token:we,factory:we.\u0275fac,providedIn:"root"});class ye{constructor(){this.componentsCommon=null,this.componentsCommonSubject=new h.ReplaySubject(1),this.componentsCommon$=this.componentsCommonSubject.asObservable(),this.viewCommon=null,this.viewCommonSubject=new h.ReplaySubject(1),this.viewCommon$=this.viewCommonSubject.asObservable(),this.actionsOutput=[],this.actionsOutputSubject=new h.ReplaySubject(1),this.actionsOutput$=this.actionsOutputSubject.asObservable(),this.settableProperties=null,this.settablePropertiesSubject=new h.ReplaySubject(1),this.settableProperties$=this.settablePropertiesSubject.asObservable()}setCommonDataDictionaryBranch(e,t){this.setComponentCommon((0,u.isEmpty)(t)?(0,u.omit)(this.componentsCommon,[e]):Object.assign(Object.assign({},this.componentsCommon),{[e]:t}))}setViewCommonDataDictionaryBranch(e){this.setViewCommon(e)}setSettablePropertiesDataDictionary(e){this.setSettableProperties(Object.assign(Object.assign({},this.settableProperties),e.reduce((e,{guid:t,componentName:n,dataDictionary:i})=>(e[t]={componentName:n,dataDictionary:i},e),{})))}removeDataDictionaryForComponents(e){e.some(e=>(0,u.has)(this.componentsCommon,e))&&this.setComponentCommon((0,u.omit)(this.componentsCommon,e)),e.some(e=>(0,u.has)(this.settableProperties,e))&&this.setSettableProperties((0,u.omit)(this.settableProperties,e))}setActionOutputDataDictionaryBranch(e,t,n){this.setActionsOutput((0,u.flow)(i=>[...(0,u.reject)(i,{guid:e}),{guid:e,index:t,dataDictionaryBranch:n}],e=>(0,u.sortBy)(e,"index"))(this.actionsOutput))}updateActionOutputDataDictionaryBranchOrder(e){this.setActionsOutput((0,u.flow)(t=>(0,u.map)(t,t=>Object.assign(Object.assign({},t),{index:e[t.guid]})),e=>(0,u.sortBy)(e,"index"))(this.actionsOutput))}removeActionOutputDataDictionaryBranch(e){this.setActionsOutput((0,u.reject)(this.actionsOutput,{guid:e}))}removeAllActionOutputDataDictionaryBranches(){this.setActionsOutput(null)}clear(){this.setComponentCommon(null),this.setViewCommon(null),this.setSettableProperties(null),this.setActionsOutput([])}setComponentCommon(e){this.componentsCommon=e,this.componentsCommonSubject.next(this.componentsCommon)}setViewCommon(e){this.viewCommon=e,this.viewCommonSubject.next(this.viewCommon)}setActionsOutput(e){this.actionsOutput=e,this.actionsOutputSubject.next(this.actionsOutput)}setSettableProperties(e){this.settableProperties=e,this.settablePropertiesSubject.next(this.settableProperties)}}ye.\u0275fac=function(e){return new(e||ye)},ye.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ye,factory:ye.\u0275fac,providedIn:"root"});class xe{constructor(){this.onChangeSubject=new h.Subject,this.configs=new Map,this.onChange$=this.onChangeSubject.asObservable()}clear(){this.configs.clear()}set(e,t){this.configs.set(e,t),this.onChangeSubject.next({guid:e,config:t})}get(e){return this.configs.get(e)}delete(e){this.onChangeSubject.next({guid:e,config:null}),this.configs.delete(e)}}xe.\u0275fac=function(e){return new(e||xe)},xe.\u0275prov=i["\u0275\u0275defineInjectable"]({token:xe,factory:xe.\u0275fac,providedIn:"root"});const Ce=(0,b.createAction)("[View Component] Components Removed",(0,b.props)()),De=(0,b.createAction)("[View Component] Initialize Component Models",(0,b.props)()),Se=(0,b.createAction)("[View Component] Initialize Data Component Models",(0,b.props)()),Ve=(0,b.createAction)("[View Component] Set Validation Issues",(0,b.props)()),Me=(0,b.createAction)("[View Component] Set Expression Validation Issues",(0,b.props)()),Ie=(0,b.createAction)("[View Component] Set Component Properties",(0,b.props)()),Pe=(0,b.createAction)("[View Component] Set Child Components",(0,b.props)()),Ee=(0,b.createAction)("[View Component] Set Breadcrumbs",(0,b.props)()),Oe=(0,b.createAction)("[View Component] Select Component",(0,b.props)()),je=(0,b.createAction)("[View Component] Set Component Layout",(0,b.props)()),Re=(0,b.createAction)("[View Component] Move Component",(0,b.props)()),Ae=(0,b.createAction)("[View Component] Insert Component",(0,b.props)()),ke=(0,b.createAction)("[View Component] Add New Components",(0,b.props)()),Be=(0,b.createAction)("[View Component] Update Component Model",(0,b.props)()),Fe=(0,b.createAction)("[View Component] Remove Components",(0,b.props)());class Ne{constructor(e){this.store$=e}dispatch(e){this.store$.dispatch(e)}}Ne.\u0275fac=function(e){return new(e||Ne)(i["\u0275\u0275inject"](b.Store))},Ne.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ne,factory:Ne.\u0275fac,providedIn:"root"});const Te=(0,b.createAction)("[View Designer] View Definition Save Success",(0,b.props)()),Le=(0,b.createAction)("[View Designer] View Definition Save Error"),_e=(0,b.createAction)("[View Designer] View Definition Load Success",(0,b.props)()),$e=(0,b.createAction)("[View Designer] View Definition Load Error"),ze=(0,b.createAction)("[View Designer] Set Generated View Definition",(0,b.props)()),Ue=(0,b.createAction)("[View Designer] Load View Definition",(0,b.props)()),Xe=(0,b.createAction)("[View Designer] Bundle Friendly Name Load Success",(0,b.props)()),Ge=(0,b.createAction)("[View Designer] Bundle Friendly Name Load Error",(0,b.props)()),Ye=(0,b.createAction)("[View Designer] View Models Initialized"),Qe=(0,b.createAction)("[View Designer] View Models Updated After Save"),We=(0,b.createAction)("[View Designer] Update View Model",(0,b.props)()),qe=(0,b.createAction)("[View Designer] Set View Model",(0,b.props)()),He=(0,b.createAction)("[View Designer] Select Inspector Tab",(0,b.props)()),Ze=(0,b.createAction)("[View Designer] Save View Definition",(0,b.props)()),Je=(0,b.createAction)("[View Designer] Run Preview"),Ke=(0,b.createAction)("[View Designer] Load Bundle Friendly Name"),et=(0,b.createAction)("[View Designer] Generate View Definition",(0,b.props)()),tt=(0,b.createAction)("[View Designer] Clear Canvas"),nt=(0,b.createAction)("[View Designer] Init",(0,b.props)()),it=(0,b.createAction)("[View Designer] Destroy"),ot=(0,b.createFeatureSelector)("viewDesigner"),rt=(0,b.createSelector)(ot,e=>e.model),st=(0,b.createSelector)(rt,e=>e.viewDesignModel),at=(0,b.createSelector)(st,(e,{propertyName:t})=>(0,u.get)(e,t)),ct=(0,b.createSelector)(rt,e=>e.viewComponentDesignModels),lt=(0,b.createSelector)(rt,e=>{var t;return null===(t=Object.values(e.viewComponentDesignModels)[0])||void 0===t?void 0:t.type}),dt=(0,b.createSelector)(ct,(e,{guid:t})=>e[t]),pt=(0,b.createSelector)(dt,e=>null==e?void 0:e.parentGuid),mt=(0,b.createSelector)(ct,(e,{guid:t,propertyName:n})=>e[t]?n?(0,u.get)(e[t].propertiesByName,n):e[t].propertiesByName:null),ut=(0,b.createSelector)(ct,(e,{guid:t})=>e[t]?e[t].type:null),ht=(0,b.createSelector)(dt,e=>null==e?void 0:e.layout),gt=(0,b.createSelector)(dt,e=>null==e?void 0:e.permissions),vt=(0,b.createSelector)(dt,e=>null==e?void 0:e.childDataComponentGuids),ft=(0,b.createSelector)(ot,e=>e.ui),bt=(0,b.createSelector)(ft,e=>e.isViewDefinitionLoading),wt=(0,b.createSelector)(ft,e=>e.friendlyBundleName),yt=(0,b.createSelector)(ft,e=>e.currentBundleId),xt=(0,b.createSelector)(ot,e=>e.viewDefinition),Ct=(0,b.createSelector)(ot,e=>e.validation),Dt=(0,b.createSelector)(ot,e=>e.breadcrumbs),St=(0,b.createSelector)(ft,e=>e.selectedInspectorTabId),Vt=(0,b.createSelector)(ft,e=>e.selectedComponentGuid),Mt=(0,b.createSelector)(ft,e=>e.areViewModelsReady);(0,b.createSelector)(Vt,ct,(e,t)=>{if(t&&e){const n=t[e];return n?n.propertiesByName:null}return null});class It{constructor(e,t,n,i,o,r,s,a){this.dispatcher=e,this.store$=t,this.actions$=n,this.rxViewDesignerInspectorService=i,this.rxGuidService=o,this.rxViewDataDictionaryBuilderService=r,this.rxViewDataDictionaryService=s,this.rxOverlayService=a,this.viewDefinition$=this.store$.select(xt),this.validationIssues$=this.store$.select(Ct),this.breadcrumbs$=this.store$.select(Dt),this.viewDesignerModelState$=this.store$.select(rt),this.viewModel$=this.store$.select(st).pipe((0,g.filter)(Boolean)),this.viewModelGuid$=this.getViewPropertyValue("guid"),this.viewComponentModels$=this.store$.select(ct),this.firstViewComponentModelType$=this.store$.select(lt),this.isExtensionView$=this.getViewPropertyValue("targetViewDefinitionName").pipe((0,g.map)(Boolean),(0,g.shareReplay)(1)),this.isExtensionContainerSet$=this.getViewPropertyValue("targetExtensionContainerGuid").pipe((0,g.map)(Boolean),(0,g.shareReplay)(1)),this.allComponentGuids$=this.viewComponentModels$.pipe((0,g.map)(e=>new Set(Object.keys(e))),(0,g.shareReplay)({refCount:!0,bufferSize:1})),this.selectedComponentGuid$=this.store$.select(Vt).pipe((0,g.switchMap)(e=>this.viewModelGuid$.pipe((0,g.map)(t=>e===t?null:e),(0,g.take)(1)))),this.selectedComponentProperties$=this.selectedComponentGuid$.pipe((0,g.switchMap)(e=>e?this.getComponentProperties(e):(0,h.of)(null))),this.isViewDefinitionLoading$=this.store$.select(bt),this.selectedInspectorTabId$=this.store$.select(St),this.bundleFriendlyName$=this.store$.select(wt),this.currentBundleId$=this.store$.select(yt),this.viewInspectorLayout$=(0,h.merge)(this.viewModelGuid$,this.rxViewDesignerInspectorService.onChange$.pipe((0,g.withLatestFrom)(this.viewModelGuid$),(0,g.filter)(([e,t])=>e.guid===t),(0,g.map)(([e,t])=>t))).pipe((0,g.map)(e=>{const t=this.rxViewDesignerInspectorService.get(e);return t?t.inspectorSectionConfigs:null})),this.selectedComponentInspectorLayout$=(0,h.merge)(this.selectedComponentGuid$.pipe((0,g.distinctUntilChanged)()),this.rxViewDesignerInspectorService.onChange$.pipe((0,g.withLatestFrom)(this.selectedComponentGuid$),(0,g.filter)(([e,t])=>e.guid===t),(0,g.map)(([e,t])=>t))).pipe((0,g.map)(e=>{const t=this.rxViewDesignerInspectorService.get(e);return t?t.inspectorSectionConfigs:null})),this.isViewReadOnly$=(0,h.combineLatest)([this.viewModel$,this.currentBundleId$.pipe((0,g.switchMap)(e=>this.rxOverlayService.areNewDefinitionsAllowed(e)))]).pipe((0,g.map)(([e,t])=>!t||!this.rxOverlayService.isCustomizationEnabled("allowOverlay",e)),(0,g.distinctUntilChanged)(),(0,g.shareReplay)(1)),this.viewDefinitionLoadError$=this.actions$.pipe((0,f.ofType)($e)),this.viewDefinitionSaveSuccess$=this.actions$.pipe((0,f.ofType)(Te)),this.initViewDesigner$=this.actions$.pipe((0,f.ofType)(nt)),this.destroyViewDesignerSubject=new h.Subject,this.destroyViewDesigner$=this.destroyViewDesignerSubject.asObservable(),this.viewModelsInitialized$=this.actions$.pipe((0,f.ofType)(Ye)),this.areViewModelsReady$=this.store$.select(Mt),this.viewCommonDataDictionaryState$=this.rxViewDataDictionaryService.viewCommon$,this.componentsCommonDataDictionaryState$=this.rxViewDataDictionaryService.componentsCommon$,this.actionsDataDictionaryState$=this.rxViewDataDictionaryService.actionsOutput$,this.settablePropertiesDataDictionaryState$=this.rxViewDataDictionaryService.settableProperties$,this.settablePropertiesDataDictionarySubject=new h.Subject,(0,h.merge)(this.settablePropertiesDataDictionarySubject.pipe((0,g.bufferToggle)(this.initViewDesigner$,e=>this.viewModelsInitialized$)),this.viewModelsInitialized$.pipe((0,g.switchMap)(()=>this.settablePropertiesDataDictionarySubject.pipe((0,g.map)(e=>[e]),(0,g.takeUntil)(this.initViewDesigner$))))).subscribe(e=>{this.rxViewDataDictionaryService.setSettablePropertiesDataDictionary(e)})}getComponentModel(e){return this.store$.select(dt,{guid:e})}initViewDesigner(e){this.dispatcher.dispatch(nt({payload:e}))}destroyViewDesigner(){this.destroyViewDesignerSubject.next(),this.dispatcher.dispatch(it())}selectComponent(e){this.dispatcher.dispatch(Oe({guid:e}))}insertComponent(e){this.dispatcher.dispatch(Ae(Object.assign(Object.assign({columnIndex:(0,u.isFinite)(e.data&&e.data.columnIndex)?e.data.columnIndex:0},e),{data:{guid:e.data.draggedViewComponentGuid,type:e.data.draggedViewComponentDescriptor.type,initialPropertiesByName:e.data.initialPropertiesByName}})))}selectInspectorTab(e){this.dispatcher.dispatch(He(e))}generateViewDefinition(e){this.dispatcher.dispatch(et({payload:e}))}updateComponentProperties(e,t){this.dispatcher.dispatch(Be({payload:[{guid:e,partialModel:{propertiesByName:t}}]}))}updateComponentModel(e,t){this.dispatcher.dispatch(Be({payload:[{guid:e,partialModel:t}]}))}getComponentProperties(e){return this.store$.select(mt,{guid:e})}getComponentPropertyValue(e,t){return this.store$.select(mt,{guid:e,propertyName:t}).pipe((0,g.withLatestFrom)(this.getComponentModel(e)),(0,g.switchMap)(([e,t])=>t?(0,h.of)(e):h.EMPTY))}getComponentType(e){return this.store$.select(ut,{guid:e})}getComponentPermissions(e){return this.store$.select(gt,{guid:e})}getComponentLayout(e){return this.store$.select(ht,{guid:e})}updateSelectedComponentProperties(e){this.selectedComponentGuid$.pipe((0,g.take)(1)).subscribe(t=>{this.updateComponentProperties(t,e)})}saveViewDefinition(e){this.dispatcher.dispatch(Ze({payload:e}))}updateViewProperties(e){this.dispatcher.dispatch(We({payload:e}))}setViewProperties(e){this.dispatcher.dispatch(qe({payload:e}))}getViewPropertyValue(e){return this.store$.select(at,{propertyName:e}).pipe((0,g.switchMapTo)(this.viewModel$.pipe((0,g.map)(t=>t[e]),(0,g.take)(1))),(0,g.distinctUntilChanged)())}runPreview(){this.dispatcher.dispatch(Je())}clearCanvas(){this.dispatcher.dispatch(tt())}setComponentInspector(e,t){this.rxViewDesignerInspectorService.set(e,t)}setValidationIssues(e,t){this.dispatcher.dispatch(Ve({guid:e,issues:t}))}setExpressionValidationIssues(e){this.dispatcher.dispatch(Me({issues:e}))}setViewInspectorConfig(e){this.viewModelGuid$.pipe((0,g.take)(1)).subscribe(t=>{this.setComponentInspector(t,e)})}removeViewComponents(e,t){e.length&&this.dispatcher.dispatch(Fe({guids:e,selectParent:t}))}setComponentSettablePropertiesDataDictionary(e,t,n){this.settablePropertiesDataDictionarySubject.next({guid:e,componentName:t,dataDictionary:this.rxViewDataDictionaryBuilderService.getSettablePropertiesDataDictionary(n)})}setComponentCommonDataDictionaryBranch(e,t){this.rxViewDataDictionaryService.setCommonDataDictionaryBranch(e,t?this.rxViewDataDictionaryBuilderService.getComponentCommonDataDictionaryBranch(t):null)}setViewCommonDataDictionaryBranch(e){this.rxViewDataDictionaryService.setViewCommonDataDictionaryBranch(e)}removeAllActionDataDictionaryBranches(){this.rxViewDataDictionaryService.removeAllActionOutputDataDictionaryBranches()}removeActionDataDictionaryBranch(e){this.rxViewDataDictionaryService.removeActionOutputDataDictionaryBranch(e)}setActionDataDictionaryBranch(e,t,n,i=null){this.rxViewDataDictionaryService.setActionOutputDataDictionaryBranch(e,t,this.rxViewDataDictionaryBuilderService.getActionOutputDataDictionaryBranch(n,i))}updateActionDataDictionaryBranchOrder(e){this.rxViewDataDictionaryService.updateActionOutputDataDictionaryBranchOrder(e)}getChildComponentGuids(e,t=!1,n){return(0,h.combineLatest)([this.store$.select(ht,{guid:e}),this.store$.select(vt,{guid:e})]).pipe((0,g.switchMap)(()=>this.getComponentModel(e).pipe((0,g.take)(1))),(0,g.switchMap)(e=>e?(0,h.of)((0,u.compact)([...e.layout?p.RxViewLayout.getViewLayoutChildGuids(e.layout):[],...e.childDataComponentGuids||[]])):h.EMPTY),(0,g.switchMap)(e=>e.length&&t?(0,h.combineLatest)(e.map(e=>this.getChildComponentGuids(e,!0))).pipe((0,g.map)(u.flatten),(0,g.map)(t=>[...t,...e])):(0,h.of)(e)),(0,g.switchMap)(e=>e.length?this.viewComponentModels$.pipe((0,g.map)(t=>{let i=e.filter(e=>t[e]);return n&&(i=i.filter(e=>n({type:t[e].type,guid:t[e].guid,data:t[e].propertiesByName}))),i}),(0,g.take)(1)):(0,h.of)(e)))}getChildComponents(e,t){return this.getChildComponentGuids(e,!1,t).pipe((0,g.switchMap)(e=>e.length?(0,h.combineLatest)(e.map(e=>this.getComponentProperties(e).pipe((0,g.withLatestFrom)(this.getComponentModel(e)),(0,g.switchMap)(([t,n])=>n?(0,h.of)({type:n.type,data:t,guid:e}):h.EMPTY)))):(0,h.of)([])))}getComponent(e){return this.getComponentModel(e).pipe((0,g.map)(e=>e?{data:e.propertiesByName,guid:e.guid,type:e.type}:null))}getComponentsByType(e){return this.viewComponentModels$.pipe((0,g.map)(t=>(0,u.filter)(t,{type:e}).map(e=>({guid:e.guid,data:e.propertiesByName,type:e.type}))))}getChildComponentTree(e){return this.viewComponentModels$.pipe((0,g.map)(t=>{const n=e=>fe(e).reduce((e,i)=>(t[i]&&e.push({guid:i,data:t[i].propertiesByName,type:t[i].type,children:n(t[i])}),e),[]);return t[e]?n(t[e]):[]}))}getParentComponentGuid(e,t){return this.store$.select(pt,{guid:e}).pipe((0,g.switchMap)(e=>e&&t?this.store$.select(ut,{guid:e}).pipe((0,g.switchMap)(n=>n===t?(0,h.of)(e):this.getParentComponentGuid(e,t))):(0,h.of)(e||null)))}setChildren(e,t){this.dispatcher.dispatch(Pe({payload:{guid:e,data:t}}))}}It.\u0275fac=function(e){return new(e||It)(i["\u0275\u0275inject"](Ne),i["\u0275\u0275inject"](b.Store),i["\u0275\u0275inject"](f.Actions),i["\u0275\u0275inject"](xe),i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](we),i["\u0275\u0275inject"](ye),i["\u0275\u0275inject"](c.RxOverlayService))},It.\u0275prov=i["\u0275\u0275defineInjectable"]({token:It,factory:It.\u0275fac,providedIn:"root"});class Pt{constructor(){this.models=new Map}clear(){this.models.clear()}set(e,t){this.models.set(e,t)}get(e){return this.models.get(e)}delete(e){this.models.delete(e)}}Pt.\u0275fac=function(e){return new(e||Pt)},Pt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Pt,factory:Pt.\u0275fac,providedIn:"root"});class Et{constructor(e,t,n,i){this.rxDefinitionNameService=e,this.rxBundleCacheService=t,this.viewDesignerModels=n,this.rxViewDefinitionLocalizationService=i}generate(e,t,n=!1){const i=e,o=(0,u.omit)(i,"displayName","layout","layoutName","pageComponent","isAngularJsView");return o.name=o.name||this.rxDefinitionNameService.getDefinitionName(this.rxBundleCacheService.bundleId,i.displayName),o.componentDefinitions=this.generateComponentDefinitions(i,t),n&&(o.localizableStringsByComponentId=this.rxViewDefinitionLocalizationService.extractLocalizableStrings(o)),delete o.localizablePropertyToStringGuidMap,o.layout=JSON.stringify(i.layout),o}generateComponentDefinitions(e,t){return fe(e).map(e=>{const n=Object.assign({},t[e]),i=this.viewDesignerModels.get(e),o=(0,u.isFunction)(null==i?void 0:i.getPropertiesByName)?i.getPropertiesByName(n.propertiesByName):n.propertiesByName;return n.propertiesByName=this.serializeComponentDefinitionProperties(o),delete n.parentGuid,n.type!==p.RxViewComponentType.Action&&(0,u.has)(n.propertiesByName,"name")&&(n.propertiesByName.name&&(n.name=n.propertiesByName.name),delete n.propertiesByName.name),(n.layout||n.childDataComponentGuids)&&(n.componentDefinitions=this.generateComponentDefinitions(n,t),delete n.childDataComponentGuids),n.layout&&(n.layout=JSON.stringify(n.layout)),n})}serializeComponentDefinitionProperties(e){return(0,u.transform)(e,(e,t,n)=>{switch(!0){case(0,u.isArray)(t):case(0,u.isNumber)(t):case(0,u.isBoolean)(t):case(0,u.isPlainObject)(t):e[n]=JSON.stringify(t);break;case(0,u.isObject)(t):const i=Object.create(null);t.forEach((e,t)=>i[t]=e),e[n]=JSON.stringify(i);break;case(0,u.isFunction)(t):case(0,u.isUndefined)(t):e[n]=null;break;default:e[n]=t}},{})}}function Ot(e){return!/^[a-z][-\w]+$/gi.test((0,u.isObject)(e)?e.data.value:e)}function jt(e){const t=[];if(e){e.split(" ").some(Ot)&&t.push({type:"error",propertyName:"styles",description:"CSS class name is invalid."})}return t}function Rt(e){const t=[];return(null==e?void 0:e.length)||t.push({type:"error",propertyName:p.RX_AVAILABLE_ON_DEVICES_PROP_NAME,description:"At least one device must be selected."}),t}function At(e){return[...jt(e[p.RX_STYLES_PROP_NAME]),...Rt(e[p.RX_AVAILABLE_ON_DEVICES_PROP_NAME])]}Et.\u0275fac=function(e){return new(e||Et)(i["\u0275\u0275inject"](c.RxDefinitionNameService),i["\u0275\u0275inject"](c.RxBundleCacheService),i["\u0275\u0275inject"](Pt),i["\u0275\u0275inject"](p.RxViewDefinitionLocalizationService))},Et.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Et,factory:Et.\u0275fac,providedIn:"root"});class kt{constructor(e,t,n,i,o){this.rxDefaultExpressionValidatorService=e,this.rxDefaultExpressionEvaluatorService=t,this.rxStringService=n,this.rxExpressionParserService=i,this.viewDesignerFacade=o}validate(e,t,n=this.rxStringService.prettify(t),i=this.rxDefaultExpressionEvaluatorService){let o=(0,h.of)([]);if(this.rxDefaultExpressionValidatorService.isValid(e,i)){if(this.rxStringService.isNonEmptyString(e)){const n=new Set;if(this.rxExpressionParserService.parse(e,(e,t)=>{if(e===c.ExpressionParserToken.RxExpression||e===c.ExpressionParserToken.SingleQuoteRxExpression){const e=/\${view\.components\.([0-9a-z-]+)\..+}/.exec(t);e&&e[1]&&n.add(e[1])}return t}),n.size){const e=Array.from(n);o=this.viewDesignerFacade.allComponentGuids$.pipe((0,g.map)(t=>e.filter(e=>!t.has(e))),(0,g.distinctUntilChanged)(u.isEqual),(0,g.map)(e=>e.map(()=>({type:"error",description:"Expression references a non-existent view component.",propertyName:t}))))}}}else o=(0,h.of)([{type:"error",description:`${n} must be a valid expression.`,propertyName:t}]);return o}}kt.\u0275fac=function(e){return new(e||kt)(i["\u0275\u0275inject"](p.RxDefaultExpressionValidatorService),i["\u0275\u0275inject"](p.RxDefaultExpressionEvaluatorService),i["\u0275\u0275inject"](v.RxStringService),i["\u0275\u0275inject"](c.RxExpressionParserService),i["\u0275\u0275inject"](It))},kt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:kt,factory:kt.\u0275fac,providedIn:"root"});class Bt{constructor(e,t,n,i,o){this.viewDesignerFacade=e,this.rxViewDataDictionaryBuilderService=t,this.rxViewComponentRegistryService=n,this.rxObjectUtilsService=i,this.rxDataDictionaryUtils=o,this.componentsCommonDataDictionaryStateClone$=this.viewDesignerFacade.componentsCommonDataDictionaryState$.pipe((0,g.map)(e=>e?this.rxObjectUtilsService.cloneDeep(e):{}),(0,g.shareReplay)(1)),this.viewCommonDataDictionaryStateClone$=this.viewDesignerFacade.viewCommonDataDictionaryState$.pipe((0,g.filter)(Boolean),(0,g.map)(e=>this.rxObjectUtilsService.cloneDeep(e)),(0,g.shareReplay)(1)),this.commonDataDictionary$=this.getCommonDataDictionary(),this.settablePropertiesDataDictionary$=this.viewDesignerFacade.settablePropertiesDataDictionaryState$.pipe((0,g.withLatestFrom)(this.viewDesignerFacade.viewDesignerModelState$),(0,g.map)(([e,t])=>this.rxObjectUtilsService.cloneDeep(this.getSettablePropsDataDictionary(e,t))))}getActionDataDictionary(e){return(0,h.combineLatest)([this.viewDesignerFacade.actionsDataDictionaryState$,this.getCommonDataDictionary()]).pipe((0,g.map)(([t,n])=>{const i=(0,u.find)(t,{guid:e});return[{label:"Actions",children:i?(0,u.flow)(e=>(0,u.take)(e,i.index),e=>(0,u.map)(e,"dataDictionaryBranch"),u.compact,e=>(0,u.filter)(e,e=>{var t;return null===(t=e.children)||void 0===t?void 0:t.length}),e=>this.rxObjectUtilsService.cloneDeep(e))(t):[]},...n]}),(0,g.distinctUntilChanged)(u.isEqual))}getComponentCommonDataDictionary(e){return this.componentsCommonDataDictionaryStateClone$.pipe((0,g.map)(t=>t[e]))}getCommonDataDictionary(e){return(0,h.combineLatest)([this.viewCommonDataDictionaryStateClone$,this.componentsCommonDataDictionaryStateClone$.pipe((0,g.map)(t=>Object.values(e?Object.assign(Object.assign({},t),e):t)))]).pipe((0,g.map)(([e,t])=>[{label:"General",children:[{label:"Current user",icon:"d-icon-dollar",expression:"${keywords.user}"},{label:"New line",icon:"d-icon-dollar",expression:"${keywords.newLine}"}]},{label:"Functions",children:this.rxDataDictionaryUtils.getFunctionsDataDictionaryBranch(p.RX_EXPRESSION_FUNCTIONS)},Object.assign(Object.assign({},e),{children:[{label:"Components",children:(0,u.compact)(t),expanded:!0},...e.children]})]))}getSettablePropsDataDictionary(e,t){return fe(t.viewDesignModel).map(n=>this.getSettablePropsDataDictionaryBranch(n,t,e,!0)).filter(Boolean)}getSettablePropsDataDictionaryBranch(e,t,n,i=!1){const o=n[e],r=t.viewComponentDesignModels[e],s=this.rxViewComponentRegistryService.get(r.type),a=s.outlets&&r.layout?p.RxViewLayout.getViewLayoutChildGuids(r.layout):null,c=(0,u.map)(a,e=>this.getSettablePropsDataDictionaryBranch(e,t,n)).filter(Boolean),l=(0,u.get)(o,"dataDictionary",[]);if(c.length||l.length)return{label:(null==o?void 0:o.componentName)||s.name,expanded:i,children:c.length&&l.length?[{label:"Components",children:c},{label:"Properties",children:l}]:c.length?c:l}}}Bt.\u0275fac=function(e){return new(e||Bt)(i["\u0275\u0275inject"](It),i["\u0275\u0275inject"](we),i["\u0275\u0275inject"](p.RxViewComponentRegistryService),i["\u0275\u0275inject"](v.RxObjectUtilsService),i["\u0275\u0275inject"](c.RxDataDictionaryUtils))},Bt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Bt,factory:Bt.\u0275fac,providedIn:"root"});class Ft extends c.RxExpressionConfigurator{constructor(e){super(),this.injector=e,this.rxExpressionHelperService=this.injector.get(p.RxExpressionHelperService)}getDefaultConfig(){return Object.assign(Object.assign({},super.getDefaultConfig()),{dataDictionary$:this.commonDataDictionary$,operators:c.ExpressionOperatorRowsByGroup.get(c.ExpressionOperatorGroup.AllClient),validateExpression:(e,t)=>{let n=!0;const i=this.getExpressionEvaluator(e);try{i.parseExpression(this.rxExpressionHelperService.prepare(t))}catch(o){n=!1}return(0,h.of)(n)}})}}class Nt extends Ft{constructor(e,t,n,i){super(e),this.injector=e,this.componentGuid=t,this.componentModel=n,this.componentType=i,this.rxDefaultExpressionEvaluatorService=this.injector.get(p.RxDefaultExpressionEvaluatorService),this.rxViewDataDictionaryService=this.injector.get(Bt),this.rxViewComponentRegistryService=this.injector.get(p.RxViewComponentRegistryService),this.commonDataDictionary$=this.rxViewDataDictionaryService.commonDataDictionary$}getExpressionEvaluator(e){var t;const n=this.componentType&&this.rxViewComponentRegistryService.get(this.componentType).properties.find(t=>t.name===e);return(0,u.isFunction)(null===(t=null==n?void 0:n.evaluatorService)||void 0===t?void 0:t.parseExpression)?n.evaluatorService:this.rxDefaultExpressionEvaluatorService}getCommonDataDictionary(e,t=this.componentGuid){return e?e.pipe((0,g.switchMap)(e=>this.rxViewDataDictionaryService.getCommonDataDictionary({[t]:e}))):this.commonDataDictionary$}getComponentCommonDataDictionary(e){return this.rxViewDataDictionaryService.getComponentCommonDataDictionary(e||this.componentGuid)}}class Tt{constructor(e,t,n){this.viewDesignerFacade=e,this.rxOverlayService=t,this.translateService=n,this.destroyed$=new h.ReplaySubject(1)}ngOnInit(){(0,h.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("allowOverlay"),this.viewDesignerFacade.getViewPropertyValue("scope"),this.viewDesignerFacade.getViewPropertyValue("overlayGroupId"),this.viewDesignerFacade.getViewPropertyValue("overlayDescriptor"),this.viewDesignerFacade.getViewPropertyValue("lastUpdateTime")]).pipe((0,g.withLatestFrom)(this.viewDesignerFacade.viewModel$),(0,g.takeUntil)(this.destroyed$)).subscribe(([[e,t,n,i,o],r])=>{this.controlOptions={allowOverlay:e,scope:t,overlayGroupId:n,overlayDescriptor:i,isDisabled:!this.rxOverlayService.isCustomizationEnabled("allowOverlay",r),definitionTypeDisplayName:this.translateService.instant("com.bmc.arsys.rx.client.view-definition.label").toLowerCase()}})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}setCustomization(e){this.viewDesignerFacade.updateViewProperties(e)}}Tt.\u0275fac=function(e){return new(e||Tt)(i["\u0275\u0275directiveInject"](It),i["\u0275\u0275directiveInject"](c.RxOverlayService),i["\u0275\u0275directiveInject"](m.TranslateService))},Tt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Tt,selectors:[["rx-view-customization-options"]],inputs:{options:"options"},decls:1,vars:2,consts:[[3,"options","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-scope-customization-control",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.value=e})("ngModelChange",function(e){return t.setCustomization(e)}),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",t.controlOptions)("ngModel",t.value)},directives:[l.CustomizationOptionsComponent,w.NgControlStatus,w.NgModel],encapsulation:2});class Lt{constructor(e){this.viewDesignerFacade=e,this.events=new i.EventEmitter,this.controlOptions$=(0,h.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("allowOverlay"),this.viewDesignerFacade.getViewPropertyValue("scope"),this.viewDesignerFacade.getViewPropertyValue("overlayGroupId"),this.viewDesignerFacade.getViewPropertyValue("overlayDescriptor")]).pipe((0,g.map)(([e,t,n,i])=>({allowOverlay:e,scope:t,overlayGroupId:n,overlayDescriptor:i})))}}Lt.\u0275fac=function(e){return new(e||Lt)(i["\u0275\u0275directiveInject"](It))},Lt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Lt,selectors:[["rx-view-revert-customization"]],inputs:{options:"options",isDisabled:"isDisabled"},outputs:{events:"events"},decls:2,vars:4,consts:[[3,"options","isDisabled","events"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-revert-customization",0),i["\u0275\u0275listener"]("events",function(e){return t.events.emit(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",i["\u0275\u0275pipeBind1"](1,2,t.controlOptions$))("isDisabled",t.isDisabled)},directives:[l.RxRevertCustomizationComponent],pipes:[y.AsyncPipe],encapsulation:2});class _t{}_t.\u0275fac=function(e){return new(e||_t)},_t.\u0275mod=i["\u0275\u0275defineNgModule"]({type:_t,declarations:[Lt],imports:[y.CommonModule,l.RxRevertCustomizationModule]}),_t.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,l.RxRevertCustomizationModule]]});class $t{constructor(e,t,n,i,o,r,s,a,c,l,d,p,m){this.injector=e,this.viewDesignerFacade=t,this.rxStringService=n,this.rxOverlayService=i,this.rxViewComponentRegistryService=o,this.rxBundleCacheService=r,this.rxModalService=s,this.rxViewDefinitionCacheService=a,this.rxViewDefinitionParserService=c,this.rxGuidService=l,this.viewDesignerDispatcher=d,this.rxDefinitionNameService=p,this.rxViewExpressionValidatorService=m,this.expressionConfigurator=new Nt(this.injector,null,this),this.destroyed$=new h.ReplaySubject(1),this.allViewDefinitionNamesByBundleId$=this.viewDesignerFacade.currentBundleId$.pipe((0,g.filter)(Boolean),(0,g.switchMap)(e=>this.rxViewDefinitionCacheService.getViewDefinitionNames(e).pipe((0,g.map)(e=>e.map(e=>this.rxDefinitionNameService.getDisplayNameForValidation(e)))))),this.targetExtensionContainerOptions$=this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName").pipe((0,g.switchMap)(e=>e?this.getTargetExtensionContainerOptions(e).pipe((0,g.take)(1)):(0,h.of)(null)),(0,g.shareReplay)(1)),this.targetViewDefinition$=this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName").pipe((0,g.filter)(Boolean),(0,g.switchMap)(e=>this.rxViewDefinitionCacheService.getViewDefinition(e))),this.init()}init(){this.viewDesignerFacade.initViewDesigner$.pipe((0,g.concatMapTo)(this.viewDesignerFacade.viewModelsInitialized$.pipe((0,g.switchMapTo)((0,h.combineLatest)([this.viewDesignerFacade.viewComponentModels$.pipe((0,g.map)(e=>{const t=Object.values(e).find(e=>e.type===p.RxViewComponentType.Page);return t?e[t.childDataComponentGuids[0]].type:null})),this.viewDesignerFacade.viewModel$,this.targetExtensionContainerOptions$]).pipe((0,g.take)(1))))),(0,g.takeUntil)(this.destroyed$)).subscribe(([e,t,n])=>{this.viewDesignerFacade.updateViewProperties({pageComponent:e}),this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(Object.assign(Object.assign({},t),{pageComponent:e}),n))}),this.viewDesignerFacade.initViewDesigner$.pipe((0,g.switchMapTo)(this.targetExtensionContainerOptions$.pipe((0,g.skip)(1),(0,g.withLatestFrom)(this.viewDesignerFacade.viewModel$))),(0,g.takeUntil)(this.destroyed$)).subscribe(([e,t])=>this.onTargetExtensionContainerOptionsChange(e,t)),this.viewDesignerFacade.initViewDesigner$.pipe((0,g.switchMapTo)(this.viewDesignerFacade.getViewPropertyValue("pageComponent").pipe((0,g.skip)(1),(0,g.switchMapTo)((0,h.combineLatest)([this.viewDesignerFacade.viewModel$,this.viewDesignerFacade.viewComponentModels$,this.targetExtensionContainerOptions$]).pipe((0,g.take)(1))))),(0,g.takeUntil)(this.destroyed$)).subscribe(([e,t,n])=>this.onPageComponentChange(e,t,n)),this.viewDesignerFacade.initViewDesigner$.pipe((0,g.switchMapTo)(this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName").pipe((0,g.skip)(1))),(0,g.switchMap)(()=>this.viewDesignerFacade.viewComponentModels$.pipe((0,g.first)())),(0,g.takeUntil)(this.destroyed$)).subscribe(e=>{(0,u.isEmpty)(e)||this.viewDesignerFacade.clearCanvas()}),this.viewDesignerFacade.initViewDesigner$.pipe((0,g.switchMapTo)((0,h.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("styles").pipe((0,g.map)(jt)),this.validateDisplayName(),this.validateInputParams(),this.validateOutputParamExpressions(),this.validateExtensionContainer()]).pipe((0,g.map)(u.flatten),(0,g.map)(u.compact),(0,g.withLatestFrom)(this.viewDesignerFacade.viewModelGuid$))),(0,g.takeUntil)(this.destroyed$)).subscribe(([e,t])=>{this.viewDesignerFacade.setValidationIssues(t,e)}),this.viewDesignerFacade.initViewDesigner$.pipe((0,g.switchMapTo)(this.viewDesignerFacade.getViewPropertyValue("inputParams")),(0,g.takeUntil)(this.destroyed$)).subscribe(e=>this.viewDesignerFacade.setViewCommonDataDictionaryBranch(this.getViewCommonDataDictionary(e))),this.viewDesignerFacade.getViewPropertyValue("targetExtensionContainerGuid").pipe((0,g.withLatestFrom)(this.targetViewDefinition$),(0,g.map)(([e,t])=>this.getTargetRecordDefinitionName(t,e)),(0,g.distinctUntilChanged)(),(0,g.switchMapTo)(this.viewDesignerFacade.viewComponentModels$.pipe((0,g.take)(1))),(0,g.filter)(e=>!(0,u.isEmpty)(e)),(0,g.takeUntil)(this.destroyed$)).subscribe(()=>this.viewDesignerFacade.clearCanvas())}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}getTargetExtensionContainerOptions(e){return this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,g.map)(e=>this.rxViewDefinitionParserService.getComponents(e).filter(({componentDefinition:e})=>e.type===p.RxViewComponentType.ExtensionContainer).map(({componentDefinition:e})=>({id:e.guid,name:e.propertiesByName.name||e.name}))))}onTargetExtensionContainerOptionsChange(e,t){this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(t,e)),e?1===e.length&&this.viewDesignerFacade.updateViewProperties({targetExtensionContainerGuid:e[0].id}):this.viewDesignerFacade.updateViewProperties({targetExtensionContainerGuid:null})}onPageComponentChange(e,t,n){const i=(0,u.find)(t,{type:p.RxViewComponentType.Page});this.viewDesignerFacade.setViewInspectorConfig(this.getInspector(e,n));const o=[];if(e.pageComponent){if(i)this.viewDesignerFacade.updateComponentModel(i.childDataComponentGuids[0],{type:e.pageComponent});else{const n=this.rxGuidService.generate();(0,u.isEmpty)(t)||this.viewDesignerFacade.removeViewComponents(fe(e)),o.push(De({payload:[{componentModel:{guid:n,resourceType:p.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent,type:p.RxViewComponentType.Page,propertiesByName:{},parentGuid:e.guid},insertIndex:0,columnIndex:0,outletName:p.RX_VIEW_DEFINITION.defaultOutletName}]}),Se({payload:[{componentModel:{guid:this.rxGuidService.generate(),type:e.pageComponent,resourceType:p.RX_VIEW_DEFINITION.resourceTypes.viewComponent,propertiesByName:{},parentGuid:n}}]}))}this.viewDesignerFacade.updateViewProperties({inputParams:[],outputParams:[]})}else i&&this.viewDesignerFacade.removeViewComponents([i.guid]);o.forEach(e=>this.viewDesignerDispatcher.dispatch(e))}getInspector(e,t=[]){const n=!Boolean(e.lastUpdateTime)||this.rxOverlayService.isCustomizationEnabled("allowOverlay",e),i=this.rxViewComponentRegistryService.getBundlePageComponents(this.rxBundleCacheService.bundleId).map(e=>({id:e.type,name:e.name}));e.pageComponent&&!this.rxViewComponentRegistryService.get(e.pageComponent)&&i.unshift({name:p.RX_VIEW_DEFINITION.unknownPageComponent.name,id:e.pageComponent});const o={name:"pageComponent",component:l.SelectFormControlComponent,options:{label:"Page component",options:i,beforeValueChange:(e,t)=>this.viewDesignerFacade.viewModel$.pipe((0,g.take)(1),(0,g.withLatestFrom)(this.viewDesignerFacade.viewComponentModels$),(0,g.map)(([n,i])=>!(null==e?void 0:e.length)&&t.length&&(n.inputParams.length||n.outputParams.length||!(0,u.isEmpty)(i)))).toPromise().then(e=>!e||this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:"The view canvas, input and output parameters will be cleared. Do you want to continue?"})),emptyOption:!0}},r={name:"targetExtensionContainerGuid",component:l.SelectFormControlComponent,options:{label:"Extension container",tooltip:new c.Tooltip("Select an extension container in the view to extend where record editor fields from this view will be injected.\n            The records defined for the view to extend and for this view must be associated one-to-one."),options:t||[],required:!0,beforeValueChange:(e,t)=>this.isTargetRecordDefinitionChanged(e,t).pipe((0,g.withLatestFrom)(this.viewDesignerFacade.viewComponentModels$),(0,g.map)(([e,t])=>!(0,u.isEmpty)(t)&&e),(0,g.take)(1)).toPromise().then(e=>!e||this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:"The view canvas will be cleared. Do you want to continue?"}))}},s=[{label:"General",controls:[{name:"displayName",component:l.TextFormControlComponent,isDisabled:Boolean(e.lastUpdateTime),options:{required:!0,label:"Name"}},{name:"description",component:l.TextareaFormControlComponent,isDisabled:!n,options:{label:"Description",rows:3}},{name:"layoutName",component:l.TextFormControlComponent,isDisabled:!0,options:{label:"Layout template"}},{name:"targetViewDefinitionName",component:l.RxDefinitionPickerComponent,isDisabled:!n,options:{label:"View to extend",tooltip:new c.Tooltip("Select a view to extend in order to inject this view into it.\n                The view to extend may be read-only, but must contain at least one Record editor with an Extension container."),definitionType:l.RxDefinitionPickerType.View,beforeValueChange:(e,t)=>this.viewDesignerFacade.viewComponentModels$.pipe((0,g.first)(),(0,g.withLatestFrom)(this.viewDesignerFacade.viewModel$)).toPromise().then(([n,i])=>{const o=Boolean(!(null==e?void 0:e.length)&&t.length&&(i.inputParams.length||i.outputParams.length));let r;return!(0,u.isEmpty)(n)&&o?r="The view canvas, input and output parameters will be cleared. Do you want to continue?":(0,u.isEmpty)(n)?o&&(r="The input and output parameters will be cleared. Do you want to continue?"):r="The view canvas will be cleared. Do you want to continue?",!r||this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:r})})}},{name:"styles",component:l.TagsFormControlComponent,isDisabled:!n,options:{label:"CSS classes",placeholder:"Add CSS classes",tooltip:new c.Tooltip("Enter CSS class names to apply to this view."),errorCheck:Ot}},{name:"permissions",component:l.RxPermissionEditorComponent,isDisabled:!n,options:{label:"Permissions",type:"view"}},{component:Lt},{component:Tt}]},{label:"Input parameters",controls:[{name:"inputParams",component:l.ListFormControlComponent,isDisabled:!n,options:{addItemText:"Add",emptyListText:"No input parameters added.",items:[{label:"Name",propertyName:"name"}]}}]},{label:"Output parameters",controls:[{name:"outputParams",component:l.ListFormControlComponent,isDisabled:!n,options:{addItemText:"Add",emptyListText:"No output parameters added.",items:[{label:"Name",propertyName:"name"},{label:"Source",propertyName:"source",dataDictionary$:this.expressionConfigurator.getDataDictionary(),operators:this.expressionConfigurator.getOperators()}]}}]}];if(i.length&&s[0].controls.splice(2,0,o),e.pageComponent&&(s.splice(1,2),s[0].controls.splice((0,u.findIndex)(s[0].controls,{name:"targetViewDefinitionName"}),1)),e.targetViewDefinitionName){const e=(0,u.findIndex)(s[0].controls,{name:"targetViewDefinitionName"});s[0].controls.splice(e+1,0,r),s[0].controls.splice((0,u.findIndex)(s[0].controls,{name:"pageComponent"}),1),s.splice(1,2),this.viewDesignerFacade.updateViewProperties({inputParams:[],outputParams:[]})}return{inspectorSectionConfigs:s}}validateDisplayName(){return this.viewDesignerFacade.getViewPropertyValue("displayName").pipe((0,g.switchMap)(e=>(0,h.combineLatest)([(0,h.of)(e?a.RX_RECORD_DEFINITION.validDefinitionNameRegex.test(e)?null:{type:"error",propertyName:"displayName",description:"View name can only contain letters, numbers, spaces, dashes, and underscores."}:{type:"error",propertyName:"displayName",description:"View name cannot be blank."}),this.viewDesignerFacade.getViewPropertyValue("lastUpdateTime").pipe((0,g.switchMap)(t=>e&&!t?this.allViewDefinitionNamesByBundleId$.pipe((0,g.map)(n=>!t&&(null==n?void 0:n.some(t=>this.rxStringService.caseInsensitiveIsEqual(e,t)))?{type:"error",propertyName:"displayName",description:"View definition with this name already exists."}:null),(0,g.take)(1)):(0,h.of)(null)),(0,g.take)(1))]))).pipe((0,g.map)(u.compact))}validateInputParams(){return this.viewDesignerFacade.getViewPropertyValue("inputParams").pipe((0,g.map)(e=>{const t=(0,u.flow)(e=>(0,u.map)(e,e=>e.name),u.compact)(e),n=(0,u.uniq)(t),i=[];return e.length&&t.length!==e.length&&i.push({type:"error",propertyName:"inputParams",description:"Input parameter name cannot be blank."}),t.length!==n.length&&i.push({type:"error",propertyName:"inputParams",description:"Input parameter names must be unique."}),i}))}validateOutputParamExpressions(){return this.viewDesignerFacade.getViewPropertyValue("outputParams").pipe((0,g.map)(e=>(0,u.map)(e,e=>e.source).filter(Boolean)),(0,g.distinctUntilChanged)(u.isEqual),(0,g.switchMap)(e=>e.length?(0,h.combineLatest)(e.map(e=>this.rxViewExpressionValidatorService.validate(e,"source","Output parameter source"))).pipe((0,g.map)(u.flatten)):(0,h.of)([])))}validateExtensionContainer(){return(0,h.combineLatest)([this.viewDesignerFacade.getViewPropertyValue("targetViewDefinitionName"),this.viewDesignerFacade.getViewPropertyValue("targetExtensionContainerGuid")]).pipe((0,g.map)(([e,t])=>e&&!t?{type:"error",propertyName:"targetExtensionContainerGuid",description:"Extension container cannot be blank."}:null))}getViewCommonDataDictionary(e){return{label:"View",expression:"${view.api}",icon:"d-icon-file_o",expanded:!0,children:[...(0,u.isEmpty)(e)?[]:[{label:"Input parameters",expanded:!0,children:e.filter(e=>e.name).map(e=>({label:e.name,expression:`\${view.inputParams.${e.name}}`,icon:"d-icon-arrow_right_square_input"}))}],{label:"Properties",expanded:!0,children:[{label:"Is valid",expression:"${view.isValid}",icon:"d-icon-arrow_right_square_input"}]}]}}isTargetRecordDefinitionChanged(e,t){return this.targetViewDefinition$.pipe((0,g.map)(n=>this.getTargetRecordDefinitionName(n,e)!==this.getTargetRecordDefinitionName(n,t)))}getTargetRecordDefinitionName(e,t){const n=this.rxViewDefinitionParserService.findParentComponentDefinition(e,{guid:t},e=>e.type===p.RxViewComponentType.RecordEditor);return null==n?void 0:n.propertiesByName.recordDefinitionName}}$t.\u0275fac=function(e){return new(e||$t)(i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](It),i["\u0275\u0275inject"](v.RxStringService),i["\u0275\u0275inject"](c.RxOverlayService),i["\u0275\u0275inject"](p.RxViewComponentRegistryService),i["\u0275\u0275inject"](c.RxBundleCacheService),i["\u0275\u0275inject"](d.RxModalService),i["\u0275\u0275inject"](p.RxViewDefinitionCacheService),i["\u0275\u0275inject"](p.RxViewDefinitionParserService),i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](Ne),i["\u0275\u0275inject"](c.RxDefinitionNameService),i["\u0275\u0275inject"](kt))},$t.\u0275prov=i["\u0275\u0275defineInjectable"]({token:$t,factory:$t.\u0275fac});const zt=new i.InjectionToken("CanvasItemApi");class Ut{constructor(){this.core=null}registerCoreApi(e){this.core=e}}Ut.\u0275fac=function(e){return new(e||Ut)},Ut.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Ut,factory:Ut.\u0275fac});class Xt{constructor(e,t,n,i){this.data=e,this.targetGuid=t,this.outletName=n,this.insertIndex=i}}class Gt{constructor(){this.componentSelectSubject=new h.ReplaySubject,this.componentRemoveSubject=new h.ReplaySubject,this.componentDropSubject=new h.ReplaySubject,this.componentDrop$=this.componentDropSubject.asObservable(),this.componentSelect$=this.componentSelectSubject.asObservable(),this.componentRemove$=this.componentRemoveSubject.asObservable()}selectComponent(e){this.componentSelectSubject.next(e)}removeComponent(e){this.componentRemoveSubject.next(e)}dropComponent(e,t,n,i){this.componentDropSubject.next(new Xt(e,t,n,i))}}Gt.\u0275fac=function(e){return new(e||Gt)},Gt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Gt,factory:Gt.\u0275fac});class Yt{constructor(e,t,n,i){this.injector=e,this.renderer=t,this.canvasItemApi=n,this.viewDesignerCanvasService=i,this.interactive=!0,this.childContainers=new Map}ngOnInit(){this.initializeItemApi()}ngOnChanges(e){const t=e.layout;if(t){const e=(0,u.get)(t,"previousValue.guid"),n=(0,u.get)(t,"currentValue.guid"),i=(0,u.get)(t,"previousValue.outlets"),o=(0,u.get)(t,"currentValue.outlets");e!==n?(this.componentReference&&this.cleanUp(),this.renderViewComponent()):(0,u.isEqual)(i,o)||o.forEach(e=>{const t=this.childContainers.get(e.name);t&&(t.instance.outlet=e,t.instance.layout=this.layout)})}}ngOnDestroy(){this.cleanUp()}cleanUp(){this.componentReference.destroy(),this.childContainers.clear()}registerOutlet(e,t,n){const i=this.layout.outlets.find(t=>t.name===e),o=this.renderContainerComponent(t,i,n);return this.childContainers.set(e,o),o}onSelectComponent(e){this.interactive&&(e.stopPropagation(),this.viewDesignerCanvasService.selectComponent(this.layout.guid))}dropComponent(e,t,n=p.RX_VIEW_DEFINITION.defaultOutletName){this.viewDesignerCanvasService.dropComponent(e,this.layout.guid,n,t)}initializeItemApi(){this.canvasItemApi.registerCoreApi({dropComponent:this.dropComponent.bind(this),registerOutlet:this.registerOutlet.bind(this)})}renderViewComponent(){this.componentReference=this.container.createComponent(this.layout.factory,null,this.injector);const e=this.componentReference.instance,t=this.componentReference.location.nativeElement;e.guid=this.layout.guid,e.model=this.layout.model,e.isReadOnly=this.isReadOnly,this.renderer.setAttribute(t,"rx-view-component-id",this.layout.guid)}renderContainerComponent(e,t,n){const i=e.createComponent(n);return i.instance.outlet=t,i.instance.layout=this.layout,i.instance.isReadOnly=this.isReadOnly,i}}Yt.\u0275fac=function(e){return new(e||Yt)(i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](zt),i["\u0275\u0275directiveInject"](Gt))},Yt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Yt,selectors:[["rx-canvas-item"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](V,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},inputs:{layout:"layout",interactive:"interactive",isReadOnly:"isReadOnly"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:zt,useClass:Ut}]),i["\u0275\u0275NgOnChangesFeature"]],decls:4,vars:3,consts:[[3,"hidden","click"],["container",""]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("click",function(e){return t.onSelectComponent(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementContainer"](2,null,1),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("hidden",i["\u0275\u0275pipeBind1"](1,1,null==t.layout||null==t.layout.model?null:t.layout.model.hiddenOnCanvas$))},pipes:[y.AsyncPipe],encapsulation:2});class Qt{constructor(e){this.viewDesignerCanvasService=e,this.componentSelect=new i.EventEmitter,this.componentDrop=new i.EventEmitter,this.componentRemove=new i.EventEmitter,this.beforeComponentDropInRoot=new i.EventEmitter}ngOnInit(){this.viewDesignerCanvasService.componentSelect$.subscribe(e=>{this.componentSelect.emit(e)}),this.viewDesignerCanvasService.componentRemove$.subscribe(e=>{this.componentRemove.emit(e)}),this.viewDesignerCanvasService.componentDrop$.subscribe(e=>{this.componentDrop.emit(e)})}}Qt.\u0275fac=function(e){return new(e||Qt)(i["\u0275\u0275directiveInject"](Gt))},Qt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Qt,selectors:[["rx-view-designer-canvas"]],inputs:{layout:"layout",isReadOnly:"isReadOnly"},outputs:{componentSelect:"componentSelect",componentDrop:"componentDrop",componentRemove:"componentRemove",beforeComponentDropInRoot:"beforeComponentDropInRoot"},features:[i["\u0275\u0275ProvidersFeature"]([Gt])],decls:1,vars:1,consts:[["class","root-item",3,"layout","isReadOnly",4,"ngIf"],[1,"root-item",3,"layout","isReadOnly"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,M,1,2,"rx-canvas-item",0),2&e&&i["\u0275\u0275property"]("ngIf",t.layout)},directives:[y.NgIf,Yt],encapsulation:2,changeDetection:0});class Wt{constructor(){this.beforeViewComponentDropSubject=new h.ReplaySubject,this.beforeViewComponentDrop$=this.beforeViewComponentDropSubject.asObservable()}setBeforeViewComponentDropState(e){this.beforeViewComponentDropSubject.next(e)}canBeDropped(e){let t=!0;return(0,u.isFunction)(e.draggedViewComponentDescriptor.canBeInsertedInto)&&(t=e.draggedViewComponentDescriptor.canBeInsertedInto(e.dropTargetViewComponentWithParents.map(e=>e.type))),t&&(t=(!e.draggedViewComponentGuid||!this._isParentRecordEditorChanging(this.containerComponentInstance.layout.viewComponentWithParents,e.draggedViewComponentParents))&&this.componentDropPredicate(e)),t}componentDropPredicate(e,t=!1){return(t||this.dropPredicate(e))&&(!this.parentOutletComponent||this.parentOutletComponent.componentDropPredicate(e,this.skipParentPredicate))}_isParentRecordEditorChanging(e,t){const n=(0,u.find)(e,{type:p.RxViewComponentType.RecordEditor}),i=(0,u.find)(t,{type:p.RxViewComponentType.RecordEditor}),o=Boolean(n)&&Boolean(i)&&n.guid!==i.guid,r=!n&&Boolean(i),s=!i&&Boolean(n);return o||r||s}}Wt.\u0275fac=function(e){return new(e||Wt)},Wt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Wt,factory:Wt.\u0275fac});class qt{constructor(e,t){this.viewDesignerCanvasService=e,this.canvasOutletHelperService=t,this.dropListDropped=new i.EventEmitter,this.dropListEnterPredicateBind=(0,u.throttle)(this.dropListEnterPredicate.bind(this),200)}ngOnInit(){this.dropListOrientation=this.canvasOutletHelperService.dropListOrientation}getViewComponentDragData(e){return{draggedViewComponentGuid:e.guid,draggedViewComponentDescriptor:e.descriptor,draggedViewComponentParents:this.layout.viewComponentWithParents}}onDragEntered(e){this.enforceDragToSelf(e.container)}onDragStarted(e){this.enforceDragToSelf(e.source.dropContainer)}remove(e,t){e.stopPropagation(),this.viewDesignerCanvasService.removeComponent(t.guid)}onSelectComponent(e,t){e.stopPropagation(),this.viewDesignerCanvasService.selectComponent(t.guid)}trackByFn(e,t){return t.guid}dropListEnterPredicate(e){return this.canvasOutletHelperService.canBeDropped(Object.assign(Object.assign({},e.data),{dropTargetViewComponentWithParents:this.layout.viewComponentWithParents||[]}))}enforceDragToSelf(e){let t=e.connectedTo;t=t.reduce((e,t)=>{if((0,u.isString)(t)){const n=x.CdkDropList._dropLists.find(e=>e.id===t);n&&e.push(n)}return e},[]);const n=e._dropListRef;h.asapScheduler.schedule(()=>{n.connectedTo(t.map(e=>e._dropListRef))})}}qt.\u0275fac=function(e){return new(e||qt)(i["\u0275\u0275directiveInject"](Gt),i["\u0275\u0275directiveInject"](Wt))},qt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:qt,selectors:[["rx-canvas-item-column"]],inputs:{isReadOnly:"isReadOnly",colIndex:"colIndex",column:"column",layout:"layout"},outputs:{dropListDropped:"dropListDropped"},decls:2,vars:9,consts:[["cdkDropList","",3,"cdkDropListOrientation","cdkDropListConnectedTo","cdkDropListEnterPredicate","cdkDropListData","id","cdkDropListDropped"],["cdkDrag","",3,"class","cdkDragData","cdkDragDisabled","cdkDragEntered","cdkDragStarted",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",3,"cdkDragData","cdkDragDisabled","cdkDragEntered","cdkDragStarted"],[1,"canvas-item",3,"click"],["cdkDragHandle","",1,"canvas-item-header",3,"hidden"],[1,"icon","d-icon-dots","mr-1"],[1,"label"],["class","remove-button btn btn-sm btn-link d-icon-cross_adapt p-0 px-1","type","button","aria-label","Close",3,"click",4,"ngIf"],[3,"layout","isReadOnly"],["type","button","aria-label","Close",1,"remove-button","btn","btn-sm","btn-link","d-icon-cross_adapt","p-0","px-1",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.dropListDropped.next(e)}),i["\u0275\u0275template"](1,P,10,16,"div",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("cdkDropListOrientation",t.dropListOrientation)("cdkDropListConnectedTo",t.column.dndListIds)("cdkDropListEnterPredicate",t.dropListEnterPredicateBind)("cdkDropListData",i["\u0275\u0275pureFunction1"](7,E,t.colIndex))("id",t.column.listId),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.column.children)("ngForTrackBy",t.trackByFn))},directives:[x.CdkDropList,y.NgForOf,x.CdkDrag,x.CdkDragHandle,y.NgIf,Yt],pipes:[y.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}.cdk-drop-list[_ngcontent-%COMP%]{min-height:100px}.cdk-drop-list[_ngcontent-%COMP%] > .cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.5}.card-header[_ngcontent-%COMP%]{cursor:move}.canvas-item-wrapper.cdk-drag-preview[_ngcontent-%COMP%]{background:white;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.canvas-item[_ngcontent-%COMP%]{border:1px solid transparent;position:relative;padding:3px}.canvas-item.active[_ngcontent-%COMP%]{border-color:#20c997}.canvas-item-header[_ngcontent-%COMP%]{color:#fff;position:absolute;top:0;right:0;padding:1px 0 1px 5px;background:#20c997;cursor:move;z-index:1;display:flex}.canvas-item-header[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{white-space:nowrap}.remove-button[_ngcontent-%COMP%]{color:#fff}']});class Ht{constructor(e,t){this.canvasItemApi=e,this.canvasOutletHelperService=t}trackByColFn(e,t){return t.listId}onDropListDropped(e){const t=Object.assign(Object.assign({},e.item.data),{initialPropertiesByName:{},columnIndex:e.container.data.columnIndex});this.canvasOutletHelperService.setBeforeViewComponentDropState(t),t.preventDrop||this.canvasItemApi.core.dropComponent(t,e.currentIndex,this.outlet.name)}}Ht.\u0275fac=function(e){return new(e||Ht)(i["\u0275\u0275directiveInject"](zt),i["\u0275\u0275directiveInject"](Wt))},Ht.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Ht,selectors:[["rx-canvas-item-container"]],inputs:{outlet:"outlet",isReadOnly:"isReadOnly",layout:"layout"},decls:2,vars:2,consts:[[1,"row"],[3,"class","ngClass",4,"ngFor","ngForOf","ngForTrackBy"],[3,"ngClass"],[3,"ngClass","isReadOnly","colIndex","column","layout","dropListDropped"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,R,2,13,"div",1),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.outlet.columns)("ngForTrackBy",t.trackByColFn))},directives:[y.NgForOf,y.NgClass,qt],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.col-border[_ngcontent-%COMP%]{border-right:1px dashed #d6d7d8}']});class Zt{constructor(e,t,n,o){this.canvasItemApi=e,this.parentOutletComponent=t,this.canvasOutletHelperService=n,this.componentFactoryResolver=o,this.containerComponentInstance=null,this.destroyed$=new h.ReplaySubject(1),this.name=p.RX_VIEW_DEFINITION.defaultOutletName,this.skipParentPredicate=!1,this.dropListOrientation="vertical",this.beforeViewComponentDrop=new i.EventEmitter,this.dropPredicate=()=>!0}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}ngOnInit(){this.containerComponentInstance=this.canvasItemApi.core.registerOutlet(this.name,this.container,this.componentFactoryResolver.resolveComponentFactory(this.containerComponent||Ht)).instance,this.canvasOutletHelperService.dropListOrientation=this.dropListOrientation,this.canvasOutletHelperService.parentOutletComponent=this.parentOutletComponent,this.canvasOutletHelperService.dropPredicate=this.dropPredicate,this.canvasOutletHelperService.skipParentPredicate=this.skipParentPredicate,this.canvasOutletHelperService.containerComponentInstance=this.containerComponentInstance,this.canvasOutletHelperService.beforeViewComponentDrop$.pipe((0,g.takeUntil)(this.destroyed$)).subscribe(e=>{this.beforeViewComponentDrop.emit(e)})}canBeDropped(e){return this.canvasOutletHelperService.canBeDropped(e)}componentDropPredicate(e,t=!1){return this.canvasOutletHelperService.componentDropPredicate(e,t)}}Zt.\u0275fac=function(e){return new(e||Zt)(i["\u0275\u0275directiveInject"](zt),i["\u0275\u0275directiveInject"](Zt,12),i["\u0275\u0275directiveInject"](Wt),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver))},Zt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Zt,selectors:[["rx-canvas-outlet"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](V,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},inputs:{name:"name",skipParentPredicate:"skipParentPredicate",containerComponent:"containerComponent",dropListOrientation:"dropListOrientation",dropPredicate:"dropPredicate"},outputs:{beforeViewComponentDrop:"beforeViewComponentDrop"},features:[i["\u0275\u0275ProvidersFeature"]([Wt])],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275elementContainer"](0,null,0)},encapsulation:2});class Jt{constructor(e,t){this.canvasItemComponent=e,this.viewDesignerCanvasComponent=t,this.defaultOutletName=p.RX_VIEW_DEFINITION.defaultOutletName}trackByFn(e,t){return t.name}}Jt.\u0275fac=function(e){return new(e||Jt)(i["\u0275\u0275directiveInject"](Yt),i["\u0275\u0275directiveInject"](Qt))},Jt.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Jt,selectors:[["rx-designer"]],decls:1,vars:2,consts:[[3,"border","default-outlet","name","beforeViewComponentDrop",4,"ngFor","ngForOf","ngForTrackBy"],[3,"name","beforeViewComponentDrop"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,A,1,5,"rx-canvas-outlet",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.canvasItemComponent.layout.outlets)("ngForTrackBy",t.trackByFn)},directives:[y.NgForOf,Zt],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}rx-canvas-outlet[_ngcontent-%COMP%]{display:block}rx-canvas-outlet.default-outlet[_ngcontent-%COMP%]:not(:only-child)    >rx-canvas-item-container>.row>*>rx-canvas-item-column>.cdk-drop-list{min-height:300px}rx-canvas-outlet.default-outlet[_ngcontent-%COMP%]:only-child    >rx-canvas-item-container>.row>*>rx-canvas-item-column>.cdk-drop-list{min-height:calc(100vh - 155px)}rx-canvas-outlet.border[_ngcontent-%COMP%]{border:1px solid #d6d7d8}rx-canvas-outlet[_ngcontent-%COMP%] + rx-canvas-outlet[_ngcontent-%COMP%]{margin-top:10px}']});class Kt{constructor(e,t,n,i){this.viewDesignerFacade=e,this.rxViewComponentRegistryService=t,this.componentFactoryResolver=n,this.viewDesignerModels=i,this.designerComponentFactory=this.componentFactoryResolver.resolveComponentFactory(Jt),this.canvasDndListIds=[],this.extensionViewAllowedComponentTypes=new Set([p.RxViewComponentType.Container,p.RxViewComponentType.RichText,p.RxViewComponentType.RecordEditor,p.RxViewComponentType.Character,p.RxViewComponentType.Textarea,p.RxViewComponentType.Boolean,p.RxViewComponentType.Date,p.RxViewComponentType.DateTime,p.RxViewComponentType.Time,p.RxViewComponentType.Decimal,p.RxViewComponentType.Floating,p.RxViewComponentType.Integer,p.RxViewComponentType.LocalizedCharacter,p.RxViewComponentType.Selection,p.RxViewComponentType.SelectGroup,p.RxViewComponentType.RichTextarea,p.BwfViewComponentType.DynamicNamedList]),this.canvasLayout$=this.getRecursiveViewLayoutGuids().pipe((0,g.switchMap)(e=>e.length?this.viewDesignerFacade.areViewModelsReady$.pipe((0,g.filter)(Boolean),(0,g.switchMapTo)(this.viewDesignerFacade.viewDesignerModelState$.pipe((0,g.take)(1)))):this.viewDesignerFacade.viewDesignerModelState$.pipe((0,g.take)(1))),(0,g.map)(e=>{const t=e.viewDesignModel,n=e.viewComponentDesignModels;return this.canvasDndListIds.length=0,{guid:t.guid,factory:this.designerComponentFactory,outlets:t.layout.outlets.map(e=>({name:e.name,columns:e.columns.map((i,o)=>{const r=String(`${t.guid}-${e.name}-${o}`);return t.type!==p.ViewDefinitionType.Shell&&this.canvasDndListIds.push(r),Object.assign(Object.assign({},i),{children:i.children.map(e=>this.initializeCanvasItem(e,n,this.canvasDndListIds)),listId:r,dndListIds:this.canvasDndListIds})})})),model:null,descriptor:null,isSelected$:(0,h.of)(!1)}}),(0,g.tap)(()=>{this.canvasDndListIds.reverse()})),this.viewBreadcrumbItem$=this.viewDesignerFacade.getViewPropertyValue("displayName").pipe((0,g.concatMap)(e=>(0,h.of)(e?e===c.RX_APPLICATION.shellDefinitionName?"Application shell":e:"<New view>")),(0,g.withLatestFrom)(this.viewDesignerFacade.viewModelGuid$),(0,g.map)(([e,t])=>({label:e,data:{guid:t}}))),this.selectedComponentBreadcrumbItems$=this.viewDesignerFacade.selectedComponentGuid$.pipe((0,g.switchMap)(e=>e?(0,h.combineLatest)([this.viewDesignerFacade.breadcrumbs$,this.viewDesignerFacade.getParentComponentGuid(e)]).pipe((0,g.withLatestFrom)(this.viewDesignerFacade.viewComponentModels$),(0,g.map)(([[t],n])=>(0,u.isEmpty)(n)?[]:ue(e,n).map(e=>{let i=t[e];if(!i){const t=n[e];i=this.rxViewComponentRegistryService.get(t.type).name}return{label:i,data:{guid:e}}}))):(0,h.of)([]))),this.breadcrumbItems$=(0,h.combineLatest)([this.viewBreadcrumbItem$,this.selectedComponentBreadcrumbItems$]).pipe((0,g.map)(([e,t])=>[e,...t])),this.validationIssues$=this.viewDesignerFacade.validationIssues$.pipe((0,g.withLatestFrom)(this.viewDesignerFacade.viewDesignerModelState$),(0,g.map)(([e,t])=>(0,u.flow)(e=>(0,u.mergeWith)(Object.assign({},e.issues),e.expressionIssues,(e=[],t=[])=>e.concat(t)),e=>(0,u.reduce)(e,(e,n,i)=>{var o;let r;if((null===(o=t.viewDesignModel)||void 0===o?void 0:o.guid)===i)r=t.viewDesignModel.displayName||"View designer";else if(t.viewComponentDesignModels[i]){const e=t.viewComponentDesignModels[i].type,n=this.rxViewComponentRegistryService.get(e);r=n&&n.name}return r&&e.push({title:r,issues:n.map(e=>({type:e.type,description:e.description,disableCorrection:e.disableCorrection,data:{guid:i,propertyName:e.propertyName,data:e.data}}))}),e},[]))(e)))}getLicensedComponents(){return this.rxViewComponentRegistryService.getLicensedComponents().pipe((0,g.first)(),(0,g.map)(e=>e.filter(e=>!this.rxViewComponentRegistryService.isDataComponentDescriptor(e)&&!e.hidden&&!e.isPageComponent)))}getRecursiveViewLayoutGuids(){return this.viewDesignerFacade.getViewPropertyValue("layout").pipe((0,g.switchMap)(e=>this.getRecursiveComponentLayoutGuids(e)))}getRecursiveComponentLayoutGuids(e){const t=p.RxViewLayout.getViewLayoutChildGuids(e);return t.length?(0,h.combineLatest)(t.map(e=>this.viewDesignerFacade.getComponentLayout(e).pipe((0,g.switchMap)(e=>e?this.getRecursiveComponentLayoutGuids(e).pipe((0,g.map)(e=>[...e,...t])):(0,h.of)(t))))):(0,h.of)([])}initializeCanvasItem(e,t,n){const i=t[e],o=this.rxViewComponentRegistryService.get(i.type),r={guid:i.guid,descriptor:o,factory:o.designComponentFactory,model:this.viewDesignerModels.get(i.guid),outlets:[],isSelected$:this.viewDesignerFacade.selectedComponentGuid$.pipe((0,g.map)(e=>e===i.guid)),label:o.name};return i.layout&&(r.viewComponentWithParents=ue(i.guid,t).map(e=>({guid:e,type:t[e].type})),i.layout.outlets.forEach(e=>{const o={name:e.name,columns:e.columns.map((o,r)=>{const s=`${i.guid}-${e.name}-${r}`;return n.push(s),{children:o.children.map(e=>this.initializeCanvasItem(e,t,n)),span:o.span,listId:s,dndListIds:n}})};r.outlets.push(o)})),r}}Kt.\u0275fac=function(e){return new(e||Kt)(i["\u0275\u0275inject"](It),i["\u0275\u0275inject"](p.RxViewComponentRegistryService),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](Pt))},Kt.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Kt,factory:Kt.\u0275fac,providedIn:"root"});const en={stencilGroups:{basicComponents:{label:"Basic components"},chatbotComponents:{label:"Chatbot components"},recordEditorInputs:{label:"Record editor inputs"}},inspectorTabs:{viewProperties:{tabId:0},componentProperties:{tabId:1},validationIssues:{tabId:2}}};class tn{constructor(e){this.stringService=e,this.allowedDropListIds=[],this.filterFormControl=new w.FormControl,this.componentsSubject$=new h.ReplaySubject(1)}set components(e){this.componentsSubject$.next(e)}ngOnInit(){this.viewComponentGroups$=(0,h.combineLatest)([this.filterFormControl.valueChanges.pipe((0,g.debounceTime)(200),(0,g.startWith)(null)),this.componentsSubject$]).pipe((0,g.map)(([e,t])=>(0,u.flow)(e=>(0,u.groupBy)(e,e=>e.group),e=>(0,u.map)(e,(e,t)=>({name:t,components:(0,u.sortBy)(e,e=>isFinite(e.index)?e.index:e.name)})),e=>(0,u.sortBy)(e,e=>e.name===en.stencilGroups.basicComponents.label?"1":e.name===en.stencilGroups.recordEditorInputs.label?"2":"3"+(0,u.lowerCase)(e.name)),t=>e?t.map(t=>Object.assign(Object.assign({},t),{components:t.components.filter(t=>this.stringService.caseInsensitiveSearch(t.name,e))})).filter(e=>e.components.length):t)(t)))}getViewComponentDragData(e){return{draggedViewComponentDescriptor:e}}trackByNameFn(e,t){return t.name}ngOnDestroy(){this.componentsSubject$.complete()}}tn.\u0275fac=function(e){return new(e||tn)(i["\u0275\u0275directiveInject"](v.RxStringService))},tn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:tn,selectors:[["rx-view-designer-palette"]],inputs:{components:"components",allowedDropListIds:"allowedDropListIds"},decls:5,vars:9,consts:[[1,"search-field-container"],["rx-id","stencil-search-field","placeholder","Search",3,"formControl"],[3,"config"],[3,"title","isOpen",4,"ngFor","ngForOf","ngForTrackBy"],[3,"title","isOpen"],["cdkDropList","","cdkDropListSortingDisabled","",1,"group-items-container",3,"cdkDropListConnectedTo"],["class","group-item","cdkDrag","",3,"cdkDragData",4,"ngFor","ngForOf","ngForTrackBy"],["cdkDrag","",1,"group-item",3,"cdkDragData"],[1,"group-item-inner"],[1,"item-name",3,"title"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275element"](1,"adapt-rx-search",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"adapt-accordion",2),i["\u0275\u0275template"](3,B,3,6,"adapt-accordion-tab",3),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("formControl",t.filterFormControl),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction1"](7,N,i["\u0275\u0275pureFunction0"](6,F))),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",i["\u0275\u0275pipeBind1"](4,4,t.viewComponentGroups$))("ngForTrackBy",t.trackByNameFn))},directives:[C.AdaptRxSearchComponent,w.NgControlStatus,w.FormControlDirective,C.AdaptAccordionComponent,y.NgForOf,C.AdaptAccordionTabComponent,x.CdkDropList,x.CdkDrag],pipes:[y.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:block}.group-items-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.group-items-container[_ngcontent-%COMP%]   .group-item.cdk-drag-placeholder[_ngcontent-%COMP%]{width:33.3%}.group-item[_ngcontent-%COMP%]{border-right:1px solid #d6d7d8;border-bottom:1px solid #d6d7d8;text-align:center;width:33.3%;cursor:move;height:90px;padding:3px 0}.group-item.cdk-drag-preview[_ngcontent-%COMP%]{background:white;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}.group-item.cdk-drag-placeholder[_ngcontent-%COMP%]{border:0;width:100px;height:40px;padding:0;position:relative;z-index:3}.group-item.cdk-drag-placeholder[_ngcontent-%COMP%]   .group-item-inner[_ngcontent-%COMP%]{border:1px solid #d6d7d8;background:#fff}.group-item[_ngcontent-%COMP%]:nth-child(3n){border-right:none}.group-item-inner[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.item-image[_ngcontent-%COMP%]{color:#626668;font-size:40px;height:54px;flex-grow:1}.item-name[_ngcontent-%COMP%]{font-size:10px;overflow:hidden;height:34px}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:1!important}adapt-accordion-tab[_ngcontent-%COMP%]     .card-block{padding:0}.form-group[_ngcontent-%COMP%]{margin:10px 20px}.search-field-container[_ngcontent-%COMP%]{padding:.9375rem}'],changeDetection:0});const nn=new i.InjectionToken("RX_VIEW_MODEL");class on{constructor(e,t,n,o,r,s,a,c,l,d,m,u,v,f,b,w,y,x,C,D,S,V,M){this.viewDesignerFacade=e,this.rxNotificationService=t,this.rxDefinitionPickerCacheService=n,this.rxNamedListDefinitionCacheService=o,this.rxModalService=r,this.translateService=s,this.rxUtilityModalsService=a,this.rxViewDesignerHelperService=c,this.rxExpressionEditorService=l,this.rxViewDefinitionService=d,this.rxComponentCanDeactivateGuard=m,this.rxViewDefinitionGeneratorService=u,this.rxViewDesignerModels=v,this.rxLogService=f,this.injector=b,this.renderer=w,this.rxRecordDefinitionCacheService=y,this.rxAssociationDefinitionCacheService=x,this.rxProcessDefinitionCacheService=C,this.rxViewDefinitionCacheService=D,this.rxGainsightConfiguratorService=S,this.rxDefinitionNameService=V,this.rxFeatureService=M,this.viewDefinitionSaved=new i.EventEmitter,this.viewDefinitionErrorLoading=new i.EventEmitter,this.closeDesigner=new i.EventEmitter,this.destroyed$=new h.ReplaySubject(1),this.inspectorFocusEditorSubject=new h.Subject,this.isViewDefinitionChanged$=new h.BehaviorSubject(!1),this.validationIssues$=this.rxViewDesignerHelperService.validationIssues$.pipe((0,g.shareReplay)(1),(0,g.takeUntil)(this.destroyed$)),this.breadcrumbItems$=this.rxViewDesignerHelperService.breadcrumbItems$,this.canvasLayout$=this.rxViewDesignerHelperService.canvasLayout$,this.canvasDndListIds=this.rxViewDesignerHelperService.canvasDndListIds,this.extensionViewRootComponentType=p.RxViewComponentType.RecordEditor,this.isDesignMode=!0,this.isStencilExpanded=!0,this.isInspectorExpanded=!0,this.inspectorFocusEditor$=this.inspectorFocusEditorSubject.asObservable(),this.viewComponentInspectorEmptyText$=this.viewDesignerFacade.selectedComponentInspectorLayout$.pipe((0,g.switchMap)(e=>e?(0,h.of)(null):this.viewDesignerFacade.selectedComponentGuid$.pipe((0,g.withLatestFrom)(this.viewDesignerFacade.viewModel$),(0,g.map)(([e,t])=>e&&e!==t.guid?"Selected component has no properties.":"Select a component to view its properties here."))),(0,g.shareReplay)({refCount:!0,bufferSize:1})),this.selectedComponentModel$=this.viewDesignerFacade.selectedComponentGuid$.pipe((0,g.map)(e=>this.rxViewDesignerModels.get(e))),this.isReadOnly$=this.viewDesignerFacade.isViewReadOnly$,this.paletteComponents$=(0,h.combineLatest)([this.viewDesignerFacade.isExtensionView$.pipe((0,g.tap)(e=>this.isExtensionView=e)),this.viewDesignerFacade.isExtensionContainerSet$.pipe((0,g.tap)(e=>this.isExtensionContainerSet=e)),this.rxViewDesignerHelperService.getLicensedComponents().pipe((0,g.map)(e=>this.configuration.paletteComponentsPredicate?e.filter(e=>this.configuration.paletteComponentsPredicate(e)):e))]).pipe((0,g.switchMap)(([e,t,n])=>e?this.viewDesignerFacade.firstViewComponentModelType$.pipe((0,g.map)(e=>e===this.extensionViewRootComponentType?n.filter(({type:e})=>e!==this.extensionViewRootComponentType&&this.rxViewDesignerHelperService.extensionViewAllowedComponentTypes.has(e)):n.filter(({type:e})=>e===this.extensionViewRootComponentType))):(0,h.of)(n)));const I=this.injector.get(nn,null,i.InjectFlags.Optional);this.rxViewModel=I||this.injector.get($t),this.rxDefinitionPickerCacheService.registerConsumer(),this.rxNamedListDefinitionCacheService.registerConsumer(this.destroyed$),this.rxAssociationDefinitionCacheService.registerConsumer(this.destroyed$),this.rxProcessDefinitionCacheService.registerConsumer(this.destroyed$),this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$),this.rxViewDefinitionCacheService.registerConsumer(this.destroyed$)}ngOnInit(){this.isPreviewAvailable$=this.viewDesignerFacade.getViewPropertyValue("lastUpdateTime").pipe((0,g.map)(e=>!this.configuration.disablePreview&&(Boolean(e)||!(0,u.isUndefined)(this.configuration.viewDefinitionName))),(0,g.takeUntil)(this.destroyed$)),this.viewDefinitionName$=this.viewDesignerFacade.getViewPropertyValue("name"),this.viewDesignerFacade.getViewPropertyValue("pageComponent").pipe((0,g.takeUntil)(this.destroyed$)).subscribe(e=>{this.isPageView=Boolean(e)}),this.viewDesignerFacade.viewDefinitionSaveSuccess$.pipe((0,g.takeUntil)(this.destroyed$)).subscribe(({viewDefinitionName:e})=>{this.rxNotificationService.addSuccessMessage("View definition saved successfully."),this.viewDefinitionSaved.emit(e),this.initViewDesigner()}),this.viewDesignerFacade.viewDefinitionLoadError$.pipe((0,g.takeUntil)(this.destroyed$)).subscribe(()=>this.viewDefinitionErrorLoading.emit()),this.hasValidationErrors$=this.validationIssues$.pipe((0,g.map)(e=>Boolean((0,u.filter)(e,{issues:[{type:d.ValidationIssueType.Error}]}).length)),(0,g.distinctUntilChanged)()),this.hasValidationWarning$=this.validationIssues$.pipe((0,g.map)(e=>Boolean((0,u.filter)(e,{issues:[{type:d.ValidationIssueType.Warning}]}).length)),(0,g.distinctUntilChanged)()),this.isSaveButtonDisabled$=(0,h.combineLatest)([this.hasValidationErrors$,this.viewDesignerFacade.areViewModelsReady$,this.isViewDefinitionChanged$,this.isReadOnly$]).pipe((0,g.map)(([e,t,n,i])=>e||!t||!n||i),(0,g.startWith)(!0)),this.isReadOnly$.pipe((0,g.takeUntil)(this.destroyed$)).subscribe(e=>{e&&this.rxNotificationService.addWarningMessage(this.translateService.instant("com.bmc.arsys.rx.client.designer.read-only-definition-warning.message"))}),this.rxFeatureService.isFeatureEnabled("DRD21-11744")&&this.viewDefinitionName$.pipe((0,g.take)(1)).subscribe(e=>{this.rxGainsightConfiguratorService.updateGlobalContext({subProductLevel1:{name:"Design"},subProductLevel2:{name:this.rxDefinitionNameService.getDisplayName(e)==c.RX_APPLICATION.shellDefinitionName?"Shell designer":"View designer"}})})}ngOnChanges(e){e.configuration.currentValue&&this.initViewDesigner(!0)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.inspectorFocusEditorSubject.complete(),this.isViewDefinitionChanged$.complete(),this.rxDefinitionPickerCacheService.unRegisterConsumer(),this.viewDesignerFacade.destroyViewDesigner(),this.rxGainsightConfiguratorService.removeGlobalContext(["subProductLevel2","subProductLevel3"])}initViewDesigner(e=!1){var t;this.isViewDefinitionChanged$.getValue()&&this.isViewDefinitionChanged$.next(!1),null===(t=this.viewDefinitionChangeSubscription)||void 0===t||t.unsubscribe(),e&&this.viewDesignerFacade.initViewDesigner((0,u.pick)(this.configuration,["bundleId","viewDefinitionName","layoutTemplate"])),this.initViewDefinitionChangeSubscription()}initViewDefinitionChangeSubscription(){this.viewDefinitionChangeSubscription=this.viewDesignerFacade.areViewModelsReady$.pipe((0,g.filter)(Boolean),(0,g.take)(1),(0,g.switchMap)(()=>(0,h.combineLatest)([this.viewDesignerFacade.viewModel$,this.viewDesignerFacade.viewComponentModels$]).pipe((0,g.map)(([e,t])=>this.rxViewDefinitionGeneratorService.generate(e,t)),(0,g.distinctUntilChanged)(u.isEqual),(0,g.skip)(1),(0,g.take)(1),(0,g.takeUntil)(this.destroyed$))),(0,g.takeUntil)(this.destroyed$)).subscribe(()=>{this.isViewDefinitionChanged$.next(!0)})}onSelectComponent(e){this.viewDesignerFacade.selectComponent(e)}onDropComponent(e){this.viewDesignerFacade.insertComponent(e)}onRemoveComponent(e){this.rxUtilityModalsService.confirm("Are you sure you want to delete this view component?").then(t=>{t&&(this.viewDesignerFacade.removeViewComponents([e],!0),this.isPageView&&this.viewDesignerFacade.updateViewProperties({pageComponent:null}))})}onInspectorTabChange(e){this.viewDesignerFacade.selectInspectorTab({tabId:e.index})}toggleDesignMode(){this.isDesignMode&&this.viewDesignerFacade.generateViewDefinition(),this.isDesignMode=!this.isDesignMode}onComponentPropertiesChange(e){this.viewDesignerFacade.updateSelectedComponentProperties(e)}onEditorEvent(e,t){e.type===l.RX_VALIDATION_FORM_CONTROL.events.correctValidationIssue&&this.correctValidationIssue(e.payload.componentGuid,e.payload.propertyName),e.type===l.RX_REVERT_CUSTOMIZATION.events.revertCustomization&&this.revertCustomization(),e.type===l.RX_EXPRESSION_EDITOR.events.openExpressionEditor&&this.openExpressionEditor(e.payload,t)}getExpressionProperties(e){return(this.viewComponentPropertyInspectorElementRef===e?this.viewDesignerFacade.selectedComponentProperties$:this.viewDesignerFacade.viewModel$).pipe((0,g.map)(t=>Array.from(this.renderer.selectRootElement(e.nativeElement,!0).querySelectorAll("rx-expression-form-control")).map(e=>{const n=e.getAttribute("property-path");return{path:n,value:(0,u.get)(t,n),label:e.getAttribute("property-label")}})))}openExpressionEditor(e,t){const n=this.viewComponentPropertyInspectorElementRef===t,i=n?this.viewDesignerFacade.selectedComponentProperties$:this.viewDesignerFacade.viewModel$;(0,h.combineLatest)([this.viewDesignerFacade.selectedComponentGuid$,i]).pipe((0,g.take)(1),(0,g.switchMap)(([o,r])=>{const s=n?this.rxViewDesignerModels.get(o):this.rxViewModel,a=null==s?void 0:s.expressionConfigurator;return a?this.rxExpressionEditorService.openEditor({property:{path:e.propertyPath,value:(0,u.get)(r,e.propertyPath),label:e.propertyLabel},isReadOnly:e.isReadOnly,expressionConfigurator:a,legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.function.label"),icon:"d-icon-mathematical_function"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component.label"),icon:"d-icon-file_o"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label"),icon:"d-icon-arrow_right_square_input"}],expressionPropertyNavigator:{getProperties:this.getExpressionProperties.bind(this,t)}}).pipe((0,g.withLatestFrom)(i),(0,g.map)(([{path:e,value:t},n])=>{if(n.hasOwnProperty(e))return{[e]:t};{const i=(0,u.toPath)(e)[0];return(0,u.set)({[i]:(0,u.cloneDeep)(n[i])},e,t)}})):(this.rxLogService.debug("View designer: Expression editor cannot be opened without expression configurator."),h.EMPTY)}),(0,g.takeUntil)(this.destroyed$)).subscribe(e=>n?this.viewDesignerFacade.updateSelectedComponentProperties(e):this.viewDesignerFacade.updateViewProperties(e))}saveViewDefinition(){this.viewDesignerFacade.viewModel$.pipe((0,g.take)(1),(0,g.switchMap)(e=>{const t=e.type===p.ViewDefinitionType.Shell?"If you save your changes now, you will not be able to run this application using the old UI. Do you want to continue?":"If you save this view definition, you will not be able to open it in the old view designer. Do you want to continue?";return e.isAngularJsView?this.rxModalService.confirm({title:"Warning",modalStyle:d.RX_MODAL.modalStyles.warning,message:t}):(0,h.of)(!0)}),(0,g.filter)(Boolean),(0,g.takeUntil)(this.destroyed$)).subscribe(()=>{this.viewDesignerFacade.saveViewDefinition()})}onCorrectIssue(e){this.correctValidationIssue(e.data.guid,e.data.propertyName,e.data.data)}correctValidationIssue(e,t,n){this.viewDesignerFacade.selectComponent(e),setTimeout(()=>this.inspectorFocusEditorSubject.next({editorName:t,data:n}),10)}revertCustomization(){this.viewDefinitionName$.pipe((0,g.switchMap)(e=>this.rxViewDefinitionService.revertCustomization(e)),(0,g.takeUntil)(this.destroyed$)).subscribe(()=>{this.rxComponentCanDeactivateGuard.disable(),window.location.reload()})}onViewPropertiesChange(e){this.viewDesignerFacade.updateViewProperties(e)}showPreview(){this.viewDesignerFacade.runPreview()}canDeactivate(){let e=!0;return(0,h.combineLatest)([this.isViewDefinitionChanged$,this.isReadOnly$]).pipe((0,g.map)(([e,t])=>!e||t),(0,g.take)(1)).subscribe(t=>{e=t}),e}onBeforeComponentDropInRoot(e){this.isExtensionView&&(this.isExtensionContainerSet?e.draggedViewComponentDescriptor.type!==p.RxViewComponentType.RecordEditor&&(this.rxNotificationService.addWarningMessage("This view component can only be added inside a Record editor."),e.preventDrop=!0):(this.rxNotificationService.addWarningMessage("Select Extension container before adding view components."),e.preventDrop=!0))}}on.\u0275fac=function(e){return new(e||on)(i["\u0275\u0275directiveInject"](It),i["\u0275\u0275directiveInject"](c.RxNotificationService),i["\u0275\u0275directiveInject"](l.RxDefinitionPickerCacheService),i["\u0275\u0275directiveInject"](r.RxNamedListDefinitionCacheService),i["\u0275\u0275directiveInject"](d.RxModalService),i["\u0275\u0275directiveInject"](m.TranslateService),i["\u0275\u0275directiveInject"](d.RxUtilityModalsService),i["\u0275\u0275directiveInject"](Kt),i["\u0275\u0275directiveInject"](l.RxExpressionEditorService),i["\u0275\u0275directiveInject"](p.RxViewDefinitionService),i["\u0275\u0275directiveInject"](c.RxComponentCanDeactivateGuard),i["\u0275\u0275directiveInject"](Et),i["\u0275\u0275directiveInject"](Pt),i["\u0275\u0275directiveInject"](c.RxLogService),i["\u0275\u0275directiveInject"](i.Injector),i["\u0275\u0275directiveInject"](i.Renderer2),i["\u0275\u0275directiveInject"](a.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](o.RxAssociationDefinitionCacheService),i["\u0275\u0275directiveInject"](s.RxProcessDefinitionCacheService),i["\u0275\u0275directiveInject"](p.RxViewDefinitionCacheService),i["\u0275\u0275directiveInject"](l.RxGainsightConfiguratorService),i["\u0275\u0275directiveInject"](c.RxDefinitionNameService),i["\u0275\u0275directiveInject"](c.RxFeatureService))},on.\u0275cmp=i["\u0275\u0275defineComponent"]({type:on,selectors:[["rx-view-designer"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](T,5,i.ElementRef),i["\u0275\u0275viewQuery"](L,5,i.ElementRef)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.viewPropertyInspectorElementRef=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.viewComponentPropertyInspectorElementRef=e.first)}},inputs:{configuration:"configuration"},outputs:{viewDefinitionSaved:"viewDefinitionSaved",viewDefinitionErrorLoading:"viewDefinitionErrorLoading",closeDesigner:"closeDesigner"},features:[i["\u0275\u0275ProvidersFeature"]([$t]),i["\u0275\u0275NgOnChangesFeature"]],decls:45,vars:87,consts:[[3,"bundleName","breadcrumbItems","isDesignMode","isPreviewAvailable","isSaveButtonDisabled","breadcrumbSelected","toggleDesignMode","showPreview","save","closeDesigner"],[1,"rx-component-view-designer",3,"hidden"],["rx-id","palette",3,"title","isExpanded","toggle"],[3,"components","allowedDropListIds",4,"ngIf"],["class","p-3",3,"config",4,"ngIf"],[1,"rx-view-designer-container"],[1,"flex-grow-1",3,"layout","isReadOnly","componentSelect","componentRemove","componentDrop","beforeComponentDropInRoot"],["dockTo","right","rx-id","properties",3,"title","isExpanded","toggle"],["customCssTabContent","p-0","justify","justified",3,"tab-active","tab-active-changed"],["icon","d-icon-pencil"],[3,"focusEditor$","config","model","isReadOnly","modelChange","editorEvent"],["viewPropertyInspector",""],["icon","d-icon-gear"],["rxInspector","",3,"designerItemModel","focusEditor$","config","model","guid","isReadOnly","modelChange","editorEvent"],["viewComponentPropertyInspector",""],[1,"p-3",3,"hidden","config"],["icon","d-icon-exclamation_triangle"],[3,"definitionTypeDisplayName","issueSections","correctIssue"],["class","full-size",3,"code","lang","hasToolbar","theme",4,"ngIf"],[3,"components","allowedDropListIds"],[1,"p-3",3,"config"],[1,"full-size",3,"code","lang","hasToolbar","theme"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-designer-header",0),i["\u0275\u0275listener"]("breadcrumbSelected",function(e){return t.onSelectComponent(e.data.guid)})("toggleDesignMode",function(){return t.toggleDesignMode()})("showPreview",function(){return t.showPreview()})("save",function(){return t.saveViewDefinition()})("closeDesigner",function(){return t.closeDesigner.emit()}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275pipe"](2,"async"),i["\u0275\u0275pipe"](3,"async"),i["\u0275\u0275pipe"](4,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",1),i["\u0275\u0275elementStart"](6,"rx-blade",2),i["\u0275\u0275listener"]("toggle",function(){return t.isStencilExpanded=!t.isStencilExpanded}),i["\u0275\u0275template"](7,_,2,4,"rx-view-designer-palette",3),i["\u0275\u0275pipe"](8,"async"),i["\u0275\u0275template"](9,z,1,2,"adapt-alert",4),i["\u0275\u0275pipe"](10,"async"),i["\u0275\u0275template"](11,X,1,2,"adapt-alert",4),i["\u0275\u0275pipe"](12,"async"),i["\u0275\u0275pipe"](13,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"section",5),i["\u0275\u0275elementStart"](15,"rx-view-designer-canvas",6),i["\u0275\u0275listener"]("componentSelect",function(e){return t.onSelectComponent(e)})("componentRemove",function(e){return t.onRemoveComponent(e)})("componentDrop",function(e){return t.onDropComponent(e)})("beforeComponentDropInRoot",function(e){return t.onBeforeComponentDropInRoot(e)}),i["\u0275\u0275pipe"](16,"async"),i["\u0275\u0275pipe"](17,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](18,"rx-blade",7),i["\u0275\u0275listener"]("toggle",function(){return t.isInspectorExpanded=!t.isInspectorExpanded}),i["\u0275\u0275elementStart"](19,"adapt-tabset",8),i["\u0275\u0275listener"]("tab-active-changed",function(e){return t.onInspectorTabChange(e)}),i["\u0275\u0275pipe"](20,"async"),i["\u0275\u0275pipe"](21,"async"),i["\u0275\u0275pipe"](22,"async"),i["\u0275\u0275elementStart"](23,"adapt-tab-panel",9),i["\u0275\u0275elementStart"](24,"rx-form-builder",10,11),i["\u0275\u0275listener"]("modelChange",function(e){return t.onViewPropertiesChange(e)})("editorEvent",function(e){return t.onEditorEvent(e,t.viewPropertyInspectorElementRef)}),i["\u0275\u0275pipe"](26,"async"),i["\u0275\u0275pipe"](27,"async"),i["\u0275\u0275pipe"](28,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](29,"adapt-tab-panel",12),i["\u0275\u0275elementStart"](30,"rx-form-builder",13,14),i["\u0275\u0275listener"]("modelChange",function(e){return t.onComponentPropertiesChange(e)})("editorEvent",function(e){return t.onEditorEvent(e,t.viewComponentPropertyInspectorElementRef)}),i["\u0275\u0275pipe"](32,"async"),i["\u0275\u0275pipe"](33,"async"),i["\u0275\u0275pipe"](34,"async"),i["\u0275\u0275pipe"](35,"async"),i["\u0275\u0275pipe"](36,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](37,"adapt-alert",15),i["\u0275\u0275pipe"](38,"async"),i["\u0275\u0275pipe"](39,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](40,"adapt-tab-panel",16),i["\u0275\u0275elementStart"](41,"rx-validation-issues",17),i["\u0275\u0275listener"]("correctIssue",function(e){return t.onCorrectIssue(e)}),i["\u0275\u0275pipe"](42,"translate"),i["\u0275\u0275pipe"](43,"async"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](44,G,3,8,"adapt-code-viewer",18)),2&e&&(i["\u0275\u0275property"]("bundleName",i["\u0275\u0275pipeBind1"](1,35,t.viewDesignerFacade.bundleFriendlyName$))("breadcrumbItems",i["\u0275\u0275pipeBind1"](2,37,t.breadcrumbItems$))("isDesignMode",t.isDesignMode)("isPreviewAvailable",i["\u0275\u0275pipeBind1"](3,39,t.isPreviewAvailable$))("isSaveButtonDisabled",i["\u0275\u0275pipeBind1"](4,41,t.isSaveButtonDisabled$)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("hidden",!t.isDesignMode),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("title","Palette")("isExpanded",t.isStencilExpanded),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.isPageView&&!i["\u0275\u0275pipeBind1"](8,43,t.isReadOnly$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.isPageView&&!i["\u0275\u0275pipeBind1"](10,45,t.isReadOnly$)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",i["\u0275\u0275pipeBind1"](12,47,!i["\u0275\u0275pipeBind1"](13,49,t.viewDesignerFacade.isViewDefinitionLoading$)&&t.isReadOnly$)),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("layout",i["\u0275\u0275pipeBind1"](16,51,t.canvasLayout$))("isReadOnly",i["\u0275\u0275pipeBind1"](17,53,t.isReadOnly$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("title","Properties")("isExpanded",t.isInspectorExpanded),i["\u0275\u0275advance"](1),i["\u0275\u0275classProp"]("has-validation-warning",i["\u0275\u0275pipeBind1"](20,55,t.hasValidationWarning$))("has-validation-errors",i["\u0275\u0275pipeBind1"](21,57,t.hasValidationErrors$)),i["\u0275\u0275property"]("tab-active",i["\u0275\u0275pipeBind1"](22,59,t.viewDesignerFacade.selectedInspectorTabId$)),i["\u0275\u0275advance"](5),i["\u0275\u0275property"]("focusEditor$",t.inspectorFocusEditor$)("config",i["\u0275\u0275pipeBind1"](26,61,t.viewDesignerFacade.viewInspectorLayout$))("model",i["\u0275\u0275pipeBind1"](27,63,t.viewDesignerFacade.viewModel$))("isReadOnly",i["\u0275\u0275pipeBind1"](28,65,t.isReadOnly$)),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("designerItemModel",i["\u0275\u0275pipeBind1"](32,67,t.selectedComponentModel$))("focusEditor$",t.inspectorFocusEditor$)("config",i["\u0275\u0275pipeBind1"](33,69,t.viewDesignerFacade.selectedComponentInspectorLayout$))("model",i["\u0275\u0275pipeBind1"](34,71,t.viewDesignerFacade.selectedComponentProperties$))("guid",i["\u0275\u0275pipeBind1"](35,73,t.viewDesignerFacade.selectedComponentGuid$))("isReadOnly",i["\u0275\u0275pipeBind1"](36,75,t.isReadOnly$)),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("hidden",!i["\u0275\u0275pipeBind1"](38,77,t.viewComponentInspectorEmptyText$))("config",i["\u0275\u0275pureFunction1"](85,Y,i["\u0275\u0275pipeBind1"](39,79,t.viewComponentInspectorEmptyText$))),i["\u0275\u0275advance"](4),i["\u0275\u0275property"]("definitionTypeDisplayName",i["\u0275\u0275pipeBind1"](42,81,"com.bmc.arsys.rx.client.view-definition.label"))("issueSections",i["\u0275\u0275pipeBind1"](43,83,t.validationIssues$)),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",!t.isDesignMode))},directives:[l.RxDesignerHeaderComponent,d.RxBladeComponent,y.NgIf,Qt,C.AdaptTabsComponent,C.AdaptTabsPanelComponent,l.FormBuilderComponent,l.InspectorDirective,C.AdaptAlertComponent,d.RxValidationIssuesComponent,tn,C.AdaptCodeViewerComponent],pipes:[y.AsyncPipe,m.TranslatePipe,y.JsonPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}.rx-component-view-designer[_ngcontent-%COMP%]{display:flex;flex-grow:1;height:calc(100% - 50px);overflow:hidden}.rx-view-designer-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-grow:1;overflow:auto;padding:2.2rem 1rem 1rem}[_nghost-%COMP%]     .has-validation-warning:not(.has-validation-errors) .nav-link .d-icon-exclamation_triangle{color:#f1b521}[_nghost-%COMP%]     .has-validation-errors .nav-link .d-icon-exclamation_triangle{color:#f83200}[_nghost-%COMP%]     adapt-tabset .nav-tabs .nav-link-icon{margin-right:0}']});class rn{}rn.\u0275fac=function(e){return new(e||rn)},rn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:rn,declarations:[Qt,Yt,Ht,Zt,qt],imports:[y.CommonModule,x.DragDropModule],exports:[Qt,Zt,Yt,qt]}),rn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,x.DragDropModule]]});class sn{}sn.\u0275fac=function(e){return new(e||sn)},sn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:sn,declarations:[Jt],imports:[rn,y.CommonModule]}),sn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[rn,y.CommonModule]]});class an{}an.\u0275fac=function(e){return new(e||an)},an.\u0275mod=i["\u0275\u0275defineNgModule"]({type:an,declarations:[tn],imports:[y.CommonModule,x.DragDropModule,w.ReactiveFormsModule,C.AdaptAccordionModule,D.AdaptTextFieldModule,C.AdaptRxSearchModule],exports:[tn]}),an.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,x.DragDropModule,w.ReactiveFormsModule,C.AdaptAccordionModule,D.AdaptTextFieldModule,C.AdaptRxSearchModule]]});class cn extends d.RxModalClass{constructor(e,t){super(e,t),this.activeModalRef=e,this.injector=t,this.inputParams={},this.inputParamNames=this.activeModalRef.getData().inputParams}isDirty(){return(0,u.values)(this.inputParams).some(e=>e)}cancel(){this.activeModalRef.dismiss(C.DismissReasons.CLOSE_BTN)}}cn.\u0275fac=function(e){return new(e||cn)(i["\u0275\u0275directiveInject"](C.ActiveModalRef),i["\u0275\u0275directiveInject"](i.Injector))},cn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:cn,selectors:[["rx-runtime-view-params-modal"]],features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:1,consts:[[1,"modal-body"],[4,"ngFor","ngForOf"],[1,"modal-footer"],["btn-type","primary","rx-id","ok-button",3,"click"],["btn-type","secondary","rx-id","cancel-button",3,"click"],[3,"label","autofocus","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275template"](1,Q,2,4,"div",1),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"adapt-button",3),i["\u0275\u0275listener"]("click",function(){return t.activeModalRef.close(t.inputParams)}),i["\u0275\u0275text"](4," OK "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"adapt-button",4),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](6," Cancel "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.inputParamNames))},directives:[y.NgForOf,C.AdaptButtonComponent,C.AdaptRxTextfieldComponent,w.NgControlStatus,w.NgModel],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.modal-body[_ngcontent-%COMP%]{padding:20px}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;border-top:1px solid #d6d7d8;padding:10px 15px}.modal-footer[_ngcontent-%COMP%]   adapt-button[_ngcontent-%COMP%]{margin-right:5px}']});class ln{}ln.\u0275fac=function(e){return new(e||ln)},ln.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ln,declarations:[cn],imports:[y.CommonModule,w.FormsModule,C.AdaptButtonModule,C.AdaptModalModule,C.AdaptRxTextfieldModule],exports:[cn]}),ln.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,w.FormsModule,C.AdaptButtonModule,C.AdaptModalModule,C.AdaptRxTextfieldModule]]});class dn extends Ft{constructor(e,t,n){super(e),this.injector=e,this.actionType=t,this.actionGuid=n,this.rxViewDataDictionaryService=this.injector.get(Bt),this.rxDefaultExpressionEvaluatorService=this.injector.get(p.RxDefaultExpressionEvaluatorService),this.rxViewActionRegistryService=this.injector.get(p.RxViewActionRegistryService),this.commonDataDictionary$=this.rxViewDataDictionaryService.getActionDataDictionary(this.actionGuid)}getExpressionEvaluator(e){const t=this.rxViewActionRegistryService.get(this.actionType).parameters.find(t=>t.name===e);return(0,u.get)(t,"evaluatorService",this.rxDefaultExpressionEvaluatorService)}}class pn extends Ft{constructor(e,t){super(t),this.fieldDefinition=e,this.injector=t,this.rxNamedListDefinitionCacheService=this.injector.get(r.RxNamedListDefinitionCacheService),this.rxRecordDefinitionCacheService=this.injector.get(a.RxRecordDefinitionCacheService),this.rxViewDataDictionaryService=this.injector.get(Bt),this.rxDefaultExpressionEvaluatorService=this.injector.get(p.RxDefaultExpressionEvaluatorService),this.commonDataDictionary$=this.rxNamedListDefinitionCacheService.getNamedListDefinition(this.fieldDefinition.namedListDefinition).pipe((0,g.switchMap)(e=>this.rxRecordDefinitionCacheService.getRecordDefinition(e.recordDefinitionName)),(0,g.switchMap)(e=>this.getNamedListBranch(e)),(0,g.withLatestFrom)(this.rxViewDataDictionaryService.getCommonDataDictionary()),(0,g.map)(([e,t])=>[e,...t]))}getExpressionEvaluator(){return this.rxDefaultExpressionEvaluatorService}getDefaultConfig(){return Object.assign(Object.assign({},super.getDefaultConfig()),{operators:c.ExpressionOperatorRowsByGroup.get(c.ExpressionOperatorGroup.AllServer)})}getNamedListBranch(e){const t=(0,u.chain)(e.fieldDefinitions).reject({resourceType:a.RX_RECORD_DEFINITION.resourceTypes.attachment}).map(e=>({label:e.name,expression:`'${e.id}'`,icon:"d-icon-file_o_gear",children:e.resourceType===a.RX_RECORD_DEFINITION.resourceTypes.selection?[{label:"Options",children:(0,u.map)(e.optionNamesById,(e,t)=>({label:e,expression:t,icon:"d-icon-file_o_gear"}))}]:[]})).sortBy("label").value();return(0,h.of)({label:"Filter by",expanded:!0,children:t})}}class mn{constructor(e,t,n,i){this.injector=e,this.descriptor=t,this.guid=n,this.initialProps=i,this.destroyedSubject=new h.Subject,this.viewDesignerFacade=this.injector.get(It),this.actionPropertyEditorConfigSubject=new h.BehaviorSubject([]),this.actionPropertiesSubject=new h.BehaviorSubject(this.initialProps),this.children=[],this.children$=this.viewDesignerFacade.getChildComponents(this.guid),this.destroyed$=this.destroyedSubject.asObservable(),this.actionPropertyEditorConfig$=this.actionPropertyEditorConfigSubject.pipe((0,g.takeUntil)(this.destroyed$)),this.actionProperties$=this.actionPropertiesSubject.pipe((0,g.map)(()=>(0,u.omit)(this.getActionProperties(),["name"])),(0,g.distinctUntilChanged)(u.isEqual),(0,g.takeUntil)(this.destroyed$)),this.children$.pipe((0,g.first)(),(0,g.takeUntil)(this.destroyed$)).subscribe(e=>{this.setChildren(e)})}updateActionProperties(e){this.actionPropertiesSubject.next(Object.assign(Object.assign({},this.actionPropertiesSubject.getValue()),e))}setActionProperties(e){const{name:t,index:n}=this.actionPropertiesSubject.getValue();this.actionPropertiesSubject.next(Object.assign(Object.assign({$condition$:null},e),{name:t,index:n}))}getActionProperties(){return this.actionPropertiesSubject.getValue()}getActionPropertyValue(e){return this.actionPropertiesSubject.getValue()[e]}setActionPropertyEditorConfig(e){const t=new dn(this.injector,this.descriptor.name,this.guid);e=[{name:"$condition$",component:l.ExpressionFormControlComponent,options:{label:"Condition",tooltip:new c.Tooltip("The action will execute if the condition is true, or if no condition is defined."),dataDictionary$:t.getDataDictionary(),operators:t.getOperators()}},...e],this.actionPropertyEditorConfigSubject.next(e)}getActionPropertyEditorConfig(){return this.actionPropertyEditorConfigSubject.getValue()}setActionOutputDataDictionary(e){this.viewDesignerFacade.setActionDataDictionaryBranch(this.guid,this.getActionPropertyValue("index"),this.descriptor.label,e)}setChildren(e){this.children=e}getChildren(){return this.children}onDestroy(){this.destroyedSubject.next(),this.destroyedSubject.complete()}}class un{constructor(e,t){this.injector=e,this.sandbox=t,this.guid=this.sandbox.guid,this.expressionConfigurator=new dn(this.injector,this.sandbox.descriptor.name,this.sandbox.guid)}getExpressionConfigurator(){return this.expressionConfigurator}getPropertiesByName(){return this.sandbox.getActionProperties()}getChildren(){return this.sandbox.getChildren()}getOutputExpressionForPropertyPath(e){return`\${view.components.${this.guid}.output.${e}}`}}class hn extends un{constructor(e,t){super(e,t),this.injector=e,this.sandbox=t,this.defaultProps=this.sandbox.descriptor.parameters.reduce((e,t)=>(e[t.name]=t.defaultValue,e),{}),this.sandbox.actionProperties$.pipe((0,g.take)(1)).subscribe(e=>{this.sandbox.updateActionProperties(Object.assign(Object.assign({},this.defaultProps),e)),this.sandbox.setActionPropertyEditorConfig(this.getActionEditorConfig())})}getActionEditorConfig(){return this.sandbox.descriptor.parameters.filter(e=>e.editor).map(e=>({name:e.name,component:e.editor,options:Object.assign({label:e.label,isRequired:e.isRequired,tooltip:e.tooltip},e.editor===l.ExpressionFormControlComponent?{dataDictionary$:this.expressionConfigurator.getDataDictionary(e.name),operators:this.expressionConfigurator.getOperators(e.name)}:e.editorOptions||{})}))}}class gn{constructor(e){this.injector=e,this.models=new Map}create(e,t,n){var i;const o=new mn(this.injector,e,t,(0,u.isFunction)(null===(i=null==e?void 0:e.designModel)||void 0===i?void 0:i.getInitialProperties)?Object.assign(Object.assign({},e.designModel.getInitialProperties((0,u.omit)(n,["index","name"]))),{name:n.name,index:n.index}):n),r=new(e.designModel||hn)(this.injector,o);return this.models.set(t,r),r}remove(e){this.models.delete(e)}get(e){return this.models.get(e)}ngOnDestroy(){this.models.forEach(e=>e.sandbox.onDestroy()),this.models.clear()}}gn.\u0275fac=function(e){return new(e||gn)(i["\u0275\u0275inject"](i.Injector))},gn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:gn,factory:gn.\u0275fac});class vn extends d.RxModalClass{constructor(e,t,n,i,o,r,s,a,c){super(n,c),this.rxViewActionRegistryService=e,this.rxStringService=t,this.activeModalRef=n,this.viewDesignerFacade=i,this.rxActionListModelManagerService=o,this.rxExpressionEditorService=r,this.rxGuidService=s,this.translateService=a,this.injector=c,this.availableActionDescriptors$=this.rxViewActionRegistryService.getLicensedActions(),this.selectedActions=[],this.config=this.activeModalRef.getData(),this.treeWrap=C.TreeWrap.WrapAll,this.destroyed$=new h.ReplaySubject(1),this.isEditorDirtySubject=new h.BehaviorSubject(!1),this.isSaveButtonDisabled$=this.isEditorDirtySubject.asObservable().pipe((0,g.map)(e=>!e)),this.availableActionTreeNodes$=this.availableActionDescriptors$.pipe((0,g.map)(e=>e.filter(e=>!e.hidden).sort((e,t)=>e.label.localeCompare(t.label)).map(e=>({data:e,label:e.label})))),this.actionLabelsMap$=this.availableActionDescriptors$.pipe((0,g.map)(e=>(0,u.transform)(e,(e,t)=>{e[t.name]=t.label},{}))),this.config.selectedActions=(0,u.map)(this.config.selectedActions,e=>Object.assign(Object.assign({},e),{data:Object.assign(Object.assign({},e.data),{index:(0,C.toNumber)(e.data.index)})})),this.selectedActions=(0,u.flow)(e=>(0,u.sortBy)(e,e=>e.data.index),e=>(0,u.map)(e,e=>{const t=this.rxViewActionRegistryService.get(e.data.name);this.viewDesignerFacade.setActionDataDictionaryBranch(e.guid,e.data.index,e.data.name);const n=this.rxActionListModelManagerService.create(t,e.guid,e.data);return{isOpen:Boolean(this.config.actionToEdit)&&e.guid===this.config.actionToEdit.guid,model:n,config$:n.sandbox.actionPropertyEditorConfig$.pipe((0,g.map)(e=>[{controls:e}])),name:t.name}}))(this.config.selectedActions)}isDirty(){return this.isEditorDirtySubject.getValue()}addAction(e,t=this.selectedActions.length){const n=this.rxGuidService.generate();this.viewDesignerFacade.setActionDataDictionaryBranch(n,t,e.name);const i=this.rxActionListModelManagerService.create(e,n,{name:e.name,index:t});this.selectedActions.splice(t,0,{isOpen:!0,model:i,config$:i.sandbox.actionPropertyEditorConfig$.pipe((0,g.map)(e=>[{controls:e}])),name:e.name}),this.updateIndexProp(),this.markEditorAsDirty(),setTimeout(()=>{this.accordionTabEls.toArray()[t].nativeElement.scrollIntoView({block:"nearest"})})}onSave(){const e=this.selectedActions.map(e=>{var t,n,i;return{guid:e.model.guid,data:e.model.getPropertiesByName(),children:null!==(i=null===(n=(t=e.model).getChildren)||void 0===n?void 0:n.call(t))&&void 0!==i?i:null}});this.activeModalRef.close(e)}removeAction(e){(0,u.pull)(this.selectedActions,e),this.rxActionListModelManagerService.remove(e.model.guid),this.viewDesignerFacade.removeActionDataDictionaryBranch(e.model.guid),this.markEditorAsDirty()}moveAction(e,t){(0,x.moveItemInArray)(this.selectedActions,e,t),this.updateIndexProp(),this.markEditorAsDirty()}toggleOpen(e){this.selectedActions.forEach(t=>t.isOpen=e)}onSelectedActionsListDrop(e){var t;const n=e.item.data;(null===(t=n.model)||void 0===t?void 0:t.guid)?this.moveAction(e.previousIndex,e.currentIndex):this.addAction(n,e.currentIndex)}openExpressionEditor(e,t,n,i=!1,o){this.rxExpressionEditorService.openEditor({property:{path:t,value:(0,u.get)(e.sandbox.getActionProperties(),t),label:n},isReadOnly:i,expressionConfigurator:e.getExpressionConfigurator(),legend:[{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.function.label"),icon:"d-icon-mathematical_function"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.keyword.label"),icon:"d-icon-dollar"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component.label"),icon:"d-icon-file_o"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-component-property.label"),icon:"d-icon-file_o_gear"},{label:this.translateService.instant("com.bmc.arsys.rx.client.expression-editor.legend.view-input-parameter.label"),icon:"d-icon-arrow_right_square_input"}],expressionPropertyNavigator:{getProperties:()=>{const t=Array.from(o.querySelectorAll("rx-expression-form-control")).map(t=>{const n=t.getAttribute("property-path");return{path:n,value:(0,u.get)(e.sandbox.getActionProperties(),n),label:t.getAttribute("property-label")}});return(0,h.of)(t)}}}).pipe((0,g.map)(({path:t,value:n})=>{const i=e.sandbox.getActionProperties(),o=t in i?t:(0,u.toPath)(t)[0];return(0,u.set)({[o]:(0,u.cloneDeep)(i[o])},t,n)})).subscribe(t=>{e.sandbox.updateActionProperties(t),this.markEditorAsDirty()})}onEvent(e,t,n){e.type===l.RX_EXPRESSION_EDITOR.events.openExpressionEditor&&this.openExpressionEditor(t,e.payload.propertyPath,e.payload.propertyLabel,e.payload.isReadOnly,n)}updateIndexProp(){this.selectedActions.forEach((e,t)=>{e.model.sandbox.updateActionProperties({index:t})}),this.viewDesignerFacade.updateActionDataDictionaryBranchOrder(this.selectedActions.reduce((e,t,n)=>(e[t.model.guid]=n,e),{}))}markEditorAsDirty(){this.isEditorDirtySubject.next(!0)}ngAfterViewInit(){const e=(0,u.findIndex)(this.selectedActions,"isOpen");-1!==e&&this.accordionTabEls.toArray()[e].nativeElement.scrollIntoView({block:"nearest"})}ngOnDestroy(){this.isEditorDirtySubject.complete(),this.destroyed$.next(!0),this.destroyed$.complete(),this.viewDesignerFacade.removeAllActionDataDictionaryBranches()}cancel(){this.activeModalRef.dismiss(C.DismissReasons.CLOSE_BTN)}}vn.\u0275fac=function(e){return new(e||vn)(i["\u0275\u0275directiveInject"](p.RxViewActionRegistryService),i["\u0275\u0275directiveInject"](v.RxStringService),i["\u0275\u0275directiveInject"](C.ActiveModalRef),i["\u0275\u0275directiveInject"](It),i["\u0275\u0275directiveInject"](gn),i["\u0275\u0275directiveInject"](l.RxExpressionEditorService),i["\u0275\u0275directiveInject"](v.RxGuidService),i["\u0275\u0275directiveInject"](m.TranslateService),i["\u0275\u0275directiveInject"](i.Injector))},vn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:vn,selectors:[["rx-action-list-editor-dialog"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](C.AdaptAccordionTabComponent,5,i.ElementRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.accordionTabEls=e)}},features:[i["\u0275\u0275ProvidersFeature"]([gn]),i["\u0275\u0275InheritDefinitionFeature"]],decls:22,vars:20,consts:[[1,"designer-modal-body","modal-body","d-flex","mh-100"],[1,"row","flex-grow-1","w-100"],["class","col-4 border-right d-flex flex-column mh-100",4,"ngIf"],[1,"d-flex","align-items-start","justify-content-between"],[1,"d-flex","align-items-center"],[1,"mt-2"],["name","question_circle_o","appendToBody","true",1,"ml-2",3,"adaptPopover"],["class","btn-group",4,"ngIf"],["id","selected-action-list","cdkDropList","",1,"designer-modal-accordion-wrapper",3,"cdkDropListDropped"],[3,"multiselect"],["class","designer-modal-accordion-content","cdkDrag","","cdkDragLockAxis","y",3,"cdkDragData","cdkDragDisabled",4,"ngFor","ngForOf"],["class","d-flex justify-content-center h-100 align-items-center mt-2",4,"ngIf"],[1,"modal-footer"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click",4,"ngIf"],["adapt-button","","btn-type","secondary","type","button","rx-id","cancel-button",3,"click"],[1,"col-4","border-right","d-flex","flex-column","mh-100"],[1,"rx-card","card","flex-grow-1","mt-2"],["class","card-block",4,"ngIf"],[1,"card-block"],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListConnectedTo",4,"ngIf","ngIfElse"],["adaptTreeEmptyStateTemplate",""],["cdkDropList","","cdkDropListSortingDisabled","",3,"cdkDropListConnectedTo"],["filter","true",3,"value","wrap"],["adaptTreeNodeTemplate",""],["class","rx-tree-draggable-node","cdkDrag","",3,"cdkDragData",4,"ngIf"],["cdkDrag","",1,"rx-tree-draggable-node",3,"cdkDragData"],[3,"dblclick"],["type","button",1,"rx-button-unstyled","d-icon-plus_circle",3,"click"],[1,"rx-tree-node-label","ml-3"],[1,"d-flex","justify-content-center","h-100","align-items-center","mt-2"],["type","search",1,"w-100",3,"label"],[1,"btn-group"],["adapt-button","","btn-type","tertiary","type","button","rx-id","expand-all-button",3,"click"],["adapt-button","","btn-type","tertiary","type","button","rx-id","collapse-all-button",3,"click"],["cdkDrag","","cdkDragLockAxis","y",1,"designer-modal-accordion-content",3,"cdkDragData","cdkDragDisabled"],["container",""],["class","designer-modal-drag-handle d-icon-left-dots","cdkDragHandle","",4,"ngIf"],[1,"d-block",3,"isOpen","open","close"],[1,"card-title-text","w-100"],[1,"designer-modal-card-title-content"],[1,"left-header-block"],["class","rx-ellipsis","rx-id","card-title",3,"title",4,"ngIf"],["class","right-header-block",4,"ngIf"],[1,"d-block",3,"config","model","isReadOnly","modelChange","editorEvent"],["cdkDragHandle","",1,"designer-modal-drag-handle","d-icon-left-dots"],["rx-id","card-title",1,"rx-ellipsis",3,"title"],[1,"right-header-block"],[1,"designer-modal-card-title-index-buttons"],["type","button","rx-id","move-down-button",1,"d-icon-left-triangle_down","rx-button-unstyled",3,"disabled","click"],["type","button","rx-id","move-up-button",1,"d-icon-left-triangle_up","rx-button-unstyled",3,"disabled","click"],["adapt-button","","size","small","type","button","rx-id","remove-button",1,"d-icon-left-cross_adapt","p-1","pr-4","ml-3",3,"click"],["type","config",1,"w-100",3,"label"],["adapt-button","","btn-type","primary","type","button","rx-id","save-button",3,"disabled","click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275template"](2,K,8,6,"div",2),i["\u0275\u0275elementStart"](3,"div"),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275elementStart"](6,"h4",5),i["\u0275\u0275text"](7),i["\u0275\u0275pipe"](8,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](9,"adapt-icon",6),i["\u0275\u0275pipe"](10,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](11,ee,7,6,"div",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](12,"div",8),i["\u0275\u0275listener"]("cdkDropListDropped",function(e){return t.onSelectedActionsListDrop(e)}),i["\u0275\u0275elementStart"](13,"adapt-accordion",9),i["\u0275\u0275template"](14,oe,13,17,"div",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](15,re,3,3,"div",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](16,"div",12),i["\u0275\u0275template"](17,se,4,6,"button",13),i["\u0275\u0275elementStart"](18,"button",14),i["\u0275\u0275listener"]("click",function(){return t.cancel()}),i["\u0275\u0275text"](19),i["\u0275\u0275pipe"](20,"translate"),i["\u0275\u0275pipe"](21,"translate"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](1),i["\u0275\u0275classMapInterpolate1"]("d-flex flex-column mh-100 ",t.config.isReadOnly?"col":"col-8",""),i["\u0275\u0275advance"](4),i["\u0275\u0275textInterpolate1"](" ",i["\u0275\u0275pipeBind1"](8,12,"com.bmc.arsys.rx.client.view-components.action-list.selected-actions.title")," "),i["\u0275\u0275advance"](2),i["\u0275\u0275propertyInterpolate"]("adaptPopover",i["\u0275\u0275pipeBind1"](10,14,"com.bmc.arsys.rx.client.view-components.action-list.selected-actions.tooltip")),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",t.selectedActions.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("multiselect",!0),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngForOf",t.selectedActions),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!t.selectedActions.length),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",!t.config.isReadOnly),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate1"](" ",t.config.isReadOnly?i["\u0275\u0275pipeBind1"](20,16,"com.bmc.arsys.rx.client.common.close.label"):i["\u0275\u0275pipeBind1"](21,18,"com.bmc.arsys.rx.client.common.cancel.label")," "))},directives:[y.NgIf,C.AdaptIconComponent,C.AdaptPopoverDirective,x.CdkDropList,C.AdaptAccordionComponent,y.NgForOf,C.AdaptButtonComponent,C.AdaptTreeComponent,C.AdaptTreeNodeTemplateDirective,x.CdkDrag,C.AdaptEmptyStateComponent,C.AdaptAccordionTabComponent,l.FormBuilderComponent,x.CdkDragHandle],pipes:[m.TranslatePipe,y.AsyncPipe],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}.designer-modal-body[_ngcontent-%COMP%]{height:645px;min-height:calc(100% - 61px)!important}.designer-modal-accordion-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:auto;padding-top:10px}.designer-modal-accordion-content[_ngcontent-%COMP%]{position:relative}.designer-modal-accordion-content.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.designer-modal-drag-handle[_ngcontent-%COMP%]{cursor:move;position:absolute;top:0;left:0;height:46px;padding:14px 10px 14px 14px;z-index:1}.designer-modal-card-title-content[_ngcontent-%COMP%]{width:100%;display:flex}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%], .designer-modal-card-title-content[_ngcontent-%COMP%]   .right-header-block[_ngcontent-%COMP%]{display:flex;align-items:center}.designer-modal-card-title-content[_ngcontent-%COMP%]   .left-header-block[_ngcontent-%COMP%]{flex-grow:1;min-width:0;font-size:14px;padding-left:22px}.designer-modal-card-sub-title[_ngcontent-%COMP%]{color:#7c7f81;font-weight:normal}.designer-modal-card-title-index-buttons[_ngcontent-%COMP%]{display:flex;font-size:19px}.rx-card[_ngcontent-%COMP%]{overflow:auto}.rx-tree-draggable-node[_ngcontent-%COMP%]{cursor:pointer}.rx-tree-draggable-node.cdk-drag-preview[_ngcontent-%COMP%]{z-index:1200!important}.rx-tree-draggable-node.cdk-drag[_ngcontent-%COMP%]{opacity:1}.rx-tree-node-label[_ngcontent-%COMP%]{word-break:break-all}rx-form-builder[_ngcontent-%COMP%]{max-width:400px}[_nghost-%COMP%]  .a-tree__node_leaf .a-tree__toggle{display:none}']});class fn{}fn.\u0275fac=function(e){return new(e||fn)},fn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:fn,declarations:[vn],imports:[y.CommonModule,C.AdaptRxSearchModule,C.AdaptButtonModule,C.AdaptAccordionModule,x.DragDropModule,C.AdaptEmptyStateModule,l.ExpressionEditorModule,w.FormsModule,l.RxFormBuilderModule,C.AdaptIconModule,C.AdaptPopoverModule,m.TranslateModule,C.AdaptTreeModule],exports:[vn]}),fn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,C.AdaptRxSearchModule,C.AdaptButtonModule,C.AdaptAccordionModule,x.DragDropModule,C.AdaptEmptyStateModule,l.ExpressionEditorModule,w.FormsModule,l.RxFormBuilderModule,C.AdaptIconModule,C.AdaptPopoverModule,m.TranslateModule,C.AdaptTreeModule]]});class bn extends l.ValueAccessor{constructor(e,t){super(),this.rxModalService=e,this.rxViewActionRegistryService=t,this.availableActions$=this.rxViewActionRegistryService.getLicensedActions(),this.selectedActions=[],this.availableActions$.subscribe(e=>{this.actionLabelsMap=(0,u.transform)(e,(e,t)=>{e[t.name]=t.label},{})})}focus(e){(null==e?void 0:e.actionIndex)>=0?this.openActionSelector(this.selectedActions.find(t=>t.data.index===e.actionIndex)):this.openActionSelector()}openActionSelector(e){this.rxModalService.openModal({title:"Edit actions",data:{selectedActions:this.value,actionToEdit:e,isReadOnly:this.isDisabled},content:vn,size:p.OpenViewActionModalSize.Large,testID:"edit-actions"}).then(e=>{this.value=e}).catch(u.noop)}onSetValue(){this.updateSortedActionsList()}onWriteValue(e){this.updateSortedActionsList()}removeAction(e){this.value=(0,u.without)(this.value,e)}editAction(e){this.openActionSelector(e)}updateSortedActionsList(){this.selectedActions=(0,u.sortBy)(this.value,e=>e.data.index)}}bn.\u0275fac=function(e){return new(e||bn)(i["\u0275\u0275directiveInject"](d.RxModalService),i["\u0275\u0275directiveInject"](p.RxViewActionRegistryService))},bn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:bn,selectors:[["rx-action-list-control"]],inputs:{options:"options",tooltip:"tooltip"},features:[i["\u0275\u0275ProvidersFeature"]([{provide:w.NG_VALUE_ACCESSOR,useExisting:bn,multi:!0}]),i["\u0275\u0275InheritDefinitionFeature"]],decls:7,vars:3,consts:[["rx-id","open-modal-button","btn-type","tertiary",1,"px-0","py-0","pb-1",3,"click"],["name","plus_circle",1,"mr-1"],["class","align-middle",4,"ngIf"],["rx-id","columns"],["class","text-tertiary",4,"ngIf"],["class","list-unstyled mb-0",4,"ngIf"],[1,"align-middle"],[1,"letter-space"],["appendToBody","true",3,"name","adaptPopover"],[1,"text-tertiary"],[1,"list-unstyled","mb-0"],["class","border px-2 py-1 mb-1 d-flex align-items-center",4,"ngFor","ngForOf"],[1,"border","px-2","py-1","mb-1","d-flex","align-items-center"],[1,"mr-auto"],["adapt-button","","btn-type","tertiary","size","small","type","button",1,"d-icon-left-pencil","p-1",3,"click"],["class","d-icon-left-cross_adapt p-1","adapt-button","","btn-type","tertiary","size","small","type","button",3,"click",4,"ngIf"],["adapt-button","","btn-type","tertiary","size","small","type","button",1,"d-icon-left-cross_adapt","p-1",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"adapt-button",0),i["\u0275\u0275listener"]("click",function(){return t.openActionSelector()}),i["\u0275\u0275element"](1,"adapt-icon",1),i["\u0275\u0275text"](2," Edit actions\n"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,ae,3,2,"span",2),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275template"](5,ce,2,0,"span",4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](6,pe,2,1,"ul",5)),2&e&&(i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.tooltip),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngIf",0===t.selectedActions.length),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",t.selectedActions.length>0))},directives:[C.AdaptButtonComponent,C.AdaptIconComponent,y.NgIf,C.AdaptPopoverDirective,y.NgForOf],encapsulation:2});class wn{}wn.\u0275fac=function(e){return new(e||wn)},wn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:wn,declarations:[bn],imports:[y.CommonModule,C.AdaptIconModule,C.AdaptButtonModule,fn,C.AdaptPopoverModule],exports:[bn]}),wn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,C.AdaptIconModule,C.AdaptButtonModule,fn,C.AdaptPopoverModule]]});class yn{constructor(e){this.viewDesignerFacade=e,this.permissions=[],this.destroyed$=new h.ReplaySubject(1)}ngOnInit(){this.viewDesignerFacade.getComponentPermissions(this.options.componentGuid).pipe((0,g.takeUntil)(this.destroyed$)).subscribe(e=>{this.permissions=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}onPermissionsChange(e){this.viewDesignerFacade.updateComponentModel(this.options.componentGuid,{permissions:e})}}yn.\u0275fac=function(e){return new(e||yn)(i["\u0275\u0275directiveInject"](It))},yn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:yn,selectors:[["rx-component-permission-editor-widget"]],inputs:{options:"options",isDisabled:"isDisabled"},decls:1,vars:3,consts:[[3,"options","disabled","ngModel","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-permission-editor",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.permissions=e})("ngModelChange",function(e){return t.onPermissionsChange(e)}),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("options",t.options)("disabled",t.isDisabled)("ngModel",t.permissions)},directives:[l.RxPermissionEditorComponent,w.NgControlStatus,w.NgModel],encapsulation:2});class xn{}xn.\u0275fac=function(e){return new(e||xn)},xn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:xn,declarations:[yn],imports:[y.CommonModule,w.FormsModule,l.RxPermissionEditorModule]}),xn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,w.FormsModule,l.RxPermissionEditorModule]]});class Cn{}Cn.\u0275fac=function(e){return new(e||Cn)},Cn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Cn,declarations:[Tt],imports:[y.CommonModule,w.FormsModule,l.CustomizationOptionsModule]}),Cn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,w.FormsModule,l.CustomizationOptionsModule]]});class Dn extends l.InspectorWidgetBase{constructor(e){super(e),this.injector=e,this.actions=[],this.modelSandbox=this.designerItemModel.sandbox,this.destroyed$=new h.ReplaySubject(1)}ngOnInit(){this.modelSandbox.getChildComponents().pipe((0,g.takeUntil)(this.destroyed$)).subscribe(e=>{this.actions=e})}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}onActionsChange(e){this.modelSandbox.setChildren(this.getActionComponentPayloads(e))}focus(e){this.actionListControlComponent.focus(e)}getActionComponentPayloads(e){return e.map(e=>Object.assign({type:p.RxViewComponentType.Action},e))}}Dn.\u0275fac=function(e){return new(e||Dn)(i["\u0275\u0275directiveInject"](i.Injector))},Dn.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Dn,selectors:[["rx-action-list-widget"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](bn,5),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.actionListControlComponent=e.first)}},features:[i["\u0275\u0275InheritDefinitionFeature"]],decls:2,vars:5,consts:[[3,"disabled","ngModel","tooltip","ngModelChange"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"rx-action-list-control",0),i["\u0275\u0275listener"]("ngModelChange",function(e){return t.actions=e})("ngModelChange",function(e){return t.onActionsChange(e)}),i["\u0275\u0275pipe"](1,"async"),i["\u0275\u0275elementEnd"]()),2&e&&i["\u0275\u0275property"]("disabled",i["\u0275\u0275pipeBind1"](1,3,t.modelSandbox.isViewReadOnly$))("ngModel",t.actions)("tooltip",null==t.options?null:t.options.tooltip)},directives:[bn,w.NgControlStatus,w.NgModel],pipes:[y.AsyncPipe],encapsulation:2});class Sn{}Sn.\u0275fac=function(e){return new(e||Sn)},Sn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Sn,declarations:[Dn],imports:[y.CommonModule,wn,w.FormsModule]}),Sn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,wn,w.FormsModule]]});class Vn{constructor(e,t){this.injector=e,this.sandbox=t}get expressionConfigurator(){return this._expressionConfigurator||(this._expressionConfigurator=new(this.sandbox.descriptor.expressionConfigurator||Nt)(this.injector,this.sandbox.guid,this,this.sandbox.descriptor.type)),this._expressionConfigurator}getExpressionForProperty(e){return`\${view.components.${this.sandbox.guid}.${e}}`}}const Mn=[{id:p.RxDevice.Desktop,name:"Desktop"},{id:p.RxDevice.Tablet,name:"Tablet"},{id:p.RxDevice.Mobile,name:"Mobile"}];function In(){return{name:p.RX_AVAILABLE_ON_DEVICES_PROP_NAME,component:l.SelectFormControlComponent,options:{label:"Available on devices",options:Mn,multiple:!0,required:!0,hideSelectAllButton:!0,hideDeselectAllButton:!0}}}function Pn(){return{name:p.RX_HIDDEN_PROP_NAME,component:l.OptionalExpressionInspectorControlComponent,options:{label:"Hidden"}}}function En(){return{name:p.RX_DISABLED_PROP_NAME,component:l.OptionalExpressionInspectorControlComponent,options:{label:"Disabled"}}}function On(e=[]){return{name:p.RX_STYLES_PROP_NAME,component:l.TagsFormControlComponent,options:{label:"CSS classes",placeholder:"Add CSS classes",tooltip:new c.Tooltip("Enter CSS class names to apply to this view component."),errorCheck:Ot,autocompleteValues:e}}}function jn(){return[Pn(),In(),On()]}class Rn{constructor(e,t,n,i){this.rxViewActionRegistryService=e,this.rxStringService=t,this.rxLogService=n,this.rxViewExpressionValidatorService=i}validate(e,t){const n=(0,u.flow)(e=>e.map(({data:e})=>{const n=this.rxViewActionRegistryService.get(e.name);return[(0,h.of)(this.validateRequiredProps(e,n,t)),this.performCustomValidation(e,n,t),this.validateExpressions(e,n,t)]}),u.flatten)(e);return(0,h.combineLatest)([(0,h.of)(this.validateActionSequence(e,t)),...n]).pipe((0,g.map)(u.flatten))}performCustomValidation(e,t,n){const i=this.rxViewActionRegistryService.getDesignManager(t.name);return i?i.validate(e,n).pipe((0,g.map)(t=>t.map(t=>Object.assign(Object.assign({},t),{data:{actionIndex:e.index}})))):(0,h.of)([])}validateRequiredProps(e,t,n){return(0,u.flow)(t=>t.filter(t=>!0===t.isRequired&&this.rxStringService.isEmptySafe(e[t.name])),i=>i.map(i=>({type:"error",description:`${t.label} action: ${i.label||i.name} cannot be blank.`,propertyName:n,data:{actionIndex:e.index}})))(t.parameters)}validateExpressions(e,t,n){const i=t.parameters.filter(t=>!0===t.enableExpressionEvaluation&&e[t.name]).map(i=>this.rxViewExpressionValidatorService.validate(e[i.name],n,i.label||i.name,i.evaluatorService).pipe((0,g.map)(n=>n.map(n=>Object.assign(Object.assign({},n),{description:`${t.label} action: ${n.description}`,data:{actionIndex:e.index}})))));return i.length?(0,h.combineLatest)(i).pipe((0,g.map)(u.flatten)):(0,h.of)([])}validateActionSequence(e,t){return(0,u.flow)(e=>(0,u.map)(e,({data:n})=>{const i=this.rxViewActionRegistryService.get(n.name);return i?(0,u.map)(n,(o,r)=>{var s;if((null===(s=i.parameters.find(e=>e.name===r))||void 0===s?void 0:s.enableExpressionEvaluation)&&this.rxStringService.isNonEmptyString(o)){const s=o.match(/\${view\.components\.([0-9a-z-]+)\..+}/);if(s&&s[1]){const o=(0,u.find)(e,{guid:s[1]});if(Number(null==o?void 0:o.data.index)>Number(n.index))return{type:"error",description:`${i.label} action: invalid expression for ${r}.`,propertyName:t}}}}):[]}),u.flatten,u.compact)(e)}}Rn.\u0275fac=function(e){return new(e||Rn)(i["\u0275\u0275inject"](p.RxViewActionRegistryService),i["\u0275\u0275inject"](v.RxStringService),i["\u0275\u0275inject"](c.RxLogService),i["\u0275\u0275inject"](kt))},Rn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Rn,factory:Rn.\u0275fac,providedIn:"root"});class An{constructor(e,t,n){this.injector=e,this.guid=t,this.descriptor=n,this.viewDesignerFacade=this.injector.get(It),this.systemActions$=this.injector.get(f.Actions),this.viewDesignerDispatcher=this.injector.get(Ne),this.rxViewDesignerModels=this.injector.get(Pt),this.childModelsInitialized$=new h.BehaviorSubject(!1),this.dispatcher$=new h.Subject,this.breadcrumbs$=new h.ReplaySubject(1),this.setUpPublicStreams(),this.viewDesignerFacade.getComponentType(t).pipe((0,g.take)(1)).subscribe(e=>this.componentType=e),this.viewDesignerFacade.getComponentModel(this.guid).pipe((0,g.map)(e=>Boolean(e.lastUpdateTime||e.name)),(0,g.switchMap)(e=>e?this.viewDesignerFacade.viewModelsInitialized$:(0,h.of)(null)),(0,g.take)(1),(0,g.takeUntil)(this.destroyed$)).subscribe(()=>{this.childModelsInitialized$.next(!0)}),this.viewModelsInitialized$=this.viewDesignerFacade.viewModelsInitialized$.pipe((0,g.takeUntil)(this.destroyed$)),this.isComponentSelected$.pipe((0,g.filter)(e=>e),(0,g.first)(),(0,g.switchMap)(()=>this.breadcrumbs$),(0,g.distinctUntilChanged)(),(0,g.takeUntil)(this.destroyed$)).subscribe(e=>{this.dispatcher$.next(Ee({guid:this.guid,label:e}))}),(0,h.merge)(this.dispatcher$.pipe((0,f.ofType)(Ve),(0,g.skipWhile)(e=>0===e.issues.length)),this.dispatcher$.pipe((0,g.filter)(e=>e.type!==Ve.type))).pipe((0,g.takeUntil)(this.destroyed$)).subscribe(e=>this.viewDesignerDispatcher.dispatch(e)),this.destroyed$.subscribe(()=>{this.childModelsInitialized$.complete(),this.dispatcher$.complete(),this.breadcrumbs$.complete()})}createError(e,t,n){return{type:"error",description:e,propertyName:t,disableCorrection:n}}createWarning(e,t,n){return{type:"warning",description:e,propertyName:t,disableCorrection:n}}getComponent(e){return this.viewDesignerFacade.getComponent(e)}getChildComponents(e){return this.childModelsInitialized$.asObservable().pipe((0,g.filter)(Boolean),(0,g.switchMapTo)(this.viewDesignerFacade.getChildComponents(this.guid,e)),(0,g.takeUntil)(this.destroyed$))}getChildComponentsTree(){return this.childModelsInitialized$.asObservable().pipe((0,g.filter)(e=>e),(0,g.switchMapTo)(this.viewDesignerFacade.getChildComponentTree(this.guid)),(0,g.shareReplay)(1),(0,g.takeUntil)(this.destroyed$))}getChildComponentGuids(e,t=!1){return this.childModelsInitialized$.asObservable().pipe((0,g.filter)(Boolean),(0,g.switchMapTo)(this.viewDesignerFacade.getChildComponentGuids(this.guid,t,e)),(0,g.takeUntil)(this.destroyed$))}setChildren(e,t){this.dispatcher$.next(Pe({payload:{guid:t||this.guid,data:e}}))}setChildrenByType(e,t){this.dispatcher$.next(Pe({payload:{guid:this.guid,data:e,types:t}}))}getParentComponentGuid(e){return this.viewDesignerFacade.getParentComponentGuid(this.guid,e).pipe((0,g.distinctUntilChanged)(),(0,g.takeUntil)(this.destroyed$))}setValidationIssues(e){this.dispatcher$.next(Ve({issues:e,guid:this.guid}))}updateComponentProperties(e){this.viewDesignerFacade.updateComponentProperties(this.guid,e)}getComponentPropertyValue(e,t=this.guid){return this.viewDesignerFacade.getComponentPropertyValue(t,e).pipe((0,g.shareReplay)(1),(0,g.takeUntil)(this.destroyed$))}getViewPropertyValue(e){return this.viewDesignerFacade.getViewPropertyValue(e).pipe((0,g.shareReplay)(1),(0,g.takeUntil)(this.destroyed$))}updateInspectorConfig(e){this.viewDesignerFacade.setComponentInspector(this.guid,e)}setBreadcrumbs(e){this.breadcrumbs$.next(e)}addComponent(e){const t=(0,u.castArray)(e).map(e=>Object.assign(Object.assign({},e),{parentGuid:this.guid}));this.dispatcher$.next(ke({payload:t}))}selectComponent(e){this.dispatcher$.next(Oe({guid:e}))}removeComponents(e,t){this.viewDesignerFacade.removeViewComponents(e,t)}moveComponent(e,t,n){const i={guid:e},o=p.RX_VIEW_DEFINITION.defaultOutletName;this.dispatcher$.next(Ae({data:i,insertIndex:t,columnIndex:0,outletName:o,targetGuid:n}))}setLayout(e){this.dispatcher$.next(je({guid:this.guid,cols:e}))}getLayout(e){return this.viewDesignerFacade.getComponentLayout(e).pipe((0,g.shareReplay)(1),(0,g.takeUntil)(this.destroyed$))}setCommonDataDictionary(e){this.viewDesignerFacade.setComponentCommonDataDictionaryBranch(this.guid,e)}setSettablePropertiesDataDictionary(e,t){this.viewDesignerFacade.setComponentSettablePropertiesDataDictionary(this.guid,e,t)}getComponentModel(e){return this.rxViewDesignerModels.get(e)}getComponentsByType(e){return this.viewDesignerFacade.getComponentsByType(e).pipe((0,g.takeUntil)(this.destroyed$))}setUpPublicStreams(){const e=this.systemActions$.pipe((0,f.ofType)(Ce),(0,g.filter)(e=>e.guids.includes(this.guid)));this.destroyed$=(0,h.merge)(e,this.viewDesignerFacade.initViewDesigner$,this.viewDesignerFacade.destroyViewDesigner$).pipe((0,g.mapTo)(!0),(0,g.first)()),this.componentProperties$=this.viewDesignerFacade.getComponentProperties(this.guid).pipe((0,g.filter)(Boolean),(0,g.takeUntil)(this.destroyed$),(0,g.shareReplay)(1)),this.isComponentSelected$=this.systemActions$.pipe((0,f.ofType)(Oe),(0,g.map)(({guid:e})=>e===this.guid),(0,g.distinctUntilChanged)(),(0,g.startWith)(!1),(0,g.takeUntil)(this.destroyed$),(0,g.shareReplay)(1)),this.isViewReadOnly$=this.viewDesignerFacade.isViewReadOnly$}}class kn{constructor(e,t,n){this.rxViewComponentRegistryService=e,this.viewDesignerFacade=t,this.rxViewExpressionValidatorService=n,this.issuesObservableMap=new Map}registerComponents(e){e.forEach(e=>this.issuesObservableMap.set(e,this.getComponentValidationIssues(e))),this.initValidation()}unregisterComponents(e){e.forEach(e=>this.issuesObservableMap.delete(e)),this.initValidation()}unregisterAllComponents(){var e;this.issuesObservableMap.clear(),null===(e=this.validateSubscription)||void 0===e||e.unsubscribe()}initValidation(){var e;null===(e=this.validateSubscription)||void 0===e||e.unsubscribe(),this.validateSubscription=(0,h.combineLatest)(Array.from(this.issuesObservableMap.entries()).map(([e,t])=>t.pipe((0,g.map)(t=>({[e]:t}))))).pipe((0,g.map)(e=>(0,u.merge)({},...e)),(0,g.skipWhile)(e=>(0,u.every)(Object.values(e),u.isEmpty)),(0,g.debounceTime)(0)).subscribe(e=>{this.viewDesignerFacade.setExpressionValidationIssues(e)})}getComponentValidationIssues(e){return this.viewDesignerFacade.getComponentType(e).pipe((0,g.take)(1),(0,g.switchMap)(t=>{const n=this.rxViewComponentRegistryService.get(t),i=(0,u.filter)(null==n?void 0:n.properties,{enableExpressionEvaluation:!0}),o=(0,u.map)(i,"name"),r=new Map(i.map(e=>[e.name,e]));return o.length?(0,h.combineLatest)(o.map(t=>this.viewDesignerFacade.getComponentPropertyValue(e,t).pipe((0,g.switchMap)(n=>this.rxViewExpressionValidatorService.validate(n,t,r.get(t).label,r.get(t).evaluatorService).pipe((0,g.takeUntil)(this.viewDesignerFacade.allComponentGuids$.pipe((0,g.filter)(t=>!t.has(e))))))))).pipe((0,g.map)(u.flatten)):(0,h.of)([])}),(0,g.publishReplay)(1),(0,g.refCount)())}}kn.\u0275fac=function(e){return new(e||kn)(i["\u0275\u0275inject"](p.RxViewComponentRegistryService),i["\u0275\u0275inject"](It),i["\u0275\u0275inject"](kt))},kn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:kn,factory:kn.\u0275fac,providedIn:"root"});class Bn{getInitialComponentProperties(e,t){var n;let i=e;return(0,u.isFunction)(null===(n=t.designComponentModel)||void 0===n?void 0:n.getInitialProperties)&&(i=t.designComponentModel.getInitialProperties(e)),i}getDefaultComponentPermissions(e){var t;let n=null;return(0,u.isFunction)(null===(t=e.designComponentModel)||void 0===t?void 0:t.getDefaultPermissions)&&(n=e.designComponentModel.getDefaultPermissions()),n}}Bn.\u0275fac=function(e){return new(e||Bn)},Bn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Bn,factory:Bn.\u0275fac,providedIn:"root"});class Fn{constructor(e,t,n,i,o,r,s,a,c,l){this.actions$=e,this.injector=t,this.viewDesignerModels=n,this.rxGuidService=i,this.store$=o,this.rxViewComponentRegistryService=r,this.rxViewDesignerInspectorService=s,this.rxViewExpressionValidatorRegistryService=a,this.rxViewDesignerStateHelperService=c,this.rxViewDataDictionaryStoreService=l,this.initializeComponentModel$=this.actions$.pipe((0,f.ofType)(De),(0,g.tap)(e=>{e.payload.forEach(({componentModel:e})=>{const t=this.rxViewComponentRegistryService.get(e.type),n=new An(this.injector,e.guid,t),i=new t.designComponentModel(this.injector,n);(0,u.isFunction)(i.rxInit)&&i.rxInit(),this.viewDesignerModels.set(e.guid,i)})}),(0,g.map)(()=>Ye())),this.registerComponentsValidation$=this.actions$.pipe((0,f.ofType)(Se,De),(0,g.tap)(e=>this.rxViewExpressionValidatorRegistryService.registerComponents((0,u.map)(e.payload,e=>e.componentModel.guid)))),this.onComponentsRemoved$=this.actions$.pipe((0,f.ofType)(Ce),(0,g.tap)(({guids:e})=>{this.rxViewExpressionValidatorRegistryService.unregisterComponents(e),this.rxViewDataDictionaryStoreService.removeDataDictionaryForComponents(e)})),this.unregisterAllComponentsValidation$=this.actions$.pipe((0,f.ofType)(nt,it),(0,g.tap)(()=>this.rxViewExpressionValidatorRegistryService.unregisterAllComponents())),this.insertComponent$=this.actions$.pipe((0,f.ofType)(Ae),(0,g.map)(e=>{const t={insertIndex:e.insertIndex,columnIndex:e.columnIndex,outletName:e.outletName,parentGuid:e.targetGuid};return e.data.guid?Re(Object.assign(Object.assign({},t),{guid:e.data.guid})):ke({payload:[Object.assign(Object.assign({},t),{type:e.data.type,selectComponent:!0,propertiesByName:e.data.initialPropertiesByName})]})})),this.addNewComponent$=this.actions$.pipe((0,f.ofType)(ke),(0,g.withLatestFrom)(this.store$.select(ct)),(0,g.mergeMap)(([e,t])=>{const n=[],i=[],o=[];return e.payload.forEach(e=>{this.processAddComponentPayload(e,n,i,o,t)}),[n.length?De({payload:n}):null,i.length?Se({payload:i}):null,o.length?Oe({guid:(0,u.last)(o)}):null].filter(Boolean)})),this.removeComponent$=this.actions$.pipe((0,f.ofType)(Fe),(0,g.filter)(({guids:e})=>!(0,u.isEmpty)(e)),(0,g.withLatestFrom)(this.store$.select(ct)),(0,g.mergeMap)(([e,t])=>{const n=e.guids.reduce((e,n)=>{const i=t[n];return i&&e.push(n,...be(i,t)),e},[]),i=new Set(n);i.forEach(e=>{this.viewDesignerModels.delete(e),this.rxViewDesignerInspectorService.delete(e)});const o=[Ce({guids:[...i]})];if(e.selectParent){const n=t[(0,u.last)(e.guids)];(null==n?void 0:n.parentGuid)&&o.push(Oe({guid:n.parentGuid}))}return o})),this.setChildren$=this.actions$.pipe((0,f.ofType)(Pe),(0,g.map)(e=>e.payload),(0,g.withLatestFrom)(this.store$.select(ct)),(0,g.mergeMap)(([e,t])=>{const n=[],i=[],o=[],r=[];function s(e,t){const n={propertiesByName:e.data,guid:e.guid,parentGuid:t,type:e.type,columnIndex:e.columnIndex||0,insertIndex:e.insertIndex,outletName:e.outletName||p.RX_VIEW_DEFINITION.defaultOutletName};return e.children&&(n.children=(0,u.map)(e.children,t=>s(t,e.guid))),n}return function e(n){const a=n.data,c=a.map(e=>e.guid);let l=fe(t[n.guid]);n.types&&(l=l.filter(e=>n.types.includes(t[e].type)));const d=(0,u.difference)(l,c),p=(0,u.difference)(c,l),m=(0,u.difference)(l,p,d);i.push(...d);const h=a.reduce((e,t)=>((0,u.includes)(p,t.guid)&&e.push(s(t,n.guid)),e),[]);o.push(...h);const g=a.reduce((n,i)=>{if((0,u.includes)(m,i.guid)){const o=t[i.guid];(0,u.isEqual)(o.propertiesByName,i.data||{})||n.push({guid:i.guid,data:i.data}),i.children&&e({guid:i.guid,data:i.children})}return n},[]);r.push(...g)}(e),i.length&&n.push(Fe({guids:i})),o.length&&n.push(ke({payload:o})),r.length&&n.push(Ie({payload:r})),n}))}processAddComponentPayload(e,t,n,i,o){const r=this.rxViewComponentRegistryService.get(e.type),s=t.find(t=>t.componentModel.guid===e.parentGuid),a=o[e.parentGuid],c=s&&!s.componentModel.layout||a&&!a.layout,l={guid:e.guid||this.rxGuidService.generate(),type:e.type,parentGuid:e.parentGuid,propertiesByName:this.rxViewDesignerStateHelperService.getInitialComponentProperties(e.propertiesByName,r),permissions:this.rxViewDesignerStateHelperService.getDefaultComponentPermissions(r)};this.rxViewComponentRegistryService.isDataComponentDescriptor(r)||c?(l.resourceType=r.isContainerComponent?p.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent:p.RX_VIEW_DEFINITION.resourceTypes.viewComponent,n.push({componentModel:l})):(l.resourceType=r.outlets||r.isContainerComponent?p.RX_VIEW_DEFINITION.resourceTypes.containerViewComponent:p.RX_VIEW_DEFINITION.resourceTypes.viewComponent,r.outlets&&(l.layout=p.RxViewLayout.getEmptyViewLayoutForOutletNames(r.outlets)),t.push({componentModel:l,insertIndex:e.insertIndex,columnIndex:e.columnIndex||0,outletName:e.outletName||p.RX_VIEW_DEFINITION.defaultOutletName}),e.selectComponent&&i.push(l.guid)),(0,u.forEach)(e.children,e=>{this.processAddComponentPayload(Object.assign(Object.assign({},e),{parentGuid:l.guid}),t,n,i,o)})}}Fn.\u0275fac=function(e){return new(e||Fn)(i["\u0275\u0275inject"](f.Actions),i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](Pt),i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](b.Store),i["\u0275\u0275inject"](p.RxViewComponentRegistryService),i["\u0275\u0275inject"](xe),i["\u0275\u0275inject"](kn),i["\u0275\u0275inject"](Bn),i["\u0275\u0275inject"](ye))},Fn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Fn,factory:Fn.\u0275fac}),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Fn.prototype,"initializeComponentModel$",void 0),(0,S.__decorate)([(0,f.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Fn.prototype,"registerComponentsValidation$",void 0),(0,S.__decorate)([(0,f.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Fn.prototype,"onComponentsRemoved$",void 0),(0,S.__decorate)([(0,f.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Fn.prototype,"unregisterAllComponentsValidation$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Fn.prototype,"insertComponent$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Fn.prototype,"addNewComponent$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Fn.prototype,"removeComponent$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Fn.prototype,"setChildren$",void 0);class Nn{constructor(e,t,n,i,o,r,s,a,c,l,d,p,m,v,b,w,y,x,C,D,S,V,M,I){this.actions$=e,this.store$=t,this.rxBundleCacheService=n,this.rxDefinitionNameService=i,this.rxDefinitionUpdateService=o,this.rxGlobalCacheService=r,this.rxJsonParserService=s,this.rxViewComponentRegistryService=a,this.rxViewActionRegistryService=c,this.rxViewDefinitionService=l,this.viewDesignerModels=d,this.rxOldViewLayoutAdapterService=p,this.rxViewDefinitionParserService=m,this.rxLogService=v,this.rxModalService=b,this.errorHandler=w,this.rxUtilityModalsService=y,this.rxDefinitionAdapterRegistryService=x,this.rxViewDesignerInspectorService=C,this.rxViewDefinitionGeneratorService=D,this.rxViewDesignerStateHelperService=S,this.rxViewActionDefinitionAdapterRegistryService=V,this.rxGuidService=M,this.rxViewDataDictionaryStoreService=I,this.initViewDesigner$=this.actions$.pipe((0,f.ofType)(nt),(0,g.switchMap)(({payload:e})=>{const{viewDefinitionName:t,layoutTemplate:n}=e;return this.clearStorages(),[Ke(),Ue({viewDefinitionName:t,layoutTemplate:n})]})),this.destroyViewDesigner$=this.actions$.pipe((0,f.ofType)(it),(0,g.tap)(()=>this.clearStorages())),this.loadFriendlyBundleName$=this.actions$.pipe((0,f.ofType)(Ke),(0,g.switchMap)(()=>this.rxGlobalCacheService.getBundleDescriptor(this.rxBundleCacheService.bundleId)),(0,g.switchMap)(e=>{let t;return t=e?(0,h.of)(Xe({friendlyBundleName:e.friendlyName})):(0,h.throwError)(`Bundle "${this.rxBundleCacheService.bundleId}" not found`),t.pipe((0,g.catchError)(e=>(this.errorHandler.handleError(e),(0,h.of)(Ge({payload:e})))))})),this.loadViewDefinition$=this.actions$.pipe((0,f.ofType)(Ue),(0,g.switchMap)(({viewDefinitionName:e,layoutTemplate:t})=>(e?this.rxViewDefinitionService.get(e):this.rxViewDefinitionService.getNew(t)).pipe((0,g.map)(e=>_e({viewDefinition:e})),(0,g.catchError)(e=>(this.errorHandler.handleError(e),(0,h.of)($e())))))),this.viewDefinitionLoadSuccess$=this.actions$.pipe((0,f.ofType)(_e),(0,g.withLatestFrom)(this.store$.select(st)),(0,g.mergeMap)(([e,t])=>t?this.getActionsToUpdateExistingViewModels(e.viewDefinition):this.getActionsToInitializeViewModels(e.viewDefinition))),this.selectViewComponent$=this.actions$.pipe((0,f.ofType)(Oe),(0,g.withLatestFrom)(this.store$.select(st),this.store$.select(St)),(0,g.mergeMap)(([e,t,n])=>{const i=t.guid===e.guid?0:1;return i!==n?[He({tabId:i})]:[]})),this.generateViewDefinition$=this.actions$.pipe((0,f.ofType)(et),(0,g.withLatestFrom)(this.store$.select(st),this.store$.select(ct),(e,t,n)=>({viewModel:t,componentModels:n})),(0,g.map)(({viewModel:e,componentModels:t})=>this.rxViewDefinitionGeneratorService.generate(e,t)),(0,g.map)(e=>ze({payload:e}))),this.saveViewDefinition$=this.actions$.pipe((0,f.ofType)(Ze),(0,g.withLatestFrom)(this.store$.select(st),this.store$.select(ct),(e,t,n)=>({viewModel:t,components:n})),(0,g.switchMap)(({viewModel:e,components:t})=>{const n=this.rxViewDefinitionGeneratorService.generate(e,t,!0);return(n.lastUpdateTime?this.rxDefinitionUpdateService.execute(this.rxViewDefinitionService.update.bind(this.rxViewDefinitionService,n.name,n)):this.rxViewDefinitionService.create(n)).pipe((0,g.switchMap)(e=>{const t=decodeURIComponent((0,u.last)(null==e?void 0:e.headers.get("Location").split("/"))||"")||n.name;return[Te({viewDefinitionName:t}),n.lastUpdateTime?Ue({viewDefinitionName:n.name}):null].filter(Boolean)}),(0,g.catchError)(e=>(this.errorHandler.handleError(e),(0,h.of)(Le()))))})),this.clearCanvas$=this.actions$.pipe((0,f.ofType)(tt),(0,g.withLatestFrom)(this.store$.select(st)),(0,g.map)(([e,t])=>Fe({guids:fe(t)}))),this.runPreview$=this.actions$.pipe((0,f.ofType)(Je),(0,g.withLatestFrom)(this.store$.select(st),(e,t)=>t),(0,g.switchMap)(e=>e.targetViewDefinitionName?this.rxViewDefinitionService.get(e.targetViewDefinitionName):(0,h.of)(e)),(0,g.tap)(e=>{const t=encodeURIComponent(e.name);let n=`/helix/index.html#/${this.rxBundleCacheService.bundleId}/preview/${t}`;e.inputParams.length?this.rxModalService.openModal({title:"Enter view parameter values",content:cn,data:{inputParams:(0,u.map)(e.inputParams,"name")},size:"sm"}).catch(h.noop).then(e=>{const t=(0,u.map)(e,(e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`);n+=`?${t.join("&")}`,e&&window.open(n)}):window.open(n)}))}clearStorages(){this.viewDesignerModels.clear(),this.rxViewDesignerInspectorService.clear(),this.rxViewDataDictionaryStoreService.clear()}convertViewDefinitionToModel(e){const t=Boolean(e.lastUpdateTime)&&!(0,u.includes)(e.layout,'"outlets"');this.rxViewDefinitionParserService.getComponents(e).forEach(e=>this.rxOldViewLayoutAdapterService.convertLayout(e));const n=(0,u.omit)(e,["componentDefinitions","layout"]),i=this.rxJsonParserService.tryParseJson(e.layout);return n.layout=p.RxViewLayout.getEmptyViewLayoutForOutlets(i.outlets),n.displayName=decodeURIComponent(this.rxDefinitionNameService.getDisplayName(n.name)),n.layoutName=p.RxViewLayout.getLayoutName(n.layout),n.isAngularJsView=t,n}convertComponentDefinitionToModel(e,t,n){const i=(0,u.omit)(e,["componentDefinitions","layout"]);if(i.parentGuid=t,this.processComponentDefinitionProperties(i,n),this.isComponentHasLayout(e)){const t=this.rxJsonParserService.tryParseJson(e.layout);i.layout=p.RxViewLayout.getEmptyViewLayoutForOutlets(t.outlets)}return i}processComponentDefinitionProperties(e,t){e.propertiesByName=(0,u.transform)(e.propertiesByName,(e,n,i)=>{const o=(0,u.find)(t.properties||t.parameters,{name:i});if(o&&o.designType)if(!0==(o.designType===p.ViewComponentPropertyType.String))e[i]=n;else e[i]=this.rxJsonParserService.tryParseJson(n,n);else e[i]=n;return e},{}),this.rxGuidService.isGuid(e.name)||(e.propertiesByName.name=e.name),"type"in t&&(e.propertiesByName=this.rxViewDesignerStateHelperService.getInitialComponentProperties(e.propertiesByName,t))}traverseByComponents(e,t){const n=this.rxJsonParserService.tryParseJson(e.layout),i=e.componentDefinitions;n&&n.outlets.forEach(n=>{n.columns.forEach((o,r)=>{o.children.forEach((s,a)=>{const c=i.find(e=>e.guid===s);c&&(t(c,e.guid,n.name,a,r,o.span),c.componentDefinitions&&this.traverseByComponents(c,t))})})}),i.filter(e=>{const t=this.rxViewComponentRegistryService.get(e.type);return(null==t?void 0:t.isDataComponent)||(null==t?void 0:t.isPageComponent)}).forEach((n,i)=>{t(n,e.guid,null,i,0,0),n.componentDefinitions&&this.traverseByComponents(n,t)})}isComponentHasLayout(e){return Boolean(e.layout)}getActionsToInitializeViewModels(e){const t=(0,u.cloneDeep)(e),n=this.convertViewDefinitionToModel(t),i=[],o=[];return this.traverseByComponents(t,(e,n,r,s,a,c)=>{const l=this.rxViewComponentRegistryService.get(e.type);if(l&&!l.isPageComponent){const d=e.type===p.RxViewComponentType.Action?this.rxViewActionDefinitionAdapterRegistryService.getDesignAdapter(e.propertiesByName.name):this.rxDefinitionAdapterRegistryService.getDesignAdapter(e.type);let m;null==d||d.adaptDefinition(e,t),e.type===p.RxViewComponentType.Action&&(m=this.rxViewActionRegistryService.get(e.propertiesByName.name),m||(m=this.rxViewActionRegistryService.registerUnknownAction(e.propertiesByName.name)));const u=this.convertComponentDefinitionToModel(e,n,m||l);this.rxViewComponentRegistryService.isDataComponentDescriptor(l)||null===r?o.push({componentModel:u}):i.push({insertIndex:s,columnIndex:a,componentModel:u,outletName:r,columnSpan:c})}else if(this.rxViewDefinitionService.isPageView(t)){let t=this.rxViewComponentRegistryService.get(e.type);t||(t={type:e.type,name:p.RX_VIEW_DEFINITION.unknownPageComponent.name});const i=this.convertComponentDefinitionToModel(e,n,t);o.push({componentModel:i})}else{const t=Object.assign(Object.assign({},this.rxViewComponentRegistryService.get(p.RxViewComponentType.Unknown)),{type:e.type});this.rxViewComponentRegistryService.registerSync(t);const o=this.convertComponentDefinitionToModel(e,n,t);i.push({insertIndex:s,columnIndex:a,componentModel:o,outletName:r,columnSpan:c}),this.rxLogService.warning(`Cannot initialize view component. View Component Descriptor for ${e.type} not found.`)}}),[qe({payload:n}),i.length?De({payload:i}):null,o.length?Se({payload:o}):null,i.length?null:Ye()].filter(Boolean)}getActionsToUpdateExistingViewModels(e){const t=(0,u.cloneDeep)(e),n=this.rxViewDefinitionParserService.getComponents(t,!0).map(({componentDefinition:e})=>({guid:e.guid,partialModel:(0,u.omit)(e,["layout","propertiesByName","componentDefinitions"])}));return[We({payload:(0,u.omit)(t,["layout","componentDefinitions"])}),n.length?Be({payload:n}):null,Qe()].filter(Boolean)}}function Tn(){return null}Nn.\u0275fac=function(e){return new(e||Nn)(i["\u0275\u0275inject"](f.Actions),i["\u0275\u0275inject"](b.Store),i["\u0275\u0275inject"](c.RxBundleCacheService),i["\u0275\u0275inject"](c.RxDefinitionNameService),i["\u0275\u0275inject"](c.RxDefinitionUpdateService),i["\u0275\u0275inject"](c.RxGlobalCacheService),i["\u0275\u0275inject"](v.RxJsonParserService),i["\u0275\u0275inject"](p.RxViewComponentRegistryService),i["\u0275\u0275inject"](p.RxViewActionRegistryService),i["\u0275\u0275inject"](p.RxViewDefinitionService),i["\u0275\u0275inject"](Pt),i["\u0275\u0275inject"](p.RxOldViewLayoutAdapterService),i["\u0275\u0275inject"](p.RxViewDefinitionParserService),i["\u0275\u0275inject"](c.RxLogService),i["\u0275\u0275inject"](d.RxModalService),i["\u0275\u0275inject"](i.ErrorHandler),i["\u0275\u0275inject"](d.RxUtilityModalsService),i["\u0275\u0275inject"](c.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](xe),i["\u0275\u0275inject"](Et),i["\u0275\u0275inject"](Bn),i["\u0275\u0275inject"](p.RxViewActionDefinitionAdapterRegistryService),i["\u0275\u0275inject"](v.RxGuidService),i["\u0275\u0275inject"](ye))},Nn.\u0275prov=i["\u0275\u0275defineInjectable"]({token:Nn,factory:Nn.\u0275fac}),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"initViewDesigner$",void 0),(0,S.__decorate)([(0,f.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Nn.prototype,"destroyViewDesigner$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"loadFriendlyBundleName$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"loadViewDefinition$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"viewDefinitionLoadSuccess$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"selectViewComponent$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"generateViewDefinition$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"saveViewDefinition$",void 0),(0,S.__decorate)([(0,f.Effect)(),(0,S.__metadata)("design:type",Object)],Nn.prototype,"clearCanvas$",void 0),(0,S.__decorate)([(0,f.Effect)({dispatch:!1}),(0,S.__metadata)("design:type",Object)],Nn.prototype,"runPreview$",void 0);const Ln=(0,b.createReducer)(null,(0,b.on)(nt,Tn),(0,b.on)(it,Tn),(0,b.on)(ze,(e,{payload:t})=>t));function _n(e,t){return Ln(e,t)}function $n(){return{}}const zn=(0,b.createReducer)({},(0,b.on)(nt,$n),(0,b.on)(it,$n),(0,b.on)(Ee,(e,{guid:t,label:n})=>Object.assign(Object.assign({},e),{[t]:n})),(0,b.on)(Ce,(e,{guids:t})=>{let n=e;return t.some(t=>(0,u.has)(e,t))&&(n=(0,u.omit)(e,t)),n}));function Un(e,t){return zn(e,t)}function Xn(){return{viewDesignModel:null,viewComponentDesignModels:{}}}const Gn=(0,b.createReducer)({viewDesignModel:null,viewComponentDesignModels:{}},(0,b.on)(nt,Xn),(0,b.on)(it,Xn),(0,b.on)(De,(e,{payload:t})=>{const n=Object.assign({},e);return t.forEach(e=>function(e,t){if(e.viewComponentDesignModels=Object.assign(Object.assign({},e.viewComponentDesignModels),{[t.componentModel.guid]:t.componentModel}),t.componentModel.parentGuid===e.viewDesignModel.guid)e.viewDesignModel=ge(e.viewDesignModel,t.componentModel.guid,t.outletName,t.insertIndex,t.columnIndex,t.columnSpan);else{const n=e.viewComponentDesignModels[t.componentModel.parentGuid];if(n){const i=ge(n,t.componentModel.guid,t.outletName,t.insertIndex,t.columnIndex,t.columnSpan);e.viewComponentDesignModels[i.guid]=i}}}(n,e)),n}),(0,b.on)(Se,(e,{payload:t})=>{const n=Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign({},e.viewComponentDesignModels)});return t.forEach(e=>{const t=n.viewComponentDesignModels[e.componentModel.parentGuid];if(t){n.viewComponentDesignModels[e.componentModel.guid]=e.componentModel;const i=Object.assign(Object.assign({},t),{childDataComponentGuids:[...t.childDataComponentGuids||[],e.componentModel.guid]});n.viewComponentDesignModels[i.guid]=i}}),n}),(0,b.on)(Re,(e,t)=>{const n=Object.assign({},e);if(he(t.guid,e.viewDesignModel))n.viewDesignModel=ve(t.guid,n.viewDesignModel);else{let e=me(t.guid,n.viewComponentDesignModels);e=ve(t.guid,e),n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[e.guid]:e})}if(t.parentGuid===n.viewDesignModel.guid)n.viewDesignModel=ge(n.viewDesignModel,t.guid,t.outletName,t.insertIndex,t.columnIndex);else{let e=n.viewComponentDesignModels[t.parentGuid];e=ge(e,t.guid,t.outletName,t.insertIndex,t.columnIndex),n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[e.guid]:e})}return n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[t.guid]:Object.assign(Object.assign({},n.viewComponentDesignModels[t.guid]),{parentGuid:t.parentGuid})}),n}),(0,b.on)(Ce,(e,{guids:t})=>{const n=Object.assign(Object.assign({},e),{viewComponentDesignModels:(0,u.omit)(e.viewComponentDesignModels,t)});return t.forEach(t=>{if(he(t,e.viewDesignModel))n.viewDesignModel=ve(t,n.viewDesignModel);else{let i=me(t,e.viewComponentDesignModels);i&&n.viewComponentDesignModels[i.guid]&&(i=ve(t,n.viewComponentDesignModels[i.guid]),n.viewComponentDesignModels=Object.assign(Object.assign({},n.viewComponentDesignModels),{[i.guid]:i}))}}),n}),(0,b.on)(je,(e,{guid:t,cols:n})=>{const i=e.viewComponentDesignModels[t],o=i.layout.outlets.find(e=>e.name===p.RX_VIEW_DEFINITION.defaultOutletName),r=(0,u.cloneDeep)(o.columns),s=r.splice(n.length);n.forEach((e,t)=>{r[t]?r[t].span=e:r[t]={span:e,children:[]}});const a=s.reduce((e,t)=>(e.push(...t.children),e),[]);if(a.length){const e=(0,u.last)(r);e.children=e.children.concat(a)}return Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign(Object.assign({},e.viewComponentDesignModels),{[t]:Object.assign(Object.assign({},i),{layout:Object.assign(Object.assign({},i.layout),{outlets:i.layout.outlets.map(e=>Object.assign(Object.assign({},e),{columns:r}))})})})})}),(0,b.on)(qe,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewDesignModel:t})),(0,b.on)(We,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewDesignModel:Object.assign(Object.assign({},e.viewDesignModel),t)})),(0,b.on)(Te,e=>e.viewDesignModel.isAngularJsView?Object.assign(Object.assign({},e),{viewDesignModel:Object.assign(Object.assign({},e.viewDesignModel),{isAngularJsView:!1})}):e),(0,b.on)(Ie,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign(Object.assign({},e.viewComponentDesignModels),t.reduce((t,{guid:n,data:i})=>(t[n]=Object.assign(Object.assign({},e.viewComponentDesignModels[n]),{propertiesByName:i}),t),{}))})),(0,b.on)(Be,(e,{payload:t})=>Object.assign(Object.assign({},e),{viewComponentDesignModels:Object.assign(Object.assign({},e.viewComponentDesignModels),t.filter(t=>e.viewComponentDesignModels[t.guid]).reduce((t,{guid:n,partialModel:i})=>(t[n]=Object.assign(Object.assign(Object.assign({},e.viewComponentDesignModels[n]),i),{propertiesByName:Object.assign(Object.assign({},e.viewComponentDesignModels[n].propertiesByName),i.propertiesByName)}),t),{}))})));function Yn(e,t){return Gn(e,t)}function Qn(){return{selectedComponentGuid:null,selectedInspectorTabId:0,currentBundleId:null,isViewDefinitionLoading:!1,areViewModelsReady:!1,friendlyBundleName:null}}const Wn=(0,b.createReducer)({selectedComponentGuid:null,selectedInspectorTabId:0,currentBundleId:null,isViewDefinitionLoading:!1,areViewModelsReady:!1,friendlyBundleName:null},(0,b.on)(nt,(e,{payload:t})=>Object.assign(Object.assign({},{selectedComponentGuid:null,selectedInspectorTabId:0,currentBundleId:null,isViewDefinitionLoading:!1,areViewModelsReady:!1,friendlyBundleName:null}),{currentBundleId:t.bundleId})),(0,b.on)(it,Qn),(0,b.on)(Oe,(e,{guid:t})=>Object.assign(Object.assign({},e),{selectedComponentGuid:t})),(0,b.on)(He,(e,{tabId:t})=>Object.assign(Object.assign({},e),{selectedInspectorTabId:t})),(0,b.on)(Ce,(e,{guids:t})=>t.includes(e.selectedComponentGuid)?Object.assign(Object.assign({},e),{selectedComponentGuid:null}):Object.assign({},e)),(0,b.on)(Xe,(e,{friendlyBundleName:t})=>Object.assign(Object.assign({},e),{friendlyBundleName:t})),(0,b.on)(Ge,e=>Object.assign(Object.assign({},e),{friendlyBundleName:null})),(0,b.on)(Ze,Ue,e=>Object.assign(Object.assign({},e),{isViewDefinitionLoading:!0,areViewModelsReady:!1})),(0,b.on)(Te,_e,$e,e=>Object.assign(Object.assign({},e),{isViewDefinitionLoading:!1})),(0,b.on)(Le,e=>Object.assign(Object.assign({},e),{isViewDefinitionLoading:!1,areViewModelsReady:!0})),(0,b.on)(Qe,Ye,e=>Object.assign(Object.assign({},e),{areViewModelsReady:!0})),(0,b.on)(De,e=>Object.assign(Object.assign({},e),{areViewModelsReady:!1})));function qn(e,t){return Wn(e,t)}function Hn(){return{issues:{},expressionIssues:{}}}const Zn=(0,b.createReducer)({issues:{},expressionIssues:{}},(0,b.on)(nt,it,Hn),(0,b.on)(Ve,(e,{guid:t,issues:n})=>{if(n.length)return Object.assign(Object.assign({},e),{issues:Object.assign(Object.assign({},e.issues),{[t]:n})});{let n=e;return(0,u.has)(n.issues,t)&&(n=Object.assign(Object.assign({},e),{issues:(0,u.omit)(e.issues,[t])})),n}}),(0,b.on)(Me,(e,{issues:t})=>(0,u.isEmpty)(t)?e:Object.assign(Object.assign({},e),{expressionIssues:Object.assign(Object.assign({},(0,u.omit)(e.expressionIssues,Object.keys(t))),(0,u.omitBy)(t,u.isEmpty))})),(0,b.on)(Ce,(e,{guids:t})=>{let n=e;return t.some(t=>(0,u.has)(e.issues,t))&&(n=Object.assign(Object.assign({},e),{issues:(0,u.omit)(e.issues,t)})),t.some(t=>(0,u.has)(e.expressionIssues,t))&&(n=Object.assign(Object.assign({},e),{expressionIssues:(0,u.omit)(e.expressionIssues,t)})),n}));function Jn(e,t){return Zn(e,t)}class Kn{}Kn.\u0275fac=function(e){return new(e||Kn)},Kn.\u0275mod=i["\u0275\u0275defineNgModule"]({type:Kn,declarations:[on],imports:[y.CommonModule,C.AdaptCodeViewerModule,C.AdaptTabsModule,d.RxBladeModule,l.RxFormBuilderModule,d.RxValidationIssuesModule,d.RxJsonViewerModule,an,rn,sn,l.FormControlsModule,l.RxPermissionEditorModule,l.RxRevertCustomizationModule,p.ViewActionDesignModule,ln,l.RxDesignerHeaderModule,C.AdaptAlertModule,l.RxInspectorModule,Cn,_t,m.TranslateModule,b.StoreFeatureModule,f.EffectsFeatureModule],exports:[on]}),Kn.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[y.CommonModule,C.AdaptCodeViewerModule,C.AdaptTabsModule.forRoot(),d.RxBladeModule,l.RxFormBuilderModule,d.RxValidationIssuesModule,d.RxJsonViewerModule,an,rn,sn,l.FormControlsModule,l.RxPermissionEditorModule,l.RxRevertCustomizationModule,p.ViewActionDesignModule,ln,l.RxDesignerHeaderModule,C.AdaptAlertModule,l.RxInspectorModule,Cn,_t,m.TranslateModule,b.StoreModule.forFeature("viewDesigner",{model:Yn,viewDefinition:_n,validation:Jn,ui:qn,breadcrumbs:Un}),f.EffectsModule.forFeature([Nn,Fn])]]})},"./node_modules/@helix/platform/fesm2015/helix-platform-view-runtime.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{BaseViewComponent:()=>se,RX_RUNTIME_VIEW:()=>de,RuntimeLayoutItem:()=>U,RuntimeLayoutOutlet:()=>z,RuntimeLayoutOutletColumn:()=>$,RuntimeViewCanvasComponent:()=>oe,RuntimeViewCanvasItemComponent:()=>Y,RuntimeViewCanvasItemContainerComponent:()=>Q,RuntimeViewCanvasItemService:()=>G,RuntimeViewCanvasModule:()=>ce,RuntimeViewCanvasOutletComponent:()=>ae,RuntimeViewComponent:()=>re,RuntimeViewModalComponent:()=>le,RuntimeViewModel:()=>ne,RuntimeViewModelApi:()=>H,RuntimeViewModule:()=>pe,RuntimeViewRootComponent:()=>W,RxRuntimeViewRegistryService:()=>ie,RxRuntimeViewUtilsService:()=>ee,VIEW_COMPONENT_DEFAULT_EVENT_NAME:()=>K,ViewComponentEventManager:()=>J});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("rxjs"),r=n("./node_modules/rxjs/_esm2015/operators/index.js"),s=n("./node_modules/@helix/platform/fesm2015/helix-platform-record-api.js"),a=n("./node_modules/@helix/platform/fesm2015/helix-platform-view-api.js"),c=n("./node_modules/@helix/platform/fesm2015/helix-platform-utils.js"),l=n("lodash"),d=n("./node_modules/@angular/common/fesm2015/common.js"),p=n("./node_modules/@helix/platform/fesm2015/helix-platform-shared-api.js"),m=n("./node_modules/@helix/platform/fesm2015/helix-platform-ui-kit.js"),u=n("./node_modules/@helix/platform/fesm2015/helix-platform-association-api.js"),h=n("./node_modules/@helix/platform/fesm2015/helix-platform-process-api.js"),g=n("./node_modules/@angular/forms/fesm2015/forms.js"),v=n("./node_modules/@ngx-translate/core/fesm2015/ngx-translate-core.js"),f=n("./node_modules/@bmc-ux/adapt-angular/fesm2015/bmc-ux-adapt-angular.js");const b=["container"];function w(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}const y=function(e){return{$implicit:e}};function x(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",4),i["\u0275\u0275template"](1,w,1,0,"ng-container",5),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275nextContext"](2);const n=i["\u0275\u0275reference"](3);i["\u0275\u0275property"]("ngClass",e.cssClass?e.cssClass:e.span?"col-"+e.span:"col"),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",n)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](3,y,e.children))}}function C(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",2),i["\u0275\u0275template"](2,x,2,5,"div",3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.columns)}}function D(e,t){1&e&&i["\u0275\u0275elementContainer"](0)}function S(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,D,1,0,"ng-container",5),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](3);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngTemplateOutlet",t)("ngTemplateOutletContext",i["\u0275\u0275pureFunction1"](2,y,e.columns[0].children))}}function V(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item",7,8),2&e){const e=t.$implicit;i["\u0275\u0275property"]("layout",e)}}function M(e,t){if(1&e&&i["\u0275\u0275template"](0,V,2,1,"rx-runtime-view-canvas-item",6),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("ngForOf",e)("ngForTrackBy",n.trackByFn)}}const I=function(e,t,n){return[e,t,n]},P=function(e,t){return{"content-outlet":e,"outlet-padding":t}};function E(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item-container",1),2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("hidden",n.isHidden(e))("columns",e.columns)("outlet",e)("ngClass",i["\u0275\u0275pureFunction2"](8,P,e.name===n.defaultOutletName,i["\u0275\u0275pureFunction3"](4,I,n.layoutRole.Header,n.layoutRole.Footer,n.defaultOutletName).includes(e.name)))}}function O(e,t){if(1&e&&i["\u0275\u0275element"](0,"rx-runtime-view-canvas-item",1),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("layout",e.layout)}}function j(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"rx-runtime-view-canvas",1),i["\u0275\u0275listener"]("componentPropertyChanged",function(t){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"]().runtimeViewModel.onViewComponentPropertyChanged(t)}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("layout",e.runtimeViewLayoutService.layout)}}function R(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](3).closeModal()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](3);i["\u0275\u0275attribute"]("aria-label",e.closeLabel)}}function A(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",8),i["\u0275\u0275elementStart"](1,"span",9),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,R,1,1,"button",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isCancellable)}}function k(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275template"](1,A,4,2,"div",7),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"](),t=i["\u0275\u0275reference"](2);i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isBlade)("ngIfElse",t)}}function B(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"button",11),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);return i["\u0275\u0275nextContext"](2).closeModal()}),i["\u0275\u0275elementEnd"]()}if(2&e){const e=i["\u0275\u0275nextContext"](2);i["\u0275\u0275attribute"]("aria-label",e.closeLabel)}}function F(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"div",12),i["\u0275\u0275elementStart"](1,"h5",13),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](3,B,1,1,"button",10),i["\u0275\u0275elementEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.title),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.isCancellable)}}const N=function(e){return{content:e,type:"inline",variant:"info"}};function T(e,t){if(1&e&&i["\u0275\u0275element"](0,"adapt-alert",14),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275property"]("config",i["\u0275\u0275pureFunction1"](1,N,e.notification))}}const L=function(e,t){return{"modal-body p-0":e,"dp-content":t}},_=function(e){return{busy:e,loaderType:"lineLoader",delay:250,backdrop:!1,message:null}};class ${constructor(){this.children=[]}}class z{constructor(){this.children=[],this.columns=[new $],this.height=null}}class U{constructor(e){this.outlets=[],this.parent=null,this.runtimeViewModelApi=null,Object.assign(this,{guid:e.guid,config:e.config,parent:e.parent,runtimeViewModelApi:e.runtimeViewModelApi,factory:e.factory}),e.outlets&&this.initializeOutlets(e.outlets)}initializeOutlets(e){e.forEach(e=>{const t=new z;t.name=e.name,t.height=e.hasOwnProperty("height")?e.height:null,this.outlets.push(t)})}addLayoutItem(e,t){const n=this.outlets.find(e=>e.name===t.parentOutlet.name),i=t.parentOutlet.columns[t.columnIndex].children.indexOf(e.guid);t.parentOutlet.columns.forEach((e,t)=>{n.columns[t]||(n.columns[t]=new $),e.cssClass&&(n.columns[t].cssClass=e.cssClass),e.span&&(n.columns[t].span=e.span)}),e&&(n.columns[t.columnIndex].children[i]=e)}}class X{constructor(){this.componentPropertyChangedSubject=new o.Subject,this.componentPropertyChanged$=this.componentPropertyChangedSubject.asObservable()}onViewComponentPropertyChanged(e){this.componentPropertyChangedSubject.next(e)}}X.\u0275fac=function(e){return new(e||X)},X.\u0275prov=i["\u0275\u0275defineInjectable"]({token:X,factory:X.\u0275fac});class G{constructor(e,t,n){this.injector=e,this.componentFactoryResolver=t,this.runtimeViewCanvasService=n,this.hasMargin=!0,this.hasAutoFill=!1,this.hasAutoScroll=!1,this.isHidden=!1,this.destroyed$=new o.ReplaySubject(1)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}registerOutlet(e,t,n){const i=this.layout.outlets.find(t=>t.name===e);i&&this.renderContainerComponent(t,i,n)}getChildren(e){return this.layout.outlets.find(t=>t.name===e).columns.map(e=>Object.assign(Object.assign({},e),{children:e.children.filter(Boolean).map(e=>(0,l.pick)(e,"config","guid","runtimeViewModelApi","factory","outlets"))}))}renderViewComponent(){var e,t,n,i;this.componentRef=this.container.createComponent(this.layout.factory,null,this.injector),this.componentInstance=this.componentRef.instance,this.componentInstance.guid=this.layout.guid,this.componentInstance.config=this.layout.config,this.componentInstance.runtimeViewModelApi=this.layout.runtimeViewModelApi,null===(e=this.componentInstance.propertyChanged)||void 0===e||e.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.runtimeViewCanvasService.onViewComponentPropertyChanged(e)}),null===(t=this.componentInstance.hidden)||void 0===t||t.pipe((0,r.skipWhile)(e=>!e),(0,r.distinctUntilChanged)(),(0,r.delay)(0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hasMargin=!e,this.isHidden=e}),null===(n=this.componentInstance.autoScroll)||void 0===n||n.pipe((0,r.skipWhile)(e=>!e),(0,r.distinctUntilChanged)(),(0,r.delay)(0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hasAutoScroll=e}),null===(i=this.componentInstance.autoFill)||void 0===i||i.pipe((0,r.skipWhile)(e=>!e),(0,r.distinctUntilChanged)(),(0,r.delay)(0),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.hasAutoFill=e})}renderContainerComponent(e,t,n){const i=n,o=e.createComponent(i);o.instance.columns=t.columns,o.instance.outlet=t}}G.\u0275fac=function(e){return new(e||G)(i["\u0275\u0275inject"](i.Injector),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](X))},G.\u0275prov=i["\u0275\u0275defineInjectable"]({token:G,factory:G.\u0275fac});class Y{constructor(e){this.runtimeViewCanvasItemService=e}get hasMargin(){return this.runtimeViewCanvasItemService.hasMargin}get hasAutoFill(){return this.runtimeViewCanvasItemService.hasAutoFill&&!this.runtimeViewCanvasItemService.isHidden}get hasAutoScroll(){return this.runtimeViewCanvasItemService.hasAutoScroll}ngOnChanges(e){this.runtimeViewCanvasItemService.container||(this.runtimeViewCanvasItemService.container=this.container),e.layout.currentValue&&(this.runtimeViewCanvasItemService.layout=e.layout.currentValue,e.layout.previousValue&&this.container.clear(),this.runtimeViewCanvasItemService.renderViewComponent())}registerOutlet(e,t){this.runtimeViewCanvasItemService.registerOutlet(e,t)}getChildren(e){return this.runtimeViewCanvasItemService.getChildren(e)}}Y.\u0275fac=function(e){return new(e||Y)(i["\u0275\u0275directiveInject"](G))},Y.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Y,selectors:[["rx-runtime-view-canvas-item"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](b,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},hostVars:6,hostBindings:function(e,t){2&e&&i["\u0275\u0275classProp"]("rx-runtime-view-canvas-item-margin",t.hasMargin)("rx-runtime-view-canvas-item-auto-fill",t.hasAutoFill)("rx-runtime-view-canvas-item-auto-scroll",t.hasAutoScroll)},inputs:{layout:"layout"},features:[i["\u0275\u0275ProvidersFeature"]([G]),i["\u0275\u0275NgOnChangesFeature"]],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275elementContainer"](0,null,0)},encapsulation:2});class Q{constructor(){this.columns=[]}get hostClass(){return this.outlet.height?`${this.outlet.height}px`:null}trackByFn(e,t){return(null==t?void 0:t.guid)||e}}Q.\u0275fac=function(e){return new(e||Q)},Q.\u0275cmp=i["\u0275\u0275defineComponent"]({type:Q,selectors:[["rx-runtime-view-canvas-item-container"]],hostVars:2,hostBindings:function(e,t){2&e&&i["\u0275\u0275styleProp"]("min-height",t.hostClass)},inputs:{columns:"columns",outlet:"outlet"},decls:4,vars:2,consts:[[4,"ngIf"],["itemTpl",""],[1,"row","rx-runtime-view-canvas-item-container-row"],["class","rx-runtime-view-canvas-item-container-column",3,"ngClass",4,"ngFor","ngForOf"],[1,"rx-runtime-view-canvas-item-container-column",3,"ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"layout",4,"ngFor","ngForOf","ngForTrackBy"],[3,"layout"],["item",""]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,C,3,1,"ng-container",0),i["\u0275\u0275template"](1,S,2,4,"ng-container",0),i["\u0275\u0275template"](2,M,1,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"])),2&e&&(i["\u0275\u0275property"]("ngIf",t.columns.length>1),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",1===t.columns.length))},directives:[d.NgIf,d.NgForOf,d.NgClass,d.NgTemplateOutlet,Y],styles:['[_ngcontent-%COMP%]:root{--border-radius: 4px;--nav-background: var(--gray-900);--nav-links-color: var(--white);--font-family: "Open Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;--color-primary-disabled-hover: #ff8d2a;--color-primary-disabled: #ff7d18;--color-primary: #f86e00;--color-primary-hover: #e45f00;--color-primary-active: #d05100;--color-primary-active-hover: #bc4300;--color-secondary-disabled-hover: #ffffff;--color-secondary-disabled: #ffffff;--color-secondary: #f9f9fa;--color-secondary-hover: #e5e5e6;--color-secondary-active: #d2d2d3;--color-secondary-active-hover: #c0c0c2;--color-active-disabled-hover: #45c8bd;--color-active-disabled: #2db7ad;--color-active: #00a79d;--color-active-hover: #00978e;--color-active-active: #00887f;--color-active-active-hover: #007970;--color-info-disabled-hover: #66d9f1;--color-info-disabled: #52c7df;--color-info: #3cb6ce;--color-info-hover: #21a6bd;--color-info-active: #0096ad;--color-info-active-hover: #00879e;--color-success-disabled-hover: #aae860;--color-success-disabled: #99d550;--color-success: #89c341;--color-success-hover: #7ab232;--color-success-active: #6ba122;--color-success-active-hover: #5d9110;--color-warning-disabled-hover: #ffda46;--color-warning-disabled: #ffc734;--color-warning: #f1b521;--color-warning-hover: #dea406;--color-warning-active: #cc9400;--color-warning-active-hover: #ba8400;--color-danger-disabled-hover: #ff5323;--color-danger-disabled: #ff4313;--color-danger: #f83200;--color-danger-hover: #e31f00;--color-danger-active: #cd0500;--color-danger-active-hover: #b80000;--dense-spacing-custom: false;--table-scroll-width: 0}rx-runtime-view-canvas-item[_ngcontent-%COMP%]{display:block}  .rx-runtime-view-canvas-item-margin:not(:last-child){margin-bottom:1rem}.rx-runtime-view-canvas-item-auto-fill[_ngcontent-%COMP%], .rx-runtime-view-canvas-item-container-row[_ngcontent-%COMP%], .rx-runtime-view-canvas-item-container-column[_ngcontent-%COMP%]{height:100%}.rx-runtime-view-canvas-item-container-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.rx-runtime-view-canvas-item-auto-scroll[_ngcontent-%COMP%]{overflow-y:auto}.rx-mb-sm[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 576px){.rx-mb-sm[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-sm[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-md[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 768px){.rx-mb-md[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-md[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-lg[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 992px){.rx-mb-lg[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-lg[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-xl[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 1200px){.rx-mb-xl[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-xl[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}.rx-mb-xxl[_ngcontent-%COMP%]{margin-bottom:1rem}@media (min-width: 1600px){.rx-mb-xxl[_ngcontent-%COMP%]{margin-bottom:0}}.rx-mb-xxl[_ngcontent-%COMP%]:nth-last-child(1){margin-bottom:0}']});class W{constructor(e){this.runtimeCanvasItemComponent=e,this.defaultOutletName=a.RX_VIEW_DEFINITION.defaultOutletName,this.layoutRole=a.ViewLayoutRole}isHidden(e){return e.name===a.ViewLayoutRole.Header&&0===e.columns[0].children.length}}W.\u0275fac=function(e){return new(e||W)(i["\u0275\u0275directiveInject"](Y))},W.\u0275cmp=i["\u0275\u0275defineComponent"]({type:W,selectors:[["rx-runtime-view-root"]],decls:1,vars:1,consts:[[3,"hidden","columns","outlet","ngClass",4,"ngFor","ngForOf"],[3,"hidden","columns","outlet","ngClass"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,E,1,11,"rx-runtime-view-canvas-item-container",0),2&e&&i["\u0275\u0275property"]("ngForOf",t.runtimeCanvasItemComponent.layout.outlets)},directives:[d.NgForOf,Q,d.NgClass],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;height:100%;overflow:hidden}rx-runtime-view-canvas-item-container[_ngcontent-%COMP%]{padding:0 1rem}.outlet-padding[_ngcontent-%COMP%]{padding:1rem}.content-outlet[_ngcontent-%COMP%]{flex:1;overflow-y:auto;overflow-x:hidden}"]});class q{constructor(e,t,n,i,o,r,s){this.rxViewComponentRegistryService=e,this.viewDefinitionParserService=t,this.factoryResolver=n,this.tree=i,this.rxJsonParserService=o,this.rxLogService=r,this.rxOldViewLayoutAdapterService=s}clear(){this.layout=null}init(e,t){this.runtimeViewModel=e,this.runtimeViewModelApi=t,this.viewDefinitionParserService.getComponents(e.viewDefinition).forEach(this.processDefinition.bind(this))}processDefinition(e){if(this.rxOldViewLayoutAdapterService.convertLayout(e),e.parentComponentDefinition){const t=this.rxViewComponentRegistryService.get(e.componentDefinition.type);if(e.componentDefinition.type!==a.RxViewComponentType.Action&&t&&!this.runtimeViewModel.isDataViewComponentDefinition(t)){const n=JSON.parse(e.parentComponentDefinition.layout);let i=0;const o=n.outlets.find(t=>t.columns.find((t,n)=>{const o=t.children.includes(e.componentDefinition.guid);return o&&(i=n),o}));if(o){const n=this.runtimeViewModel.viewComponentStates.get(e.componentDefinition.guid).config$.asObservable(),r=this.getLayoutItem(e.parentComponentDefinition.guid);r.addLayoutItem(new U({guid:e.componentDefinition.guid,config:n,parent:r,runtimeViewModelApi:this.runtimeViewModelApi,outlets:t.outlets,factory:t.componentFactory}),{parentOutlet:o,columnIndex:i})}else{const t=e.componentDefinition;this.rxLogService.warning(`Cannot render view component. ${t.type} (${t.guid}) is not used in layout.`)}}}else this.initializeView(e.componentDefinition)}initializeView(e){const t=this.rxJsonParserService.tryParseJson(e.layout);this.layout=new U({guid:e.guid,parent:null,runtimeViewModelApi:this.runtimeViewModelApi,outlets:t.outlets,factory:this.factoryResolver.resolveComponentFactory(W)})}getLayoutItem(e){return this.tree.flattenBy(this.layout,e=>e.outlets.reduce((e,t)=>(t.columns.forEach(t=>{t.children.forEach(t=>{e.push(t)})}),e),[])).find(t=>t.guid===e)}}q.\u0275fac=function(e){return new(e||q)(i["\u0275\u0275inject"](a.RxViewComponentRegistryService),i["\u0275\u0275inject"](a.RxViewDefinitionParserService),i["\u0275\u0275inject"](i.ComponentFactoryResolver),i["\u0275\u0275inject"](c.RxTreeService),i["\u0275\u0275inject"](c.RxJsonParserService),i["\u0275\u0275inject"](p.RxLogService),i["\u0275\u0275inject"](a.RxOldViewLayoutAdapterService))},q.\u0275prov=i["\u0275\u0275defineInjectable"]({token:q,factory:q.\u0275fac});class H{clear(){this.runtimeViewModel=null}init(e){this.runtimeViewModel||(this.runtimeViewModel=e)}triggerViewActions(e,t){return this.runtimeViewModel.triggerViewActions(e,t)}cancel(e){return this.runtimeViewModel.cancel(e)}close(){return this.runtimeViewModel.close()}getViewInputParameters(){return this.runtimeViewModel.getViewInputParameters()}applyViewPreset(e,t,n){return this.runtimeViewModel.applyViewPreset(e,t,n)}deleteViewPreset(e){return this.runtimeViewModel.deleteViewPreset(e)}discardViewPresetChanges(e,t){return this.runtimeViewModel.discardViewPresetChanges(e,t)}saveViewPreset(e){return this.runtimeViewModel.saveViewPreset(e)}shareViewPreset(e){return this.runtimeViewModel.shareViewPreset(e)}}H.\u0275fac=function(e){return new(e||H)},H.\u0275prov=i["\u0275\u0275defineInjectable"]({token:H,factory:H.\u0275fac});class Z{constructor(e,t,n,i){this.propertyName=e,this.expression=t,this.rxExpressionEvaluatorService=n,this.customEvaluatorService=i}evaluate(e){return this.rxExpressionEvaluatorService.tryEvaluate(this.expression,e,this.customEvaluatorService)}hasDependency(e,t){return(0,l.includes)(this.expression,`${e}.${t}`)}hasTokens(){return(0,l.includes)(this.expression,"${view.")||this.hasKeywordTokens()}hasKeywordTokens(){return(0,l.includes)(this.expression,"${keywords.")}hasViewTokens(){return(0,l.includes)(this.expression,"${view.inputParams")||(0,l.includes)(this.expression,"${view.api")||this.hasViewIsValidToken()}hasViewIsValidToken(){return(0,l.includes)(this.expression,"${view.isValid}")}hasComponentTokens(){return(0,l.includes)(this.expression,"${view.components")}}class J{constructor(e,t,n,i){this.rxGlobalEventsService=e,this.rxLogService=t,this.rxViewActionService=n,this.errorHandler=i}executeActions(e,t){return new Promise((n,i)=>{let s;(0,o.from)(e).pipe((0,r.mergeScan)((e,n)=>(this.rxLogService.debug("ACTION STARTED: "+n.name),this.rxViewActionService.execute(n.name,n.parameters).pipe((0,r.map)(e=>t(n,e)),(0,r.take)(1))),null,1)).subscribe({next:e=>s=e,error:e=>{i(e),this.rxGlobalEventsService.viewActionsCompleted$.next(),(0,l.castArray)(e).forEach(e=>{(0,l.isString)(e)?this.rxLogService.warning(e):e&&this.errorHandler.handleError(e)})},complete:()=>{this.rxGlobalEventsService.viewActionsCompleted$.next(),n(s)}})})}}J.\u0275fac=function(e){return new(e||J)(i["\u0275\u0275inject"](p.RxGlobalEventsService),i["\u0275\u0275inject"](p.RxLogService),i["\u0275\u0275inject"](a.RxViewActionService),i["\u0275\u0275inject"](i.ErrorHandler))},J.\u0275prov=i["\u0275\u0275defineInjectable"]({token:J,factory:J.\u0275fac,providedIn:"root"});const K="default";class ee{constructor(e,t,n,i,o){this.rxViewDefinitionService=e,this.rxViewDefinitionParserService=t,this.rxDefinitionAdapterRegistryService=n,this.rxViewActionDefinitionAdapterRegistryService=i,this.rxViewDefinitionCacheService=o}isViewCancellable(e){return(0,l.isString)(e)?this.rxViewDefinitionCacheService.getViewDefinition(e).pipe((0,r.map)(e=>this.hasPageComponent(e)||this.hasViewCancellingAction(e))):(0,o.of)(this.hasPageComponent(e)||this.hasViewCancellingAction(e))}runAdaptersForComponents(e,t){const n=this.rxViewDefinitionParserService.getComponents(t||e),i=new RegExp(`\\\${view.components.${c.RX_GUID.baseGuidPattern}.`);e.viewComponentExpressions=(0,l.chain)(n).map(e=>(0,l.values)(e.componentDefinition.propertiesByName)).flatten().map(e=>(0,l.isObject)(e)?(0,l.values)(e):e).flatten().filter(l.isString).filter(e=>i.test(e)).value();const s=n.reduce((t,{componentDefinition:n})=>{const i=n.type===a.RxViewComponentType.Action?this.rxViewActionDefinitionAdapterRegistryService.getRuntimeAdapter(n.propertiesByName.name):this.rxDefinitionAdapterRegistryService.getRuntimeAdapter(n.type);if(i){const s=i.adaptDefinition(n,e);t.push(s?s.pipe((0,r.take)(1)):o.EMPTY)}return t},[]);return(0,l.isEmpty)(s)?[o.EMPTY]:s}hasViewCancellingAction(e){return Boolean(this.rxViewDefinitionParserService.findViewComponent(e,e=>e.type===a.RxViewComponentType.Action&&"rxCloseViewAction"===e.propertiesByName.name&&"true"===e.propertiesByName.actAsCancel))}hasPageComponent(e){var t;return(null===(t=(0,l.head)(e.componentDefinitions))||void 0===t?void 0:t.type)===a.RxViewComponentType.Page}}ee.\u0275fac=function(e){return new(e||ee)(i["\u0275\u0275inject"](a.RxViewDefinitionService),i["\u0275\u0275inject"](a.RxViewDefinitionParserService),i["\u0275\u0275inject"](p.RxDefinitionAdapterRegistryService),i["\u0275\u0275inject"](a.RxViewActionDefinitionAdapterRegistryService),i["\u0275\u0275inject"](a.RxViewDefinitionCacheService))},ee.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ee,factory:ee.\u0275fac,providedIn:"root"});class te{constructor(e,t,n){this.rxObjectUtilsService=e,this.rxJsonParserService=t,this.rxDeviceDetectionService=n}preProcessViewDefinition(e){var t;null===(t=e.componentDefinitions)||void 0===t||t.forEach(e=>{this.expandProperties(e)})}postProcessViewDefinition(e){var t;null===(t=e.componentDefinitions)||void 0===t||t.forEach(t=>{this.filterComponentsForDevice(t,e)})}expandProperties(e){e.propertiesByName=this.rxObjectUtilsService.expandProperties(e.propertiesByName),e.componentDefinitions&&e.componentDefinitions.forEach(e=>{this.expandProperties(e)})}filterComponentsForDevice(e,t){var n;if((this.rxJsonParserService.tryParseJson(null===(n=e.propertiesByName)||void 0===n?void 0:n[a.RX_AVAILABLE_ON_DEVICES_PROP_NAME],a.RX_AVAILABLE_ON_DEVICES_ALL_VALUE)||a.RX_AVAILABLE_ON_DEVICES_ALL_VALUE).includes(this.rxDeviceDetectionService.currentDevice))"componentDefinitions"in e&&e.componentDefinitions.forEach(t=>{this.filterComponentsForDevice(t,e)});else if(t.componentDefinitions=t.componentDefinitions.filter(t=>t!==e),t.layout){const n=a.RxViewLayout.removeChildFromLayout(this.rxJsonParserService.tryParseJson(t.layout),e.guid);t.layout=JSON.stringify(n)}}}te.\u0275fac=function(e){return new(e||te)(i["\u0275\u0275inject"](c.RxObjectUtilsService),i["\u0275\u0275inject"](c.RxJsonParserService),i["\u0275\u0275inject"](a.RxDeviceDetectionService))},te.\u0275prov=i["\u0275\u0275defineInjectable"]({token:te,factory:te.\u0275fac,providedIn:"root"});class ne{constructor(e,t,n,i,r,s,a,c,l,d,p,m,u,h,g,v,f){this.rxBundleService=e,this.rxGlobalCacheService=t,this.rxViewComponentRegistryService=n,this.rxViewDefinitionAdapterService=i,this.rxViewDefinitionParserService=r,this.rxViewDefinitionService=s,this.rxRuntimeViewUtilsService=a,this.rxExpressionEvaluatorService=c,this.rxNotificationService=l,this.rxViewActionRegistryService=d,this.rxLogService=p,this.viewComponentEventManager=m,this.rxUtilityModalsService=u,this.rxViewDefinitionCacheService=h,this.rxObjectUtilsService=g,this.rxJsonParserService=v,this.rxCurrentUserService=f,this.api={save:this.save.bind(this),close:this.close.bind(this),cancel:this.cancel.bind(this),refresh:this.refresh.bind(this),canClose:this.canClose.bind(this),applyViewPreset:this.applyViewPreset.bind(this),deleteViewPreset:this.deleteViewPreset.bind(this),discardViewPresetChanges:this.discardViewPresetChanges.bind(this),saveViewPreset:this.saveViewPreset.bind(this)},this.saveSubject=new o.Subject,this.closeSubject=new o.Subject,this.cancelSubject=new o.Subject,this.save$=this.saveSubject.asObservable(),this.close$=this.closeSubject.asObservable(),this.cancel$=this.cancelSubject.asObservable(),this.viewComponentStates=new Map,this.evaluationData={view:{api:this.api,components:{},inputParams:{},isValid:!1},keywords:{user:this.rxCurrentUserService.getName(),newLine:"\n"}}}init(e){this.configuration=e,this.clear();return((0,l.isString)(e.viewDefinitionName)?this.rxViewDefinitionCacheService.getViewDefinition(e.viewDefinitionName):(0,o.of)(e.viewDefinitionName)).pipe((0,r.switchMap)(e=>{const t=this.rxViewDefinitionParserService.getComponents(e,!0).map(e=>e.componentDefinition.type===a.RxViewComponentType.Action?this.rxViewActionRegistryService.getActionOwnerBundleId(e.componentDefinition.propertiesByName.name):this.rxViewComponentRegistryService.getComponentOwnerBundleId(e.componentDefinition.type));return(0,o.merge)(...t).pipe((0,r.filter)(Boolean),(0,r.distinct)(),(0,r.reduce)((e,t)=>(e.push(t),e),[]),(0,r.switchMap)(t=>t.length?this.rxBundleService.loadBundles(t,!0).pipe((0,r.map)(()=>e)):(0,o.of)(e)),(0,r.switchMap)(e=>this.rxViewComponentRegistryService.resolveAsyncDescriptors().pipe((0,r.map)(()=>e))))}),(0,r.switchMap)(e=>this.processViewDefinition(e)))}clear(){this.viewComponentStates.clear(),this.evaluationData.view.components={},this.evaluationData.view.inputParams={}}save(e=!1){return this.callRuntimeComponentsApi("save",e).pipe((0,r.tap)({complete:()=>this.saveSubject.next()}))}close(){const e=this.evaluateViewOutputParams();return this.closeSubject.next(e),(0,o.of)(e)}cancel(e){return e?(this.cancelSubject.next(),o.EMPTY):this.isDirtyView().pipe((0,r.switchMap)(e=>e?this.rxUtilityModalsService.confirmUnsavedChanges():(0,o.of)(!0)),(0,r.tap)(e=>{e&&this.cancelSubject.next()}),(0,r.switchMap)(e=>e?o.EMPTY:(0,o.throwError)(null)))}refresh(){return this.callRuntimeComponentsApi("refresh")}canClose(){let e=!0;return this.isDirtyView().subscribe(t=>e=!t),e}applyViewPreset(e,t,n){return this.callRuntimeComponentsApi("applyViewPreset",e,t,n).pipe((0,r.switchMap)(()=>o.EMPTY))}deleteViewPreset(e){return this.callRuntimeComponentsApi("deleteViewPreset",e).pipe((0,r.switchMap)(()=>o.EMPTY))}discardViewPresetChanges(e,t){return this.callRuntimeComponentsApi("discardViewPresetChanges",e,t).pipe((0,r.switchMap)(()=>o.EMPTY))}saveViewPreset(e){return this.callRuntimeComponentsApi("saveViewPreset",e).pipe((0,r.switchMap)(()=>o.EMPTY))}shareViewPreset(e){return this.callRuntimeComponentsApi("shareViewPreset",e).pipe((0,r.defaultIfEmpty)([]),(0,r.map)(e=>e.filter(e=>Boolean(null==e?void 0:e.data)).reduce((e,t)=>(e[t.guid]=t.data,e),{})))}triggerViewActions(e,t){let n=Promise.resolve();const i=this.viewComponentStates.get(e);if(i){const o=i.eventStates[t];if(o){const t=o.map(e=>({guid:e.guid,name:e.name,parameters:e.config}));n=this.viewComponentEventManager.executeActions(t,(t,n)=>{this.onViewComponentActionOutputChanged(e,t.guid,n)})}else this.rxLogService.warning(`Cannot trigger view actions. View Action Trigger Event ${t} not found.`)}else this.rxLogService.warning(`Cannot trigger view actions. View Component ${e} not found.`);return n}onViewComponentPropertyChanged({guid:e,propertyName:t,newValue:n}){const i=this.viewComponentStates.get(e);i.publicState[t]=n,this.updateEvaluationData(i),"api"!==t&&(0,l.some)(i.componentDescriptor.properties,{name:t})&&(this.updateComponentConfigProperty(t,n,i),this.updateViewComponentConfig(i));const o=i.dependentViewComponentsMap.get(t);let r;o?r=o.map(e=>this.viewComponentStates.get(e)):(r=this.getDependentViewComponentStates(n=>n.hasDependency(e,t)),i.dependentViewComponentsMap.set(t,r.map(e=>e.guid))),r.forEach(n=>{this.evaluateDependentProperties(n,e,t)}),r.map(e=>e.isDataViewComponent?this.getParentViewComponent(e):e).forEach(e=>{this.updateViewComponentConfig(e)}),"isValid"===t&&this.triggerViewValidation(n)}isDataViewComponentDefinition(e){return void 0!==e.configPropertyName}getViewInputParameters(){return this.configuration.inputParams}isDirtyView(){const e=new o.ReplaySubject(1);let t=!1;return this.isUserInteractionDetected?this.callRuntimeComponentsApi("isDirty").pipe((0,r.tap)(e=>t=e.some(({data:e})=>e))).subscribe({complete:()=>e.next(t)}):e.next(t),e.asObservable().pipe((0,r.take)(1))}triggerViewValidation(e){if(e&&(e=Array.from(this.viewComponentStates.values()).filter(e=>(0,l.has)(e.publicState,"isValid")).every(e=>e.publicState.isValid)),this.evaluationData.view.isValid!==e){let t;this.evaluationData.view.isValid=e,this.dependentOnViewIsValidPropViewComponentGuids?t=this.dependentOnViewIsValidPropViewComponentGuids.map(e=>this.viewComponentStates.get(e)):(t=this.getDependentViewComponentStates(e=>e.hasViewIsValidToken()),this.dependentOnViewIsValidPropViewComponentGuids=t.map(e=>e.guid)),t.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasViewIsValidToken())}),o.asyncScheduler.schedule(()=>{t.forEach(this.updateViewComponentConfig.bind(this))})}}getParentViewComponent(e){let t=e;for(;t.isDataViewComponent;)t=this.viewComponentStates.get(t.parentViewComponentGuid);return t}getDependentViewComponentStates(e){return Array.from(this.viewComponentStates.values()).filter(t=>{const n=(0,l.some)(t.expressions,e),i=(0,l.some)(t.eventStates,t=>(0,l.some)(t,t=>(0,l.some)(t.expressions,e)));return n||i})}updateViewComponentConfig(e){e.config$.next(this.buildComponentConfig(e))}buildComponentConfig(e){const t=Object.assign({},e.configState);return this.buildComponentChildDataConfig(e,t),t}buildComponentChildDataConfig(e,t={}){const n=e.childViewComponentGuids.map(e=>this.viewComponentStates.get(e)).filter(e=>Boolean(e)).filter(e=>e.isDataViewComponent),i=(0,l.groupBy)(n,e=>e.configPropertyName);Object.keys(i).forEach(e=>{t[e]=i[e].map(e=>{const t=Object.assign({},e.configState);return this.buildComponentChildDataConfig(e,t),t})})}onViewComponentActionOutputChanged(e,t,n){const i=this.viewComponentStates.get(e);if(i){i.eventStates[K].find(e=>e.guid===t).publicState.output=n,this.updateEvaluationData(i),this.evaluateDependentProperties(i,t,"output")}}evaluateViewOutputParams(){return this.viewDefinition.outputParams.reduce((e,t)=>(e[t.name]=this.rxExpressionEvaluatorService.tryEvaluate(t.source,this.evaluationData),e),{})}processViewDefinition(e){this.viewDefinition=this.rxObjectUtilsService.cloneDeep(e),this.rxViewDefinitionAdapterService.preProcessViewDefinition(this.viewDefinition);const t=this.rxRuntimeViewUtilsService.runAdaptersForComponents(this.viewDefinition);return(0,o.combineLatest)(t).pipe((0,r.switchMapTo)(o.EMPTY),(0,r.tap)({complete:()=>{this.rxViewDefinitionAdapterService.postProcessViewDefinition(this.viewDefinition),this.rxViewDefinitionParserService.getComponents(this.viewDefinition).forEach(this.processComponentDefinition.bind(this)),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasKeywordTokens())}),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>!e.hasTokens())}),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasViewTokens())}),this.viewComponentStates.forEach(e=>{this.evaluateComponentExpressions(e,e=>e.hasComponentTokens())}),this.viewComponentStates.forEach(e=>{this.updateViewComponentConfig(e)})}}))}processComponentDefinition(e){if(e.parentComponentDefinition){const t=e.componentDefinition,n=this.buildViewComponentState(e);n&&this.viewComponentStates.set(t.guid,n)}else{const t=(0,l.map)(e.componentDefinition.inputParams,"name"),n=(0,l.keys)(this.configuration.inputParams);n.length>0&&(0,l.every)(n,e=>/^\$[0-9]+\$$/.test(e))&&0===(0,l.intersection)(t,n).length?(0,l.forEach)(n,t=>{const n=Number(t.match(/^\$([0-9]+)\$$/)[1]),i=(0,l.get)(e.componentDefinition,`inputParams[${n}].name`);this.evaluationData.view.inputParams[i]=this.configuration.inputParams[t]}):(0,l.forEach)(t,e=>{this.evaluationData.view.inputParams[e]=this.configuration.inputParams[e]})}}buildViewComponentState(e){const t=e.componentDefinition,n=this.rxViewComponentRegistryService.get(t.type);if(n){const i={guid:t.guid,type:t.type,config$:new o.BehaviorSubject({}),expressions:[],eventStates:{[K]:[]},configState:{},publicState:{},isDataViewComponent:!1,configPropertyName:null,parentViewComponentGuid:e.parentComponentDefinition.guid,childViewComponentGuids:[],dependentViewComponentsMap:new Map,componentDescriptor:n};return this.isDataViewComponentDefinition(n)&&(i.isDataViewComponent=!0,i.configPropertyName=n.configPropertyName),(0,l.forOwn)(t.propertiesByName,(e,t)=>{const o=(0,l.find)(n.properties,e=>t===e.name),r=o&&o.enableExpressionEvaluation;r&&i.expressions.push(new Z(t,e,this.rxExpressionEvaluatorService,o.evaluatorService)),this.updateComponentConfigProperty(t,r?null:e,i)}),this.updateEvaluationData(i),this.isContainerComponentDefinition(t)&&(t.componentDefinitions.filter(e=>e.type===a.RxViewComponentType.Action).forEach(e=>{const t=this.buildViewComponentActionState(e);t&&i.eventStates[K].push(t)}),i.eventStates[K]=(0,l.sortBy)(i.eventStates[K],"index"),i.childViewComponentGuids=t.componentDefinitions.filter(e=>e.type!==a.RxViewComponentType.Action).map(e=>e.guid)),i}t.type!==a.RxViewComponentType.Action&&this.rxLogService.warning(`Cannot initialize view component. View Component Descriptor for ${t.type} not found.`)}buildViewComponentActionState(e){const t=this.rxViewActionRegistryService.get(e.propertiesByName.name);if(t){const n={guid:e.guid,name:e.propertiesByName.name,index:(0,l.toNumber)(e.propertiesByName.index)||0,config:{},publicState:{},expressions:[]};return Object.keys(e.propertiesByName||{}).filter(e=>"name"!==e).map(i=>{const o=(t.parameters||[]).find(e=>i===e.name),r=o&&o.enableExpressionEvaluation;r&&this.initializeActionExpressionForProperty(n,o.evaluatorService,i,e.propertiesByName[i]),this.updateActionConfigProperty(i,r?null:e.propertiesByName[i],n)}),n}}initializeActionExpressionForProperty(e,t,n,i){(0,l.isObject)(i)?(0,l.forIn)(i,(i,o)=>{this.initializeActionExpressionForProperty(e,t,`${n}.${o}`,i)}):e.expressions.push(new Z(n,i,this.rxExpressionEvaluatorService,t))}callRuntimeComponentsApi(e,...t){const n=new o.ReplaySubject(1),i=[],s=Array.from(this.viewComponentStates.values()).filter(t=>Boolean(t.publicState.api&&(0,l.isFunction)(t.publicState.api[e]))).map(n=>{let s=n.publicState.api[e].apply(null,t);return s&&s.then?s=(0,o.from)(s):s instanceof o.Observable||(s=(0,o.of)(s)),s.pipe((0,r.take)(1),(0,r.map)(e=>({guid:n.guid,data:e})),(0,r.tap)({error:e=>i.push(e)}),(0,r.catchError)(()=>o.EMPTY))});return(0,o.combineLatest)(s).subscribe({next:e=>n.next(e),complete:()=>(0,l.isEmpty)(i)?n.complete():n.error(i)}),n.asObservable()}evaluateComponentExpressions(e,t){e.expressions.filter(t).forEach(t=>{this.updateComponentConfigProperty(t.propertyName,this.evaluateExpression(t),e)}),this.updateEvaluationData(e),Object.keys(e.eventStates).forEach(n=>{e.eventStates[n].forEach(n=>{n.expressions.filter(t).forEach(t=>{this.updateActionConfigProperty(t.propertyName,this.evaluateExpression(t),n),this.updateEvaluationData(e)})})})}evaluateDependentProperties(e,t,n){this.evaluateComponentExpressions(e,e=>e.hasDependency(t,n))}evaluateExpression(e){let t;try{t=e.evaluate(this.evaluationData)}catch(n){t=null,this.rxNotificationService.addErrorMessage(n.message,"")}return t}updateComponentConfigProperty(e,t,n){const i=this.rxViewComponentRegistryService.get(n.type),o=(0,l.find)(i.properties,{name:e});n.configState[e]=this.processPropertyValue(t,o)}updateActionConfigProperty(e,t,n){const i=this.rxViewActionRegistryService.get(n.name);let o=(0,l.find)(i.parameters,{name:e});if(!o&&(0,l.includes)(e,".")){const t=e.split(".")[0];o=(0,l.find)(i.parameters,{name:t})}(0,l.set)(n.config,e,this.processPropertyValue(t,o))}updateEvaluationData(e){this.evaluationData.view.components[e.guid]=Object.assign(Object.assign({},e.configState),e.publicState),Object.keys(e.eventStates).forEach(t=>{e.eventStates[t].forEach(e=>{this.evaluationData.view.components[e.guid]=e.publicState})})}processPropertyValue(e,t){return t&&t.type&&!(0,l.isNil)(e)&&(t.type===a.ViewComponentPropertyType.Boolean?e=!(0,l.includes)(["0","false"],e)&&Boolean(e):t.type===a.ViewComponentPropertyType.Number?(e=Number(e),Number.isNaN(e)&&(e=null)):t.type===a.ViewComponentPropertyType.String?e=String(e):[a.ViewComponentPropertyType.Array,a.ViewComponentPropertyType.Object].includes(t.type)&&(e=this.rxJsonParserService.tryParseJson(e))),e}isContainerComponentDefinition(e){return void 0!==e.componentDefinitions}}ne.\u0275fac=function(e){return new(e||ne)(i["\u0275\u0275inject"](p.RxBundleService),i["\u0275\u0275inject"](p.RxGlobalCacheService),i["\u0275\u0275inject"](a.RxViewComponentRegistryService),i["\u0275\u0275inject"](te),i["\u0275\u0275inject"](a.RxViewDefinitionParserService),i["\u0275\u0275inject"](a.RxViewDefinitionService),i["\u0275\u0275inject"](ee),i["\u0275\u0275inject"](a.RxExpressionEvaluatorService),i["\u0275\u0275inject"](p.RxNotificationService),i["\u0275\u0275inject"](a.RxViewActionRegistryService),i["\u0275\u0275inject"](p.RxLogService),i["\u0275\u0275inject"](J),i["\u0275\u0275inject"](m.RxUtilityModalsService),i["\u0275\u0275inject"](a.RxViewDefinitionCacheService),i["\u0275\u0275inject"](c.RxObjectUtilsService),i["\u0275\u0275inject"](c.RxJsonParserService),i["\u0275\u0275inject"](p.RxCurrentUserService))},ne.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ne,factory:ne.\u0275fac});class ie{constructor(){this.activeRuntimeViews=[]}register(e){this.activeRuntimeViews.includes(e)||this.activeRuntimeViews.push(e)}getAll(){return this.activeRuntimeViews}unregister(e){(0,l.pull)(this.activeRuntimeViews,e)}}ie.\u0275fac=function(e){return new(e||ie)},ie.\u0275prov=i["\u0275\u0275defineInjectable"]({token:ie,factory:ie.\u0275fac,providedIn:"root"});class oe{constructor(e){this.runtimeViewCanvasService=e,this.componentPropertyChanged=new i.EventEmitter,this.destroy$=new o.Subject}ngOnInit(){this.runtimeViewCanvasService.componentPropertyChanged$.pipe((0,r.takeUntil)(this.destroy$)).subscribe(e=>{this.componentPropertyChanged.emit(e)})}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.unsubscribe()}}oe.\u0275fac=function(e){return new(e||oe)(i["\u0275\u0275directiveInject"](X))},oe.\u0275cmp=i["\u0275\u0275defineComponent"]({type:oe,selectors:[["rx-runtime-view-canvas"]],inputs:{layout:"layout"},outputs:{componentPropertyChanged:"componentPropertyChanged"},features:[i["\u0275\u0275ProvidersFeature"]([X])],decls:1,vars:1,consts:[["class","root-item",3,"layout",4,"ngIf"],[1,"root-item",3,"layout"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,O,1,1,"rx-runtime-view-canvas-item",0),2&e&&i["\u0275\u0275property"]("ngIf",t.layout)},directives:[d.NgIf,Y],encapsulation:2});class re{constructor(e,t,n,r,s,a,c,l,d){this.runtimeViewModelApi=e,this.rxRecordDefinitionCacheService=t,this.runtimeViewLayoutService=n,this.runtimeViewModel=r,this.rxProcessDefinitionCacheService=s,this.rxRuntimeViewRegistryService=a,this.rxViewDefinitionCacheService=c,this.rxAssociationDefinitionCacheService=l,this.rxViewDefinitionService=d,this.destroyed$=new o.ReplaySubject(1),this.save=new i.EventEmitter,this.closeView=new i.EventEmitter,this.cancelView=new i.EventEmitter,this.beforeLoad=new i.EventEmitter,this.afterLoad=new i.EventEmitter,this.rxAssociationDefinitionCacheService.registerConsumer(this.destroyed$),this.rxProcessDefinitionCacheService.registerConsumer(this.destroyed$),this.rxRecordDefinitionCacheService.registerConsumer(this.destroyed$),this.rxViewDefinitionCacheService.registerConsumer(this.destroyed$)}onTrigger(){this.runtimeViewModel.isUserInteractionDetected=!0}ngOnInit(){this.init(),this.runtimeViewModel.cancel$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(()=>this.cancelView.emit()),this.runtimeViewModel.save$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(()=>this.save.emit()),this.runtimeViewModel.close$.pipe((0,r.takeUntil)(this.destroyed$)).subscribe(e=>this.closeView.emit(e))}ngOnChanges(e){e.configuration.currentValue&&e.configuration.previousValue&&e.configuration.currentValue.viewDefinitionName!==e.configuration.previousValue.viewDefinitionName&&(this.runtimeViewModelApi.clear(),this.runtimeViewLayoutService.clear(),this.configuration=e.configuration.currentValue,this.init())}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete(),this.rxRuntimeViewRegistryService.unregister(this.runtimeViewModel)}init(){this.beforeLoad.emit(),this.runtimeViewModel.init(this.configuration).subscribe({complete:()=>{this.runtimeViewModelApi.init(this.runtimeViewModel),this.runtimeViewLayoutService.init(this.runtimeViewModel,this.runtimeViewModelApi),this.hostClass=this.runtimeViewModel.viewDefinition.styles||"",this.rxViewDefinitionService.isPageView(this.runtimeViewModel.viewDefinition)&&(this.hostClass=this.hostClass+" rx-page-view"),this.viewDefinitionGuid=this.runtimeViewModel.viewDefinition.guid,this.runtimeViewModel.isUserInteractionDetected=!1,this.afterLoad.emit()}}),this.configuration.onRegisterApi&&this.configuration.onRegisterApi(this.runtimeViewModel.api),this.rxRuntimeViewRegistryService.register(this.runtimeViewModel)}}re.\u0275fac=function(e){return new(e||re)(i["\u0275\u0275directiveInject"](H),i["\u0275\u0275directiveInject"](s.RxRecordDefinitionCacheService),i["\u0275\u0275directiveInject"](q),i["\u0275\u0275directiveInject"](ne),i["\u0275\u0275directiveInject"](h.RxProcessDefinitionCacheService),i["\u0275\u0275directiveInject"](ie),i["\u0275\u0275directiveInject"](a.RxViewDefinitionCacheService),i["\u0275\u0275directiveInject"](u.RxAssociationDefinitionCacheService),i["\u0275\u0275directiveInject"](a.RxViewDefinitionService))},re.\u0275cmp=i["\u0275\u0275defineComponent"]({type:re,selectors:[["rx-runtime-view"]],hostVars:3,hostBindings:function(e,t){1&e&&i["\u0275\u0275listener"]("focusin",function(){return t.onTrigger()}),2&e&&(i["\u0275\u0275attribute"]("rx-view-definition-guid",t.viewDefinitionGuid),i["\u0275\u0275classMap"](t.hostClass))},inputs:{configuration:"configuration"},outputs:{save:"save",closeView:"closeView",cancelView:"cancelView",beforeLoad:"beforeLoad",afterLoad:"afterLoad"},features:[i["\u0275\u0275ProvidersFeature"]([ne,H,q]),i["\u0275\u0275NgOnChangesFeature"]],decls:1,vars:1,consts:[[3,"layout","componentPropertyChanged",4,"ngIf"],[3,"layout","componentPropertyChanged"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,j,1,1,"rx-runtime-view-canvas",0),2&e&&i["\u0275\u0275property"]("ngIf",t.runtimeViewLayoutService.layout)},directives:[d.NgIf,oe],styles:[".rx-page-view[_nghost-%COMP%]     .outlet-padding{padding:0}.rx-page-view[_nghost-%COMP%]     rx-runtime-view-canvas-item{height:100%}"]});class se{constructor(){this.customCssClasses="",this.autoFill=new i.EventEmitter,this.autoScroll=new i.EventEmitter,this.hidden=new i.EventEmitter,this.isComponentHidden=!1,this.destroyed$=new o.ReplaySubject(1),this.propertyChanged=new i.EventEmitter}get isHidden(){return this.isComponentHidden}set isHidden(e){this.hidden.emit(e),this.isComponentHidden=Boolean(e)}ngOnInit(){this.config.pipe((0,r.pluck)("styles"),(0,r.takeUntil)(this.destroyed$)).subscribe(e=>{this.customCssClasses=e||"",this.autoFill.emit(this.customCssClasses.includes("rx-auto-fill")),this.autoScroll.emit(this.customCssClasses.includes("rx-auto-scroll"))})}notifyPropertyChanged(e,t,n){this.propertyChanged.next({guid:this.guid,propertyName:e,newValue:t,oldValue:n})}triggerViewActions(e=this.guid,t=K){return this.runtimeViewModelApi.triggerViewActions(e,t)}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}}se.\u0275fac=function(e){return new(e||se)},se.\u0275dir=i["\u0275\u0275defineDirective"]({type:se,hostVars:4,hostBindings:function(e,t){2&e&&(i["\u0275\u0275hostProperty"]("hidden",t.isHidden),i["\u0275\u0275attribute"]("rx-view-component-id",t.guid),i["\u0275\u0275classMap"](t.customCssClasses))},outputs:{autoFill:"autoFill",autoScroll:"autoScroll",hidden:"hidden"}});class ae{constructor(e,t){this.runtimeViewCanvasItemService=e,this.componentFactoryResolver=t,this.name=a.RX_VIEW_DEFINITION.defaultOutletName}ngOnInit(){this.runtimeViewCanvasItemService.registerOutlet(this.name,this.container,this.componentFactoryResolver.resolveComponentFactory(Q))}}ae.\u0275fac=function(e){return new(e||ae)(i["\u0275\u0275directiveInject"](G),i["\u0275\u0275directiveInject"](i.ComponentFactoryResolver))},ae.\u0275cmp=i["\u0275\u0275defineComponent"]({type:ae,selectors:[["rx-runtime-view-canvas-outlet"]],viewQuery:function(e,t){if(1&e&&i["\u0275\u0275viewQuery"](b,7,i.ViewContainerRef),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.container=e.first)}},inputs:{name:"name"},decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&i["\u0275\u0275elementContainer"](0,null,0)},encapsulation:2});class ce{}ce.\u0275fac=function(e){return new(e||ce)},ce.\u0275mod=i["\u0275\u0275defineNgModule"]({type:ce,declarations:[oe,Y,Q,ae],imports:[d.CommonModule,g.FormsModule],exports:[ae,oe,Y,Q]}),ce.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[d.CommonModule,g.FormsModule]]});class le{constructor(e,t,n,i,o,r){this.rxRuntimeViewRegistryService=e,this.rxUtilityModalsService=t,this.translateService=n,this.changeDetector=i,this.activeModalRef=o,this.dockedPanelContext=r,this.isBlade=!1,this.context=r||o,this.isBlade=Boolean(r);const s=this.context.getData();this.configuration=s.configuration,this.title=s.title,this.notification=s.notification,this.isCancellable=s.isCancellable,this.closeLabel=n.instant("com.bmc.arsys.rx.client.common.close.label")}onCancelView(){this.context.dismiss(null)}closeModal(){this.context.dismiss(f.DismissReasons.CLOSE_BTN)}onClose(e){this.context.close(e)}onBeforeLoad(){this.busySubscription=o.NEVER.subscribe(),this.changeDetector.detectChanges()}onAfterLoad(){var e;null===(e=this.busySubscription)||void 0===e||e.unsubscribe()}}le.\u0275fac=function(e){return new(e||le)(i["\u0275\u0275directiveInject"](ie),i["\u0275\u0275directiveInject"](m.RxUtilityModalsService),i["\u0275\u0275directiveInject"](v.TranslateService),i["\u0275\u0275directiveInject"](i.ChangeDetectorRef),i["\u0275\u0275directiveInject"](f.ActiveModalRef,8),i["\u0275\u0275directiveInject"](f.DockedPanelContext,8))},le.\u0275cmp=i["\u0275\u0275defineComponent"]({type:le,selectors:[["rx-runtime-view-modal"]],decls:8,vars:10,consts:[[4,"ngIf"],["modalHeader",""],["class","pl-4 pt-4",3,"config",4,"ngIf"],[3,"ngClass"],[1,"position-relative"],[3,"options"],[3,"configuration","cancelView","closeView","beforeLoad","afterLoad"],["class","dp-header",4,"ngIf","ngIfElse"],[1,"dp-header"],[1,"dp-title"],["class","close dp-close","rx-id","x-button",3,"click",4,"ngIf"],["rx-id","x-button",1,"close","dp-close",3,"click"],[1,"modal-header"],[1,"modal-title"],[1,"pl-4","pt-4",3,"config"]],template:function(e,t){1&e&&(i["\u0275\u0275template"](0,k,2,2,"ng-container",0),i["\u0275\u0275template"](1,F,4,2,"ng-template",null,1,i["\u0275\u0275templateRefExtractor"]),i["\u0275\u0275template"](3,T,1,3,"adapt-alert",2),i["\u0275\u0275elementStart"](4,"div",3),i["\u0275\u0275elementStart"](5,"div",4),i["\u0275\u0275element"](6,"rx-busy-indicator",5),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"rx-runtime-view",6),i["\u0275\u0275listener"]("cancelView",function(){return t.onCancelView()})("closeView",function(e){return t.onClose(e)})("beforeLoad",function(){return t.onBeforeLoad()})("afterLoad",function(){return t.onAfterLoad()}),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("ngIf",t.title||t.isCancellable),i["\u0275\u0275advance"](3),i["\u0275\u0275property"]("ngIf",t.notification),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngClass",i["\u0275\u0275pureFunction2"](5,L,!t.isBlade,t.isBlade)),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("options",i["\u0275\u0275pureFunction1"](8,_,t.busySubscription)),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("configuration",t.configuration))},directives:[d.NgIf,d.NgClass,m.RxBusyIndicatorComponent,re,f.AdaptAlertComponent],styles:["[_nghost-%COMP%]{height:100%;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{min-height:34px}.dp-header[_ngcontent-%COMP%]{flex-direction:row!important}.dp-content[_ngcontent-%COMP%] > rx-runtime-view[_ngcontent-%COMP%]{height:100%}"]});const de={actions:{save:"rx-runtime-view-save",close:"rx-runtime-view-close",cancel:"rx-runtime-view-cancel"}};class pe{}pe.\u0275fac=function(e){return new(e||pe)},pe.\u0275mod=i["\u0275\u0275defineNgModule"]({type:pe,declarations:[re,W,le],imports:[d.CommonModule,ce,v.TranslateModule,f.AdaptAlertModule,m.RxBusyIndicatorModule],exports:[ce,re,W,le]}),pe.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[d.CommonModule,ce,v.TranslateModule,f.AdaptAlertModule,m.RxBusyIndicatorModule],ce]})},"./node_modules/angular2-signaturepad/fesm2015/angular2-signaturepad.js":(e,t,n)=>{"use strict";n.r(t),n.d(t,{SignaturePad:()=>r,SignaturePadModule:()=>s});var i=n("./node_modules/@angular/core/fesm2015/core.js"),o=n("./node_modules/signature_pad/dist/signature_pad.mjs");class r{constructor(e){this.elementRef=e,this.options=this.options||{},this.onBeginEvent=new i.EventEmitter,this.onEndEvent=new i.EventEmitter}ngAfterContentInit(){const e=this.elementRef.nativeElement.querySelector("canvas");this.options.canvasHeight&&(e.height=this.options.canvasHeight),this.options.canvasWidth&&(e.width=this.options.canvasWidth),this.signaturePad=new o.default(e,this.options),this.signaturePad.onBegin=this.onBegin.bind(this),this.signaturePad.onEnd=this.onEnd.bind(this)}ngOnDestroy(){const e=this.elementRef.nativeElement.querySelector("canvas");e.width=0,e.height=0}resizeCanvas(){const e=Math.max(window.devicePixelRatio||1,1),t=this.signaturePad.canvas;t.width=t.offsetWidth*e,t.height=t.offsetHeight*e,t.getContext("2d").scale(e,e),this.signaturePad.clear()}toData(){return this.signaturePad?this.signaturePad.toData():[]}fromData(e){this.signaturePad.fromData(e)}toDataURL(e,t){return this.signaturePad.toDataURL(e,t)}fromDataURL(e,t={}){!t.hasOwnProperty("height")&&this.options.canvasHeight&&(t.height=this.options.canvasHeight),!t.hasOwnProperty("width")&&this.options.canvasWidth&&(t.width=this.options.canvasWidth),this.signaturePad.fromDataURL(e,t)}clear(){this.signaturePad.clear()}isEmpty(){return this.signaturePad.isEmpty()}off(){this.signaturePad.off()}on(){this.signaturePad.on()}set(e,t){switch(e){case"canvasHeight":this.signaturePad.canvas.height=t;break;case"canvasWidth":this.signaturePad.canvas.width=t;break;default:this.signaturePad[e]=t}}onBegin(){this.onBeginEvent.emit(!0)}onEnd(){this.onEndEvent.emit(!0)}queryPad(){return this.signaturePad}}r.\u0275fac=function(e){return new(e||r)(i["\u0275\u0275directiveInject"](i.ElementRef))},r.\u0275cmp=i["\u0275\u0275defineComponent"]({type:r,selectors:[["signature-pad"]],inputs:{options:"options"},outputs:{onBeginEvent:"onBeginEvent",onEndEvent:"onEndEvent"},decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"canvas")},encapsulation:2}),r.ctorParameters=()=>[{type:i.ElementRef}],r.propDecorators={options:[{type:i.Input}],onBeginEvent:[{type:i.Output}],onEndEvent:[{type:i.Output}]};class s{}s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=i["\u0275\u0275defineNgModule"]({type:s}),s.\u0275inj=i["\u0275\u0275defineInjector"]({imports:[[]]}),("undefined"==typeof ngJitMode||ngJitMode)&&i["\u0275\u0275setNgModuleScope"](s,{declarations:[r],exports:[r]})},"./node_modules/signature_pad/dist/signature_pad.mjs":(e,t,n)=>{"use strict";function i(e,t,n){this.x=e,this.y=t,this.time=n||(new Date).getTime()}function o(e,t,n,i){this.startPoint=e,this.control1=t,this.control2=n,this.endPoint=i}function r(e,t){var n=this,i=t||{};this.velocityFilterWeight=i.velocityFilterWeight||.7,this.minWidth=i.minWidth||.5,this.maxWidth=i.maxWidth||2.5,this.throttle="throttle"in i?i.throttle:16,this.minDistance="minDistance"in i?i.minDistance:5,this.throttle?this._strokeMoveUpdate=function(e,t,n){var i,o,r,s=null,a=0;n||(n={});var c=function(){a=!1===n.leading?0:Date.now(),s=null,r=e.apply(i,o),s||(i=o=null)};return function(){var l=Date.now();a||!1!==n.leading||(a=l);var d=t-(l-a);return i=this,o=arguments,d<=0||d>t?(s&&(clearTimeout(s),s=null),a=l,r=e.apply(i,o),s||(i=o=null)):s||!1===n.trailing||(s=setTimeout(c,d)),r}}(r.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=r.prototype._strokeUpdate,this.dotSize=i.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=i.penColor||"black",this.backgroundColor=i.backgroundColor||"rgba(0,0,0,0)",this.onBegin=i.onBegin,this.onEnd=i.onEnd,this._canvas=e,this._ctx=e.getContext("2d"),this.clear(),this._handleMouseDown=function(e){1===e.which&&(n._mouseButtonDown=!0,n._strokeBegin(e))},this._handleMouseMove=function(e){n._mouseButtonDown&&n._strokeMoveUpdate(e)},this._handleMouseUp=function(e){1===e.which&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(e))},this._handleTouchStart=function(e){if(1===e.targetTouches.length){var t=e.changedTouches[0];n._strokeBegin(t)}},this._handleTouchMove=function(e){e.preventDefault();var t=e.targetTouches[0];n._strokeMoveUpdate(t)},this._handleTouchEnd=function(e){e.target===n._canvas&&(e.preventDefault(),n._strokeEnd(e))},this.on()}n.r(t),n.d(t,{default:()=>s}),i.prototype.velocityFrom=function(e){return this.time!==e.time?this.distanceTo(e)/(this.time-e.time):1},i.prototype.distanceTo=function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},i.prototype.equals=function(e){return this.x===e.x&&this.y===e.y&&this.time===e.time},o.prototype.length=function(){for(var e=0,t=void 0,n=void 0,i=0;i<=10;i+=1){var o=i/10,r=this._point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),s=this._point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var a=r-t,c=s-n;e+=Math.sqrt(a*a+c*c)}t=r,n=s}return e},o.prototype._point=function(e,t,n,i,o){return t*(1-e)*(1-e)*(1-e)+3*n*(1-e)*(1-e)*e+3*i*(1-e)*e*e+o*e*e*e},r.prototype.clear=function(){var e=this._ctx,t=this._canvas;e.fillStyle=this.backgroundColor,e.clearRect(0,0,t.width,t.height),e.fillRect(0,0,t.width,t.height),this._data=[],this._reset(),this._isEmpty=!0},r.prototype.fromDataURL=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=new Image,o=n.ratio||window.devicePixelRatio||1,r=n.width||this._canvas.width/o,s=n.height||this._canvas.height/o;this._reset(),i.src=e,i.onload=function(){t._ctx.drawImage(i,0,0,r,s)},this._isEmpty=!1},r.prototype.toDataURL=function(e){var t;if("image/svg+xml"===e)return this._toSVG();for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(t=this._canvas).toDataURL.apply(t,[e].concat(i))},r.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()},r.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)},r.prototype.isEmpty=function(){return this._isEmpty},r.prototype._strokeBegin=function(e){this._data.push([]),this._reset(),this._strokeUpdate(e),"function"==typeof this.onBegin&&this.onBegin(e)},r.prototype._strokeUpdate=function(e){var t=e.clientX,n=e.clientY,i=this._createPoint(t,n),o=this._data[this._data.length-1],r=o&&o[o.length-1],s=r&&i.distanceTo(r)<this.minDistance;if(!r||!s){var a=this._addPoint(i),c=a.curve,l=a.widths;c&&l&&this._drawCurve(c,l.start,l.end),this._data[this._data.length-1].push({x:i.x,y:i.y,time:i.time,color:this.penColor})}},r.prototype._strokeEnd=function(e){var t=this.points.length>2,n=this.points[0];if(!t&&n&&this._drawDot(n),n){var i=this._data[this._data.length-1],o=i[i.length-1];n.equals(o)||i.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}"function"==typeof this.onEnd&&this.onEnd(e)},r.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)},r.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)},r.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor},r.prototype._createPoint=function(e,t,n){var o=this._canvas.getBoundingClientRect();return new i(e-o.left,t-o.top,n||(new Date).getTime())},r.prototype._addPoint=function(e){var t=this.points;if(t.push(e),t.length>2){3===t.length&&t.unshift(t[0]);var n=this._calculateCurveControlPoints(t[0],t[1],t[2]).c2,i=this._calculateCurveControlPoints(t[1],t[2],t[3]).c1,r=new o(t[1],n,i,t[2]),s=this._calculateCurveWidths(r);return t.shift(),{curve:r,widths:s}}return{}},r.prototype._calculateCurveControlPoints=function(e,t,n){var o=e.x-t.x,r=e.y-t.y,s=t.x-n.x,a=t.y-n.y,c=(e.x+t.x)/2,l=(e.y+t.y)/2,d=(t.x+n.x)/2,p=(t.y+n.y)/2,m=Math.sqrt(o*o+r*r),u=Math.sqrt(s*s+a*a),h=u/(m+u),g=d+(c-d)*h,v=p+(l-p)*h,f=t.x-g,b=t.y-v;return{c1:new i(c+f,l+b),c2:new i(d+f,p+b)}},r.prototype._calculateCurveWidths=function(e){var t=e.startPoint,n=e.endPoint,i={start:null,end:null},o=this.velocityFilterWeight*n.velocityFrom(t)+(1-this.velocityFilterWeight)*this._lastVelocity,r=this._strokeWidth(o);return i.start=this._lastWidth,i.end=r,this._lastVelocity=o,this._lastWidth=r,i},r.prototype._strokeWidth=function(e){return Math.max(this.maxWidth/(e+1),this.minWidth)},r.prototype._drawPoint=function(e,t,n){var i=this._ctx;i.moveTo(e,t),i.arc(e,t,n,0,2*Math.PI,!1),this._isEmpty=!1},r.prototype._drawCurve=function(e,t,n){var i=this._ctx,o=n-t,r=Math.floor(e.length());i.beginPath();for(var s=0;s<r;s+=1){var a=s/r,c=a*a,l=c*a,d=1-a,p=d*d,m=p*d,u=m*e.startPoint.x;u+=3*p*a*e.control1.x,u+=3*d*c*e.control2.x,u+=l*e.endPoint.x;var h=m*e.startPoint.y;h+=3*p*a*e.control1.y,h+=3*d*c*e.control2.y,h+=l*e.endPoint.y;var g=t+l*o;this._drawPoint(u,h,g)}i.closePath(),i.fill()},r.prototype._drawDot=function(e){var t=this._ctx,n="function"==typeof this.dotSize?this.dotSize():this.dotSize;t.beginPath(),this._drawPoint(e.x,e.y,n),t.closePath(),t.fill()},r.prototype._fromData=function(e,t,n){for(var o=0;o<e.length;o+=1){var r=e[o];if(r.length>1)for(var s=0;s<r.length;s+=1){var a=r[s],c=new i(a.x,a.y,a.time),l=a.color;if(0===s)this.penColor=l,this._reset(),this._addPoint(c);else if(s!==r.length-1){var d=this._addPoint(c),p=d.curve,m=d.widths;p&&m&&t(p,m,l)}}else this._reset(),n(r[0])}},r.prototype._toSVG=function(){var e=this,t=this._data,n=this._canvas,i=Math.max(window.devicePixelRatio||1,1),o=n.width/i,r=n.height/i,s=document.createElementNS("http://www.w3.org/2000/svg","svg");s.setAttributeNS(null,"width",n.width),s.setAttributeNS(null,"height",n.height),this._fromData(t,function(e,t,n){var i=document.createElement("path");if(!(isNaN(e.control1.x)||isNaN(e.control1.y)||isNaN(e.control2.x)||isNaN(e.control2.y))){var o="M "+e.startPoint.x.toFixed(3)+","+e.startPoint.y.toFixed(3)+" C "+e.control1.x.toFixed(3)+","+e.control1.y.toFixed(3)+" "+e.control2.x.toFixed(3)+","+e.control2.y.toFixed(3)+" "+e.endPoint.x.toFixed(3)+","+e.endPoint.y.toFixed(3);i.setAttribute("d",o),i.setAttribute("stroke-width",(2.25*t.end).toFixed(3)),i.setAttribute("stroke",n),i.setAttribute("fill","none"),i.setAttribute("stroke-linecap","round"),s.appendChild(i)}},function(t){var n=document.createElement("circle"),i="function"==typeof e.dotSize?e.dotSize():e.dotSize;n.setAttribute("r",i),n.setAttribute("cx",t.x),n.setAttribute("cy",t.y),n.setAttribute("fill",t.color),s.appendChild(n)});var a='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 '+o+" "+r+'" width="'+o+'" height="'+r+'">',c=s.innerHTML;if(void 0===c){var l=document.createElement("dummy"),d=s.childNodes;l.innerHTML="";for(var p=0;p<d.length;p+=1)l.appendChild(d[p].cloneNode(!0));c=l.innerHTML}return"data:image/svg+xml;base64,"+btoa(a+c+"</svg>")},r.prototype.fromData=function(e){var t=this;this.clear(),this._fromData(e,function(e,n){return t._drawCurve(e,n.start,n.end)},function(e){return t._drawDot(e)}),this._data=e},r.prototype.toData=function(){return this._data};const s=r}}]);
//# sourceMappingURL=libs_com-igsl-berlintes_src_index_ts.js.map